var $S=Object.defineProperty;var US=(e,t,n)=>t in e?$S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var it=(e,t,n)=>(US(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Jr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function HS(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(t,i);return new o}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var xv={exports:{}},au={},_v={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var es=Symbol.for("react.element"),WS=Symbol.for("react.portal"),XS=Symbol.for("react.fragment"),YS=Symbol.for("react.strict_mode"),qS=Symbol.for("react.profiler"),QS=Symbol.for("react.provider"),KS=Symbol.for("react.context"),ZS=Symbol.for("react.forward_ref"),JS=Symbol.for("react.suspense"),ew=Symbol.for("react.memo"),tw=Symbol.for("react.lazy"),Cm=Symbol.iterator;function nw(e){return e===null||typeof e!="object"?null:(e=Cm&&e[Cm]||e["@@iterator"],typeof e=="function"?e:null)}var Sv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wv=Object.assign,Ev={};function zo(e,t,n){this.props=e,this.context=t,this.refs=Ev,this.updater=n||Sv}zo.prototype.isReactComponent={};zo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};zo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Tv(){}Tv.prototype=zo.prototype;function hd(e,t,n){this.props=e,this.context=t,this.refs=Ev,this.updater=n||Sv}var pd=hd.prototype=new Tv;pd.constructor=hd;wv(pd,zo.prototype);pd.isPureReactComponent=!0;var Nm=Array.isArray,bv=Object.prototype.hasOwnProperty,md={current:null},kv={key:!0,ref:!0,__self:!0,__source:!0};function Av(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)bv.call(t,r)&&!kv.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:es,type:e,key:o,ref:a,props:i,_owner:md.current}}function rw(e,t){return{$$typeof:es,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function vd(e){return typeof e=="object"&&e!==null&&e.$$typeof===es}function iw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Fm=/\/+/g;function Ec(e,t){return typeof e=="object"&&e!==null&&e.key!=null?iw(""+e.key):t.toString(36)}function ll(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case es:case WS:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Ec(a,0):r,Nm(i)?(n="",e!=null&&(n=e.replace(Fm,"$&/")+"/"),ll(i,t,n,"",function(u){return u})):i!=null&&(vd(i)&&(i=rw(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Fm,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",Nm(e))for(var s=0;s<e.length;s++){o=e[s];var l=r+Ec(o,s);a+=ll(o,t,n,l,i)}else if(l=nw(e),typeof l=="function")for(e=l.call(e),s=0;!(o=e.next()).done;)o=o.value,l=r+Ec(o,s++),a+=ll(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Gs(e,t,n){if(e==null)return e;var r=[],i=0;return ll(e,r,"","",function(o){return t.call(n,o,i++)}),r}function ow(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var un={current:null},ul={transition:null},aw={ReactCurrentDispatcher:un,ReactCurrentBatchConfig:ul,ReactCurrentOwner:md};lt.Children={map:Gs,forEach:function(e,t,n){Gs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Gs(e,function(){t++}),t},toArray:function(e){return Gs(e,function(t){return t})||[]},only:function(e){if(!vd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};lt.Component=zo;lt.Fragment=XS;lt.Profiler=qS;lt.PureComponent=hd;lt.StrictMode=YS;lt.Suspense=JS;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aw;lt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=wv({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=md.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)bv.call(t,l)&&!kv.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:es,type:e.type,key:i,ref:o,props:r,_owner:a}};lt.createContext=function(e){return e={$$typeof:KS,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:QS,_context:e},e.Consumer=e};lt.createElement=Av;lt.createFactory=function(e){var t=Av.bind(null,e);return t.type=e,t};lt.createRef=function(){return{current:null}};lt.forwardRef=function(e){return{$$typeof:ZS,render:e}};lt.isValidElement=vd;lt.lazy=function(e){return{$$typeof:tw,_payload:{_status:-1,_result:e},_init:ow}};lt.memo=function(e,t){return{$$typeof:ew,type:e,compare:t===void 0?null:t}};lt.startTransition=function(e){var t=ul.transition;ul.transition={};try{e()}finally{ul.transition=t}};lt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};lt.useCallback=function(e,t){return un.current.useCallback(e,t)};lt.useContext=function(e){return un.current.useContext(e)};lt.useDebugValue=function(){};lt.useDeferredValue=function(e){return un.current.useDeferredValue(e)};lt.useEffect=function(e,t){return un.current.useEffect(e,t)};lt.useId=function(){return un.current.useId()};lt.useImperativeHandle=function(e,t,n){return un.current.useImperativeHandle(e,t,n)};lt.useInsertionEffect=function(e,t){return un.current.useInsertionEffect(e,t)};lt.useLayoutEffect=function(e,t){return un.current.useLayoutEffect(e,t)};lt.useMemo=function(e,t){return un.current.useMemo(e,t)};lt.useReducer=function(e,t,n){return un.current.useReducer(e,t,n)};lt.useRef=function(e){return un.current.useRef(e)};lt.useState=function(e){return un.current.useState(e)};lt.useSyncExternalStore=function(e,t,n){return un.current.useSyncExternalStore(e,t,n)};lt.useTransition=function(){return un.current.useTransition()};lt.version="18.2.0";_v.exports=lt;var Nn=_v.exports;const sw=dd(Nn);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lw=Nn,uw=Symbol.for("react.element"),cw=Symbol.for("react.fragment"),fw=Object.prototype.hasOwnProperty,dw=lw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hw={key:!0,ref:!0,__self:!0,__source:!0};function Cv(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)fw.call(t,r)&&!hw.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:uw,type:e,key:o,ref:a,props:i,_owner:dw.current}}au.Fragment=cw;au.jsx=Cv;au.jsxs=Cv;xv.exports=au;var ee=xv.exports,of={},Nv={exports:{}},Fn={},Fv={exports:{}},Pv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(se,be){var ze=se.length;se.push(be);e:for(;0<ze;){var qe=ze-1>>>1,nt=se[qe];if(0<i(nt,be))se[qe]=be,se[ze]=nt,ze=qe;else break e}}function n(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var be=se[0],ze=se.pop();if(ze!==be){se[0]=ze;e:for(var qe=0,nt=se.length,qt=nt>>>1;qe<qt;){var pt=2*(qe+1)-1,Qt=se[pt],Dt=pt+1,Vt=se[Dt];if(0>i(Qt,ze))Dt<nt&&0>i(Vt,Qt)?(se[qe]=Vt,se[Dt]=ze,qe=Dt):(se[qe]=Qt,se[pt]=ze,qe=pt);else if(Dt<nt&&0>i(Vt,ze))se[qe]=Vt,se[Dt]=ze,qe=Dt;else break e}}return be}function i(se,be){var ze=se.sortIndex-be.sortIndex;return ze!==0?ze:se.id-be.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();e.unstable_now=function(){return a.now()-s}}var l=[],u=[],h=1,f=null,d=3,m=!1,k=!1,R=!1,de=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(se){for(var be=n(u);be!==null;){if(be.callback===null)r(u);else if(be.startTime<=se)r(u),be.sortIndex=be.expirationTime,t(l,be);else break;be=n(u)}}function V(se){if(R=!1,F(se),!k)if(n(l)!==null)k=!0,pe(W);else{var be=n(u);be!==null&&Ge(V,be.startTime-se)}}function W(se,be){k=!1,R&&(R=!1,_(Ae),Ae=-1),m=!0;var ze=d;try{for(F(be),f=n(l);f!==null&&(!(f.expirationTime>be)||se&&!De());){var qe=f.callback;if(typeof qe=="function"){f.callback=null,d=f.priorityLevel;var nt=qe(f.expirationTime<=be);be=e.unstable_now(),typeof nt=="function"?f.callback=nt:f===n(l)&&r(l),F(be)}else r(l);f=n(l)}if(f!==null)var qt=!0;else{var pt=n(u);pt!==null&&Ge(V,pt.startTime-be),qt=!1}return qt}finally{f=null,d=ze,m=!1}}var he=!1,me=null,Ae=-1,Ke=5,je=-1;function De(){return!(e.unstable_now()-je<Ke)}function at(){if(me!==null){var se=e.unstable_now();je=se;var be=!0;try{be=me(!0,se)}finally{be?ot():(he=!1,me=null)}}else he=!1}var ot;if(typeof b=="function")ot=function(){b(at)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Me=H.port2;H.port1.onmessage=at,ot=function(){Me.postMessage(null)}}else ot=function(){de(at,0)};function pe(se){me=se,he||(he=!0,ot())}function Ge(se,be){Ae=de(function(){se(e.unstable_now())},be)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(se){se.callback=null},e.unstable_continueExecution=function(){k||m||(k=!0,pe(W))},e.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ke=0<se?Math.floor(1e3/se):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(se){switch(d){case 1:case 2:case 3:var be=3;break;default:be=d}var ze=d;d=be;try{return se()}finally{d=ze}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(se,be){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ze=d;d=se;try{return be()}finally{d=ze}},e.unstable_scheduleCallback=function(se,be,ze){var qe=e.unstable_now();switch(typeof ze=="object"&&ze!==null?(ze=ze.delay,ze=typeof ze=="number"&&0<ze?qe+ze:qe):ze=qe,se){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=ze+nt,se={id:h++,callback:be,priorityLevel:se,startTime:ze,expirationTime:nt,sortIndex:-1},ze>qe?(se.sortIndex=ze,t(u,se),n(l)===null&&se===n(u)&&(R?(_(Ae),Ae=-1):R=!0,Ge(V,ze-qe))):(se.sortIndex=nt,t(l,se),k||m||(k=!0,pe(W))),se},e.unstable_shouldYield=De,e.unstable_wrapCallback=function(se){var be=d;return function(){var ze=d;d=be;try{return se.apply(this,arguments)}finally{d=ze}}}})(Pv);Fv.exports=Pv;var pw=Fv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv=Nn,An=pw;function Ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zv=new Set,Na={};function Ri(e,t){wo(e,t),wo(e+"Capture",t)}function wo(e,t){for(Na[e]=t,e=0;e<t.length;e++)zv.add(t[e])}var wr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),af=Object.prototype.hasOwnProperty,mw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pm={},Lm={};function vw(e){return af.call(Lm,e)?!0:af.call(Pm,e)?!1:mw.test(e)?Lm[e]=!0:(Pm[e]=!0,!1)}function gw(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function yw(e,t,n,r){if(t===null||typeof t>"u"||gw(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function cn(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Jt[e]=new cn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Jt[t]=new cn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Jt[e]=new cn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Jt[e]=new cn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Jt[e]=new cn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Jt[e]=new cn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Jt[e]=new cn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Jt[e]=new cn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Jt[e]=new cn(e,5,!1,e.toLowerCase(),null,!1,!1)});var gd=/[\-:]([a-z])/g;function yd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gd,yd);Jt[t]=new cn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gd,yd);Jt[t]=new cn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gd,yd);Jt[t]=new cn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Jt[e]=new cn(e,1,!1,e.toLowerCase(),null,!1,!1)});Jt.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Jt[e]=new cn(e,1,!1,e.toLowerCase(),null,!0,!0)});function xd(e,t,n,r){var i=Jt.hasOwnProperty(t)?Jt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(yw(t,n,i,r)&&(n=null),r||i===null?vw(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ar=Lv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,js=Symbol.for("react.element"),to=Symbol.for("react.portal"),no=Symbol.for("react.fragment"),_d=Symbol.for("react.strict_mode"),sf=Symbol.for("react.profiler"),Iv=Symbol.for("react.provider"),Mv=Symbol.for("react.context"),Sd=Symbol.for("react.forward_ref"),lf=Symbol.for("react.suspense"),uf=Symbol.for("react.suspense_list"),wd=Symbol.for("react.memo"),Rr=Symbol.for("react.lazy"),Rv=Symbol.for("react.offscreen"),zm=Symbol.iterator;function ta(e){return e===null||typeof e!="object"?null:(e=zm&&e[zm]||e["@@iterator"],typeof e=="function"?e:null)}var kt=Object.assign,Tc;function fa(e){if(Tc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Tc=t&&t[1]||""}return`
`+Tc+e}var bc=!1;function kc(e,t){if(!e||bc)return"";bc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=s);break}}}finally{bc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?fa(e):""}function xw(e){switch(e.tag){case 5:return fa(e.type);case 16:return fa("Lazy");case 13:return fa("Suspense");case 19:return fa("SuspenseList");case 0:case 2:case 15:return e=kc(e.type,!1),e;case 11:return e=kc(e.type.render,!1),e;case 1:return e=kc(e.type,!0),e;default:return""}}function cf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case no:return"Fragment";case to:return"Portal";case sf:return"Profiler";case _d:return"StrictMode";case lf:return"Suspense";case uf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Mv:return(e.displayName||"Context")+".Consumer";case Iv:return(e._context.displayName||"Context")+".Provider";case Sd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wd:return t=e.displayName||null,t!==null?t:cf(e.type)||"Memo";case Rr:t=e._payload,e=e._init;try{return cf(e(t))}catch{}}return null}function _w(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cf(t);case 8:return t===_d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sw(e){var t=Dv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vs(e){e._valueTracker||(e._valueTracker=Sw(e))}function Ov(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Dv(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function bl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ff(e,t){var n=t.checked;return kt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Im(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Qr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Bv(e,t){t=t.checked,t!=null&&xd(e,"checked",t,!1)}function df(e,t){Bv(e,t);var n=Qr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hf(e,t.type,n):t.hasOwnProperty("defaultValue")&&hf(e,t.type,Qr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Mm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function hf(e,t,n){(t!=="number"||bl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var da=Array.isArray;function mo(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Qr(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function pf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ee(91));return kt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Rm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ee(92));if(da(n)){if(1<n.length)throw Error(Ee(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Qr(n)}}function Gv(e,t){var n=Qr(t.value),r=Qr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Dm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $s,Vv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($s=$s||document.createElement("div"),$s.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$s.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ya={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ww=["Webkit","ms","Moz","O"];Object.keys(ya).forEach(function(e){ww.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ya[t]=ya[e]})});function $v(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ya.hasOwnProperty(e)&&ya[e]?(""+t).trim():t+"px"}function Uv(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$v(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Ew=kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vf(e,t){if(t){if(Ew[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ee(62))}}function gf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yf=null;function Ed(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xf=null,vo=null,go=null;function Om(e){if(e=rs(e)){if(typeof xf!="function")throw Error(Ee(280));var t=e.stateNode;t&&(t=fu(t),xf(e.stateNode,e.type,t))}}function Hv(e){vo?go?go.push(e):go=[e]:vo=e}function Wv(){if(vo){var e=vo,t=go;if(go=vo=null,Om(e),t)for(e=0;e<t.length;e++)Om(t[e])}}function Xv(e,t){return e(t)}function Yv(){}var Ac=!1;function qv(e,t,n){if(Ac)return e(t,n);Ac=!0;try{return Xv(e,t,n)}finally{Ac=!1,(vo!==null||go!==null)&&(Yv(),Wv())}}function Pa(e,t){var n=e.stateNode;if(n===null)return null;var r=fu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ee(231,t,typeof n));return n}var _f=!1;if(wr)try{var na={};Object.defineProperty(na,"passive",{get:function(){_f=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{_f=!1}function Tw(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var xa=!1,kl=null,Al=!1,Sf=null,bw={onError:function(e){xa=!0,kl=e}};function kw(e,t,n,r,i,o,a,s,l){xa=!1,kl=null,Tw.apply(bw,arguments)}function Aw(e,t,n,r,i,o,a,s,l){if(kw.apply(this,arguments),xa){if(xa){var u=kl;xa=!1,kl=null}else throw Error(Ee(198));Al||(Al=!0,Sf=u)}}function Di(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Qv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bm(e){if(Di(e)!==e)throw Error(Ee(188))}function Cw(e){var t=e.alternate;if(!t){if(t=Di(e),t===null)throw Error(Ee(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Bm(i),e;if(o===r)return Bm(i),t;o=o.sibling}throw Error(Ee(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(Ee(189))}}if(n.alternate!==r)throw Error(Ee(190))}if(n.tag!==3)throw Error(Ee(188));return n.stateNode.current===n?e:t}function Kv(e){return e=Cw(e),e!==null?Zv(e):null}function Zv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zv(e);if(t!==null)return t;e=e.sibling}return null}var Jv=An.unstable_scheduleCallback,Gm=An.unstable_cancelCallback,Nw=An.unstable_shouldYield,Fw=An.unstable_requestPaint,It=An.unstable_now,Pw=An.unstable_getCurrentPriorityLevel,Td=An.unstable_ImmediatePriority,eg=An.unstable_UserBlockingPriority,Cl=An.unstable_NormalPriority,Lw=An.unstable_LowPriority,tg=An.unstable_IdlePriority,su=null,lr=null;function zw(e){if(lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(su,e,void 0,(e.current.flags&128)===128)}catch{}}var Qn=Math.clz32?Math.clz32:Rw,Iw=Math.log,Mw=Math.LN2;function Rw(e){return e>>>=0,e===0?32:31-(Iw(e)/Mw|0)|0}var Us=64,Hs=4194304;function ha(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Nl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=ha(s):(o&=a,o!==0&&(r=ha(o)))}else a=n&~i,a!==0?r=ha(a):o!==0&&(r=ha(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Qn(t),i=1<<n,r|=e[n],t&=~i;return r}function Dw(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ow(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Qn(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=Dw(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}function wf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ng(){var e=Us;return Us<<=1,!(Us&4194240)&&(Us=64),e}function Cc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ts(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qn(t),e[t]=n}function Bw(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Qn(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function bd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Qn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var dt=0;function rg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ig,kd,og,ag,sg,Ef=!1,Ws=[],Vr=null,$r=null,Ur=null,La=new Map,za=new Map,Or=[],Gw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jm(e,t){switch(e){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":La.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":za.delete(t.pointerId)}}function ra(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=rs(t),t!==null&&kd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function jw(e,t,n,r,i){switch(t){case"focusin":return Vr=ra(Vr,e,t,n,r,i),!0;case"dragenter":return $r=ra($r,e,t,n,r,i),!0;case"mouseover":return Ur=ra(Ur,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return La.set(o,ra(La.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,za.set(o,ra(za.get(o)||null,e,t,n,r,i)),!0}return!1}function lg(e){var t=Ei(e.target);if(t!==null){var n=Di(t);if(n!==null){if(t=n.tag,t===13){if(t=Qv(n),t!==null){e.blockedOn=t,sg(e.priority,function(){og(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Tf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);yf=r,n.target.dispatchEvent(r),yf=null}else return t=rs(n),t!==null&&kd(t),e.blockedOn=n,!1;t.shift()}return!0}function Vm(e,t,n){cl(e)&&n.delete(t)}function Vw(){Ef=!1,Vr!==null&&cl(Vr)&&(Vr=null),$r!==null&&cl($r)&&($r=null),Ur!==null&&cl(Ur)&&(Ur=null),La.forEach(Vm),za.forEach(Vm)}function ia(e,t){e.blockedOn===t&&(e.blockedOn=null,Ef||(Ef=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,Vw)))}function Ia(e){function t(i){return ia(i,e)}if(0<Ws.length){ia(Ws[0],e);for(var n=1;n<Ws.length;n++){var r=Ws[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vr!==null&&ia(Vr,e),$r!==null&&ia($r,e),Ur!==null&&ia(Ur,e),La.forEach(t),za.forEach(t),n=0;n<Or.length;n++)r=Or[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Or.length&&(n=Or[0],n.blockedOn===null);)lg(n),n.blockedOn===null&&Or.shift()}var yo=Ar.ReactCurrentBatchConfig,Fl=!0;function $w(e,t,n,r){var i=dt,o=yo.transition;yo.transition=null;try{dt=1,Ad(e,t,n,r)}finally{dt=i,yo.transition=o}}function Uw(e,t,n,r){var i=dt,o=yo.transition;yo.transition=null;try{dt=4,Ad(e,t,n,r)}finally{dt=i,yo.transition=o}}function Ad(e,t,n,r){if(Fl){var i=Tf(e,t,n,r);if(i===null)Oc(e,t,r,Pl,n),jm(e,r);else if(jw(i,e,t,n,r))r.stopPropagation();else if(jm(e,r),t&4&&-1<Gw.indexOf(e)){for(;i!==null;){var o=rs(i);if(o!==null&&ig(o),o=Tf(e,t,n,r),o===null&&Oc(e,t,r,Pl,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Oc(e,t,r,null,n)}}var Pl=null;function Tf(e,t,n,r){if(Pl=null,e=Ed(r),e=Ei(e),e!==null)if(t=Di(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Qv(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pl=e,null}function ug(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pw()){case Td:return 1;case eg:return 4;case Cl:case Lw:return 16;case tg:return 536870912;default:return 16}default:return 16}}var Gr=null,Cd=null,fl=null;function cg(){if(fl)return fl;var e,t=Cd,n=t.length,r,i="value"in Gr?Gr.value:Gr.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return fl=i.slice(e,1<r?1-r:void 0)}function dl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xs(){return!0}function $m(){return!1}function Pn(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Xs:$m,this.isPropagationStopped=$m,this}return kt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Xs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Xs)},persist:function(){},isPersistent:Xs}),t}var Io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nd=Pn(Io),ns=kt({},Io,{view:0,detail:0}),Hw=Pn(ns),Nc,Fc,oa,lu=kt({},ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==oa&&(oa&&e.type==="mousemove"?(Nc=e.screenX-oa.screenX,Fc=e.screenY-oa.screenY):Fc=Nc=0,oa=e),Nc)},movementY:function(e){return"movementY"in e?e.movementY:Fc}}),Um=Pn(lu),Ww=kt({},lu,{dataTransfer:0}),Xw=Pn(Ww),Yw=kt({},ns,{relatedTarget:0}),Pc=Pn(Yw),qw=kt({},Io,{animationName:0,elapsedTime:0,pseudoElement:0}),Qw=Pn(qw),Kw=kt({},Io,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zw=Pn(Kw),Jw=kt({},Io,{data:0}),Hm=Pn(Jw),e2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},t2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},n2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function r2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=n2[e])?!!t[e]:!1}function Fd(){return r2}var i2=kt({},ns,{key:function(e){if(e.key){var t=e2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?t2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fd,charCode:function(e){return e.type==="keypress"?dl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),o2=Pn(i2),a2=kt({},lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wm=Pn(a2),s2=kt({},ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fd}),l2=Pn(s2),u2=kt({},Io,{propertyName:0,elapsedTime:0,pseudoElement:0}),c2=Pn(u2),f2=kt({},lu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),d2=Pn(f2),h2=[9,13,27,32],Pd=wr&&"CompositionEvent"in window,_a=null;wr&&"documentMode"in document&&(_a=document.documentMode);var p2=wr&&"TextEvent"in window&&!_a,fg=wr&&(!Pd||_a&&8<_a&&11>=_a),Xm=String.fromCharCode(32),Ym=!1;function dg(e,t){switch(e){case"keyup":return h2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ro=!1;function m2(e,t){switch(e){case"compositionend":return hg(t);case"keypress":return t.which!==32?null:(Ym=!0,Xm);case"textInput":return e=t.data,e===Xm&&Ym?null:e;default:return null}}function v2(e,t){if(ro)return e==="compositionend"||!Pd&&dg(e,t)?(e=cg(),fl=Cd=Gr=null,ro=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fg&&t.locale!=="ko"?null:t.data;default:return null}}var g2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!g2[e.type]:t==="textarea"}function pg(e,t,n,r){Hv(r),t=Ll(t,"onChange"),0<t.length&&(n=new Nd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Sa=null,Ma=null;function y2(e){bg(e,0)}function uu(e){var t=ao(e);if(Ov(t))return e}function x2(e,t){if(e==="change")return t}var mg=!1;if(wr){var Lc;if(wr){var zc="oninput"in document;if(!zc){var Qm=document.createElement("div");Qm.setAttribute("oninput","return;"),zc=typeof Qm.oninput=="function"}Lc=zc}else Lc=!1;mg=Lc&&(!document.documentMode||9<document.documentMode)}function Km(){Sa&&(Sa.detachEvent("onpropertychange",vg),Ma=Sa=null)}function vg(e){if(e.propertyName==="value"&&uu(Ma)){var t=[];pg(t,Ma,e,Ed(e)),qv(y2,t)}}function _2(e,t,n){e==="focusin"?(Km(),Sa=t,Ma=n,Sa.attachEvent("onpropertychange",vg)):e==="focusout"&&Km()}function S2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return uu(Ma)}function w2(e,t){if(e==="click")return uu(t)}function E2(e,t){if(e==="input"||e==="change")return uu(t)}function T2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Zn=typeof Object.is=="function"?Object.is:T2;function Ra(e,t){if(Zn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!af.call(t,i)||!Zn(e[i],t[i]))return!1}return!0}function Zm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jm(e,t){var n=Zm(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zm(n)}}function gg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yg(){for(var e=window,t=bl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=bl(e.document)}return t}function Ld(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function b2(e){var t=yg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&gg(n.ownerDocument.documentElement,n)){if(r!==null&&Ld(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Jm(n,o);var a=Jm(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var k2=wr&&"documentMode"in document&&11>=document.documentMode,io=null,bf=null,wa=null,kf=!1;function e0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kf||io==null||io!==bl(r)||(r=io,"selectionStart"in r&&Ld(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wa&&Ra(wa,r)||(wa=r,r=Ll(bf,"onSelect"),0<r.length&&(t=new Nd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=io)))}function Ys(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var oo={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionend:Ys("Transition","TransitionEnd")},Ic={},xg={};wr&&(xg=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function cu(e){if(Ic[e])return Ic[e];if(!oo[e])return e;var t=oo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in xg)return Ic[e]=t[n];return e}var _g=cu("animationend"),Sg=cu("animationiteration"),wg=cu("animationstart"),Eg=cu("transitionend"),Tg=new Map,t0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ei(e,t){Tg.set(e,t),Ri(t,[e])}for(var Mc=0;Mc<t0.length;Mc++){var Rc=t0[Mc],A2=Rc.toLowerCase(),C2=Rc[0].toUpperCase()+Rc.slice(1);ei(A2,"on"+C2)}ei(_g,"onAnimationEnd");ei(Sg,"onAnimationIteration");ei(wg,"onAnimationStart");ei("dblclick","onDoubleClick");ei("focusin","onFocus");ei("focusout","onBlur");ei(Eg,"onTransitionEnd");wo("onMouseEnter",["mouseout","mouseover"]);wo("onMouseLeave",["mouseout","mouseover"]);wo("onPointerEnter",["pointerout","pointerover"]);wo("onPointerLeave",["pointerout","pointerover"]);Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N2=new Set("cancel close invalid load scroll toggle".split(" ").concat(pa));function n0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Aw(r,t,void 0,e),e.currentTarget=null}function bg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;n0(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;n0(i,s,u),o=l}}}if(Al)throw e=Sf,Al=!1,Sf=null,e}function xt(e,t){var n=t[Pf];n===void 0&&(n=t[Pf]=new Set);var r=e+"__bubble";n.has(r)||(kg(t,e,2,!1),n.add(r))}function Dc(e,t,n){var r=0;t&&(r|=4),kg(n,e,r,t)}var qs="_reactListening"+Math.random().toString(36).slice(2);function Da(e){if(!e[qs]){e[qs]=!0,zv.forEach(function(n){n!=="selectionchange"&&(N2.has(n)||Dc(n,!1,e),Dc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qs]||(t[qs]=!0,Dc("selectionchange",!1,t))}}function kg(e,t,n,r){switch(ug(t)){case 1:var i=$w;break;case 4:i=Uw;break;default:i=Ad}n=i.bind(null,t,n,e),i=void 0,!_f||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Oc(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=Ei(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}qv(function(){var u=o,h=Ed(n),f=[];e:{var d=Tg.get(e);if(d!==void 0){var m=Nd,k=e;switch(e){case"keypress":if(dl(n)===0)break e;case"keydown":case"keyup":m=o2;break;case"focusin":k="focus",m=Pc;break;case"focusout":k="blur",m=Pc;break;case"beforeblur":case"afterblur":m=Pc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Um;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Xw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=l2;break;case _g:case Sg:case wg:m=Qw;break;case Eg:m=c2;break;case"scroll":m=Hw;break;case"wheel":m=d2;break;case"copy":case"cut":case"paste":m=Zw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Wm}var R=(t&4)!==0,de=!R&&e==="scroll",_=R?d!==null?d+"Capture":null:d;R=[];for(var b=u,F;b!==null;){F=b;var V=F.stateNode;if(F.tag===5&&V!==null&&(F=V,_!==null&&(V=Pa(b,_),V!=null&&R.push(Oa(b,V,F)))),de)break;b=b.return}0<R.length&&(d=new m(d,k,null,n,h),f.push({event:d,listeners:R}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",d&&n!==yf&&(k=n.relatedTarget||n.fromElement)&&(Ei(k)||k[Er]))break e;if((m||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,m?(k=n.relatedTarget||n.toElement,m=u,k=k?Ei(k):null,k!==null&&(de=Di(k),k!==de||k.tag!==5&&k.tag!==6)&&(k=null)):(m=null,k=u),m!==k)){if(R=Um,V="onMouseLeave",_="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(R=Wm,V="onPointerLeave",_="onPointerEnter",b="pointer"),de=m==null?d:ao(m),F=k==null?d:ao(k),d=new R(V,b+"leave",m,n,h),d.target=de,d.relatedTarget=F,V=null,Ei(h)===u&&(R=new R(_,b+"enter",k,n,h),R.target=F,R.relatedTarget=de,V=R),de=V,m&&k)t:{for(R=m,_=k,b=0,F=R;F;F=eo(F))b++;for(F=0,V=_;V;V=eo(V))F++;for(;0<b-F;)R=eo(R),b--;for(;0<F-b;)_=eo(_),F--;for(;b--;){if(R===_||_!==null&&R===_.alternate)break t;R=eo(R),_=eo(_)}R=null}else R=null;m!==null&&r0(f,d,m,R,!1),k!==null&&de!==null&&r0(f,de,k,R,!0)}}e:{if(d=u?ao(u):window,m=d.nodeName&&d.nodeName.toLowerCase(),m==="select"||m==="input"&&d.type==="file")var W=x2;else if(qm(d))if(mg)W=E2;else{W=S2;var he=_2}else(m=d.nodeName)&&m.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(W=w2);if(W&&(W=W(e,u))){pg(f,W,n,h);break e}he&&he(e,d,u),e==="focusout"&&(he=d._wrapperState)&&he.controlled&&d.type==="number"&&hf(d,"number",d.value)}switch(he=u?ao(u):window,e){case"focusin":(qm(he)||he.contentEditable==="true")&&(io=he,bf=u,wa=null);break;case"focusout":wa=bf=io=null;break;case"mousedown":kf=!0;break;case"contextmenu":case"mouseup":case"dragend":kf=!1,e0(f,n,h);break;case"selectionchange":if(k2)break;case"keydown":case"keyup":e0(f,n,h)}var me;if(Pd)e:{switch(e){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else ro?dg(e,n)&&(Ae="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Ae="onCompositionStart");Ae&&(fg&&n.locale!=="ko"&&(ro||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&ro&&(me=cg()):(Gr=h,Cd="value"in Gr?Gr.value:Gr.textContent,ro=!0)),he=Ll(u,Ae),0<he.length&&(Ae=new Hm(Ae,e,null,n,h),f.push({event:Ae,listeners:he}),me?Ae.data=me:(me=hg(n),me!==null&&(Ae.data=me)))),(me=p2?m2(e,n):v2(e,n))&&(u=Ll(u,"onBeforeInput"),0<u.length&&(h=new Hm("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=me))}bg(f,t)})}function Oa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ll(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Pa(e,n),o!=null&&r.unshift(Oa(e,o,i)),o=Pa(e,t),o!=null&&r.push(Oa(e,o,i))),e=e.return}return r}function eo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function r0(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Pa(n,o),l!=null&&a.unshift(Oa(n,l,s))):i||(l=Pa(n,o),l!=null&&a.push(Oa(n,l,s)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var F2=/\r\n?/g,P2=/\u0000|\uFFFD/g;function i0(e){return(typeof e=="string"?e:""+e).replace(F2,`
`).replace(P2,"")}function Qs(e,t,n){if(t=i0(t),i0(e)!==t&&n)throw Error(Ee(425))}function zl(){}var Af=null,Cf=null;function Nf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,L2=typeof clearTimeout=="function"?clearTimeout:void 0,o0=typeof Promise=="function"?Promise:void 0,z2=typeof queueMicrotask=="function"?queueMicrotask:typeof o0<"u"?function(e){return o0.resolve(null).then(e).catch(I2)}:Ff;function I2(e){setTimeout(function(){throw e})}function Bc(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ia(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ia(t)}function Hr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function a0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Mo=Math.random().toString(36).slice(2),sr="__reactFiber$"+Mo,Ba="__reactProps$"+Mo,Er="__reactContainer$"+Mo,Pf="__reactEvents$"+Mo,M2="__reactListeners$"+Mo,R2="__reactHandles$"+Mo;function Ei(e){var t=e[sr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Er]||n[sr]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=a0(e);e!==null;){if(n=e[sr])return n;e=a0(e)}return t}e=n,n=e.parentNode}return null}function rs(e){return e=e[sr]||e[Er],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ao(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ee(33))}function fu(e){return e[Ba]||null}var Lf=[],so=-1;function ti(e){return{current:e}}function _t(e){0>so||(e.current=Lf[so],Lf[so]=null,so--)}function gt(e,t){so++,Lf[so]=e.current,e.current=t}var Kr={},on=ti(Kr),vn=ti(!1),Fi=Kr;function Eo(e,t){var n=e.type.contextTypes;if(!n)return Kr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function gn(e){return e=e.childContextTypes,e!=null}function Il(){_t(vn),_t(on)}function s0(e,t,n){if(on.current!==Kr)throw Error(Ee(168));gt(on,t),gt(vn,n)}function Ag(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(Ee(108,_w(e)||"Unknown",i));return kt({},n,r)}function Ml(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kr,Fi=on.current,gt(on,e),gt(vn,vn.current),!0}function l0(e,t,n){var r=e.stateNode;if(!r)throw Error(Ee(169));n?(e=Ag(e,t,Fi),r.__reactInternalMemoizedMergedChildContext=e,_t(vn),_t(on),gt(on,e)):_t(vn),gt(vn,n)}var gr=null,du=!1,Gc=!1;function Cg(e){gr===null?gr=[e]:gr.push(e)}function D2(e){du=!0,Cg(e)}function ni(){if(!Gc&&gr!==null){Gc=!0;var e=0,t=dt;try{var n=gr;for(dt=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}gr=null,du=!1}catch(i){throw gr!==null&&(gr=gr.slice(e+1)),Jv(Td,ni),i}finally{dt=t,Gc=!1}}return null}var lo=[],uo=0,Rl=null,Dl=0,In=[],Mn=0,Pi=null,yr=1,xr="";function _i(e,t){lo[uo++]=Dl,lo[uo++]=Rl,Rl=e,Dl=t}function Ng(e,t,n){In[Mn++]=yr,In[Mn++]=xr,In[Mn++]=Pi,Pi=e;var r=yr;e=xr;var i=32-Qn(r)-1;r&=~(1<<i),n+=1;var o=32-Qn(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,yr=1<<32-Qn(t)+i|n<<i|r,xr=o+e}else yr=1<<o|n<<i|r,xr=e}function zd(e){e.return!==null&&(_i(e,1),Ng(e,1,0))}function Id(e){for(;e===Rl;)Rl=lo[--uo],lo[uo]=null,Dl=lo[--uo],lo[uo]=null;for(;e===Pi;)Pi=In[--Mn],In[Mn]=null,xr=In[--Mn],In[Mn]=null,yr=In[--Mn],In[Mn]=null}var kn=null,bn=null,St=!1,Wn=null;function Fg(e,t){var n=Rn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function u0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,kn=e,bn=Hr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,kn=e,bn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Pi!==null?{id:yr,overflow:xr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Rn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,kn=e,bn=null,!0):!1;default:return!1}}function zf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function If(e){if(St){var t=bn;if(t){var n=t;if(!u0(e,t)){if(zf(e))throw Error(Ee(418));t=Hr(n.nextSibling);var r=kn;t&&u0(e,t)?Fg(r,n):(e.flags=e.flags&-4097|2,St=!1,kn=e)}}else{if(zf(e))throw Error(Ee(418));e.flags=e.flags&-4097|2,St=!1,kn=e}}}function c0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;kn=e}function Ks(e){if(e!==kn)return!1;if(!St)return c0(e),St=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Nf(e.type,e.memoizedProps)),t&&(t=bn)){if(zf(e))throw Pg(),Error(Ee(418));for(;t;)Fg(e,t),t=Hr(t.nextSibling)}if(c0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){bn=Hr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}bn=null}}else bn=kn?Hr(e.stateNode.nextSibling):null;return!0}function Pg(){for(var e=bn;e;)e=Hr(e.nextSibling)}function To(){bn=kn=null,St=!1}function Md(e){Wn===null?Wn=[e]:Wn.push(e)}var O2=Ar.ReactCurrentBatchConfig;function Un(e,t){if(e&&e.defaultProps){t=kt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var Ol=ti(null),Bl=null,co=null,Rd=null;function Dd(){Rd=co=Bl=null}function Od(e){var t=Ol.current;_t(Ol),e._currentValue=t}function Mf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function xo(e,t){Bl=e,Rd=co=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(pn=!0),e.firstContext=null)}function On(e){var t=e._currentValue;if(Rd!==e)if(e={context:e,memoizedValue:t,next:null},co===null){if(Bl===null)throw Error(Ee(308));co=e,Bl.dependencies={lanes:0,firstContext:e}}else co=co.next=e;return t}var Ti=null;function Bd(e){Ti===null?Ti=[e]:Ti.push(e)}function Lg(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Bd(t)):(n.next=i.next,i.next=n),t.interleaved=n,Tr(e,r)}function Tr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Dr=!1;function Gd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Sr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ct&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Tr(e,n)}return i=r.interleaved,i===null?(t.next=t,Bd(r)):(t.next=i.next,i.next=t),r.interleaved=t,Tr(e,n)}function hl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bd(e,n)}}function f0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Gl(e,t,n,r){var i=e.updateQueue;Dr=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var h=e.alternate;h!==null&&(h=h.updateQueue,s=h.lastBaseUpdate,s!==a&&(s===null?h.firstBaseUpdate=u:s.next=u,h.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,h=u=l=null,s=o;do{var d=s.lane,m=s.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var k=e,R=s;switch(d=t,m=n,R.tag){case 1:if(k=R.payload,typeof k=="function"){f=k.call(m,f,d);break e}f=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=R.payload,d=typeof k=="function"?k.call(m,f,d):k,d==null)break e;f=kt({},f,d);break e;case 2:Dr=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,d=i.effects,d===null?i.effects=[s]:d.push(s))}else m={eventTime:m,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},h===null?(u=h=m,l=f):h=h.next=m,a|=d;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;d=s,s=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);zi|=a,e.lanes=a,e.memoizedState=f}}function d0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ee(191,i));i.call(r)}}}var Ig=new Lv.Component().refs;function Rf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:kt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var hu={isMounted:function(e){return(e=e._reactInternals)?Di(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ln(),i=Yr(e),o=Sr(r,i);o.payload=t,n!=null&&(o.callback=n),t=Wr(e,o,i),t!==null&&(Kn(t,e,i,r),hl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ln(),i=Yr(e),o=Sr(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Wr(e,o,i),t!==null&&(Kn(t,e,i,r),hl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ln(),r=Yr(e),i=Sr(n,r);i.tag=2,t!=null&&(i.callback=t),t=Wr(e,i,r),t!==null&&(Kn(t,e,r,n),hl(t,e,r))}};function h0(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Ra(n,r)||!Ra(i,o):!0}function Mg(e,t,n){var r=!1,i=Kr,o=t.contextType;return typeof o=="object"&&o!==null?o=On(o):(i=gn(t)?Fi:on.current,r=t.contextTypes,o=(r=r!=null)?Eo(e,i):Kr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function p0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hu.enqueueReplaceState(t,t.state,null)}function Df(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ig,Gd(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=On(o):(o=gn(t)?Fi:on.current,i.context=Eo(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Rf(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&hu.enqueueReplaceState(i,i.state,null),Gl(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function aa(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ee(309));var r=n.stateNode}if(!r)throw Error(Ee(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var s=i.refs;s===Ig&&(s=i.refs={}),a===null?delete s[o]:s[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(Ee(284));if(!n._owner)throw Error(Ee(290,e))}return e}function Zs(e,t){throw e=Object.prototype.toString.call(t),Error(Ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function m0(e){var t=e._init;return t(e._payload)}function Rg(e){function t(_,b){if(e){var F=_.deletions;F===null?(_.deletions=[b],_.flags|=16):F.push(b)}}function n(_,b){if(!e)return null;for(;b!==null;)t(_,b),b=b.sibling;return null}function r(_,b){for(_=new Map;b!==null;)b.key!==null?_.set(b.key,b):_.set(b.index,b),b=b.sibling;return _}function i(_,b){return _=qr(_,b),_.index=0,_.sibling=null,_}function o(_,b,F){return _.index=F,e?(F=_.alternate,F!==null?(F=F.index,F<b?(_.flags|=2,b):F):(_.flags|=2,b)):(_.flags|=1048576,b)}function a(_){return e&&_.alternate===null&&(_.flags|=2),_}function s(_,b,F,V){return b===null||b.tag!==6?(b=Xc(F,_.mode,V),b.return=_,b):(b=i(b,F),b.return=_,b)}function l(_,b,F,V){var W=F.type;return W===no?h(_,b,F.props.children,V,F.key):b!==null&&(b.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===Rr&&m0(W)===b.type)?(V=i(b,F.props),V.ref=aa(_,b,F),V.return=_,V):(V=xl(F.type,F.key,F.props,null,_.mode,V),V.ref=aa(_,b,F),V.return=_,V)}function u(_,b,F,V){return b===null||b.tag!==4||b.stateNode.containerInfo!==F.containerInfo||b.stateNode.implementation!==F.implementation?(b=Yc(F,_.mode,V),b.return=_,b):(b=i(b,F.children||[]),b.return=_,b)}function h(_,b,F,V,W){return b===null||b.tag!==7?(b=Ci(F,_.mode,V,W),b.return=_,b):(b=i(b,F),b.return=_,b)}function f(_,b,F){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Xc(""+b,_.mode,F),b.return=_,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case js:return F=xl(b.type,b.key,b.props,null,_.mode,F),F.ref=aa(_,null,b),F.return=_,F;case to:return b=Yc(b,_.mode,F),b.return=_,b;case Rr:var V=b._init;return f(_,V(b._payload),F)}if(da(b)||ta(b))return b=Ci(b,_.mode,F,null),b.return=_,b;Zs(_,b)}return null}function d(_,b,F,V){var W=b!==null?b.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return W!==null?null:s(_,b,""+F,V);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case js:return F.key===W?l(_,b,F,V):null;case to:return F.key===W?u(_,b,F,V):null;case Rr:return W=F._init,d(_,b,W(F._payload),V)}if(da(F)||ta(F))return W!==null?null:h(_,b,F,V,null);Zs(_,F)}return null}function m(_,b,F,V,W){if(typeof V=="string"&&V!==""||typeof V=="number")return _=_.get(F)||null,s(b,_,""+V,W);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case js:return _=_.get(V.key===null?F:V.key)||null,l(b,_,V,W);case to:return _=_.get(V.key===null?F:V.key)||null,u(b,_,V,W);case Rr:var he=V._init;return m(_,b,F,he(V._payload),W)}if(da(V)||ta(V))return _=_.get(F)||null,h(b,_,V,W,null);Zs(b,V)}return null}function k(_,b,F,V){for(var W=null,he=null,me=b,Ae=b=0,Ke=null;me!==null&&Ae<F.length;Ae++){me.index>Ae?(Ke=me,me=null):Ke=me.sibling;var je=d(_,me,F[Ae],V);if(je===null){me===null&&(me=Ke);break}e&&me&&je.alternate===null&&t(_,me),b=o(je,b,Ae),he===null?W=je:he.sibling=je,he=je,me=Ke}if(Ae===F.length)return n(_,me),St&&_i(_,Ae),W;if(me===null){for(;Ae<F.length;Ae++)me=f(_,F[Ae],V),me!==null&&(b=o(me,b,Ae),he===null?W=me:he.sibling=me,he=me);return St&&_i(_,Ae),W}for(me=r(_,me);Ae<F.length;Ae++)Ke=m(me,_,Ae,F[Ae],V),Ke!==null&&(e&&Ke.alternate!==null&&me.delete(Ke.key===null?Ae:Ke.key),b=o(Ke,b,Ae),he===null?W=Ke:he.sibling=Ke,he=Ke);return e&&me.forEach(function(De){return t(_,De)}),St&&_i(_,Ae),W}function R(_,b,F,V){var W=ta(F);if(typeof W!="function")throw Error(Ee(150));if(F=W.call(F),F==null)throw Error(Ee(151));for(var he=W=null,me=b,Ae=b=0,Ke=null,je=F.next();me!==null&&!je.done;Ae++,je=F.next()){me.index>Ae?(Ke=me,me=null):Ke=me.sibling;var De=d(_,me,je.value,V);if(De===null){me===null&&(me=Ke);break}e&&me&&De.alternate===null&&t(_,me),b=o(De,b,Ae),he===null?W=De:he.sibling=De,he=De,me=Ke}if(je.done)return n(_,me),St&&_i(_,Ae),W;if(me===null){for(;!je.done;Ae++,je=F.next())je=f(_,je.value,V),je!==null&&(b=o(je,b,Ae),he===null?W=je:he.sibling=je,he=je);return St&&_i(_,Ae),W}for(me=r(_,me);!je.done;Ae++,je=F.next())je=m(me,_,Ae,je.value,V),je!==null&&(e&&je.alternate!==null&&me.delete(je.key===null?Ae:je.key),b=o(je,b,Ae),he===null?W=je:he.sibling=je,he=je);return e&&me.forEach(function(at){return t(_,at)}),St&&_i(_,Ae),W}function de(_,b,F,V){if(typeof F=="object"&&F!==null&&F.type===no&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case js:e:{for(var W=F.key,he=b;he!==null;){if(he.key===W){if(W=F.type,W===no){if(he.tag===7){n(_,he.sibling),b=i(he,F.props.children),b.return=_,_=b;break e}}else if(he.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===Rr&&m0(W)===he.type){n(_,he.sibling),b=i(he,F.props),b.ref=aa(_,he,F),b.return=_,_=b;break e}n(_,he);break}else t(_,he);he=he.sibling}F.type===no?(b=Ci(F.props.children,_.mode,V,F.key),b.return=_,_=b):(V=xl(F.type,F.key,F.props,null,_.mode,V),V.ref=aa(_,b,F),V.return=_,_=V)}return a(_);case to:e:{for(he=F.key;b!==null;){if(b.key===he)if(b.tag===4&&b.stateNode.containerInfo===F.containerInfo&&b.stateNode.implementation===F.implementation){n(_,b.sibling),b=i(b,F.children||[]),b.return=_,_=b;break e}else{n(_,b);break}else t(_,b);b=b.sibling}b=Yc(F,_.mode,V),b.return=_,_=b}return a(_);case Rr:return he=F._init,de(_,b,he(F._payload),V)}if(da(F))return k(_,b,F,V);if(ta(F))return R(_,b,F,V);Zs(_,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,b!==null&&b.tag===6?(n(_,b.sibling),b=i(b,F),b.return=_,_=b):(n(_,b),b=Xc(F,_.mode,V),b.return=_,_=b),a(_)):n(_,b)}return de}var bo=Rg(!0),Dg=Rg(!1),is={},ur=ti(is),Ga=ti(is),ja=ti(is);function bi(e){if(e===is)throw Error(Ee(174));return e}function jd(e,t){switch(gt(ja,t),gt(Ga,e),gt(ur,is),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mf(t,e)}_t(ur),gt(ur,t)}function ko(){_t(ur),_t(Ga),_t(ja)}function Og(e){bi(ja.current);var t=bi(ur.current),n=mf(t,e.type);t!==n&&(gt(Ga,e),gt(ur,n))}function Vd(e){Ga.current===e&&(_t(ur),_t(Ga))}var Tt=ti(0);function jl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jc=[];function $d(){for(var e=0;e<jc.length;e++)jc[e]._workInProgressVersionPrimary=null;jc.length=0}var pl=Ar.ReactCurrentDispatcher,Vc=Ar.ReactCurrentBatchConfig,Li=0,bt=null,Gt=null,Xt=null,Vl=!1,Ea=!1,Va=0,B2=0;function en(){throw Error(Ee(321))}function Ud(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zn(e[n],t[n]))return!1;return!0}function Hd(e,t,n,r,i,o){if(Li=o,bt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pl.current=e===null||e.memoizedState===null?$2:U2,e=n(r,i),Ea){o=0;do{if(Ea=!1,Va=0,25<=o)throw Error(Ee(301));o+=1,Xt=Gt=null,t.updateQueue=null,pl.current=H2,e=n(r,i)}while(Ea)}if(pl.current=$l,t=Gt!==null&&Gt.next!==null,Li=0,Xt=Gt=bt=null,Vl=!1,t)throw Error(Ee(300));return e}function Wd(){var e=Va!==0;return Va=0,e}function ar(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?bt.memoizedState=Xt=e:Xt=Xt.next=e,Xt}function Bn(){if(Gt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Gt.next;var t=Xt===null?bt.memoizedState:Xt.next;if(t!==null)Xt=t,Gt=e;else{if(e===null)throw Error(Ee(310));Gt=e,e={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},Xt===null?bt.memoizedState=Xt=e:Xt=Xt.next=e}return Xt}function $a(e,t){return typeof t=="function"?t(e):t}function $c(e){var t=Bn(),n=t.queue;if(n===null)throw Error(Ee(311));n.lastRenderedReducer=e;var r=Gt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var h=u.lane;if((Li&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,bt.lanes|=h,zi|=h}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,Zn(r,t.memoizedState)||(pn=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,bt.lanes|=o,zi|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Uc(e){var t=Bn(),n=t.queue;if(n===null)throw Error(Ee(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);Zn(o,t.memoizedState)||(pn=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Bg(){}function Gg(e,t){var n=bt,r=Bn(),i=t(),o=!Zn(r.memoizedState,i);if(o&&(r.memoizedState=i,pn=!0),r=r.queue,Xd($g.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Xt!==null&&Xt.memoizedState.tag&1){if(n.flags|=2048,Ua(9,Vg.bind(null,n,r,i,t),void 0,null),Yt===null)throw Error(Ee(349));Li&30||jg(n,t,i)}return i}function jg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=bt.updateQueue,t===null?(t={lastEffect:null,stores:null},bt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Vg(e,t,n,r){t.value=n,t.getSnapshot=r,Ug(t)&&Hg(e)}function $g(e,t,n){return n(function(){Ug(t)&&Hg(e)})}function Ug(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zn(e,n)}catch{return!0}}function Hg(e){var t=Tr(e,1);t!==null&&Kn(t,e,1,-1)}function v0(e){var t=ar();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:e},t.queue=e,e=e.dispatch=V2.bind(null,bt,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=bt.updateQueue,t===null?(t={lastEffect:null,stores:null},bt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Wg(){return Bn().memoizedState}function ml(e,t,n,r){var i=ar();bt.flags|=e,i.memoizedState=Ua(1|t,n,void 0,r===void 0?null:r)}function pu(e,t,n,r){var i=Bn();r=r===void 0?null:r;var o=void 0;if(Gt!==null){var a=Gt.memoizedState;if(o=a.destroy,r!==null&&Ud(r,a.deps)){i.memoizedState=Ua(t,n,o,r);return}}bt.flags|=e,i.memoizedState=Ua(1|t,n,o,r)}function g0(e,t){return ml(8390656,8,e,t)}function Xd(e,t){return pu(2048,8,e,t)}function Xg(e,t){return pu(4,2,e,t)}function Yg(e,t){return pu(4,4,e,t)}function qg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qg(e,t,n){return n=n!=null?n.concat([e]):null,pu(4,4,qg.bind(null,t,e),n)}function Yd(){}function Kg(e,t){var n=Bn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ud(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zg(e,t){var n=Bn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ud(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jg(e,t,n){return Li&21?(Zn(n,t)||(n=ng(),bt.lanes|=n,zi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,pn=!0),e.memoizedState=n)}function G2(e,t){var n=dt;dt=n!==0&&4>n?n:4,e(!0);var r=Vc.transition;Vc.transition={};try{e(!1),t()}finally{dt=n,Vc.transition=r}}function ey(){return Bn().memoizedState}function j2(e,t,n){var r=Yr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ty(e))ny(t,n);else if(n=Lg(e,t,n,r),n!==null){var i=ln();Kn(n,e,r,i),ry(n,t,r)}}function V2(e,t,n){var r=Yr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ty(e))ny(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Zn(s,a)){var l=t.interleaved;l===null?(i.next=i,Bd(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=Lg(e,t,i,r),n!==null&&(i=ln(),Kn(n,e,r,i),ry(n,t,r))}}function ty(e){var t=e.alternate;return e===bt||t!==null&&t===bt}function ny(e,t){Ea=Vl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ry(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bd(e,n)}}var $l={readContext:On,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},$2={readContext:On,useCallback:function(e,t){return ar().memoizedState=[e,t===void 0?null:t],e},useContext:On,useEffect:g0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ml(4194308,4,qg.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ml(4194308,4,e,t)},useInsertionEffect:function(e,t){return ml(4,2,e,t)},useMemo:function(e,t){var n=ar();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ar();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=j2.bind(null,bt,e),[r.memoizedState,e]},useRef:function(e){var t=ar();return e={current:e},t.memoizedState=e},useState:v0,useDebugValue:Yd,useDeferredValue:function(e){return ar().memoizedState=e},useTransition:function(){var e=v0(!1),t=e[0];return e=G2.bind(null,e[1]),ar().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=bt,i=ar();if(St){if(n===void 0)throw Error(Ee(407));n=n()}else{if(n=t(),Yt===null)throw Error(Ee(349));Li&30||jg(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,g0($g.bind(null,r,o,e),[e]),r.flags|=2048,Ua(9,Vg.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ar(),t=Yt.identifierPrefix;if(St){var n=xr,r=yr;n=(r&~(1<<32-Qn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Va++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=B2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},U2={readContext:On,useCallback:Kg,useContext:On,useEffect:Xd,useImperativeHandle:Qg,useInsertionEffect:Xg,useLayoutEffect:Yg,useMemo:Zg,useReducer:$c,useRef:Wg,useState:function(){return $c($a)},useDebugValue:Yd,useDeferredValue:function(e){var t=Bn();return Jg(t,Gt.memoizedState,e)},useTransition:function(){var e=$c($a)[0],t=Bn().memoizedState;return[e,t]},useMutableSource:Bg,useSyncExternalStore:Gg,useId:ey,unstable_isNewReconciler:!1},H2={readContext:On,useCallback:Kg,useContext:On,useEffect:Xd,useImperativeHandle:Qg,useInsertionEffect:Xg,useLayoutEffect:Yg,useMemo:Zg,useReducer:Uc,useRef:Wg,useState:function(){return Uc($a)},useDebugValue:Yd,useDeferredValue:function(e){var t=Bn();return Gt===null?t.memoizedState=e:Jg(t,Gt.memoizedState,e)},useTransition:function(){var e=Uc($a)[0],t=Bn().memoizedState;return[e,t]},useMutableSource:Bg,useSyncExternalStore:Gg,useId:ey,unstable_isNewReconciler:!1};function Ao(e,t){try{var n="",r=t;do n+=xw(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Hc(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Of(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var W2=typeof WeakMap=="function"?WeakMap:Map;function iy(e,t,n){n=Sr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Yf=r),Of(e,t)},n}function oy(e,t,n){n=Sr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Of(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Of(e,t),typeof r!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function y0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new W2;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=aE.bind(null,e,t,n),t.then(e,e))}function x0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _0(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Sr(-1,1),t.tag=2,Wr(n,t,1))),n.lanes|=1),e)}var X2=Ar.ReactCurrentOwner,pn=!1;function an(e,t,n,r){t.child=e===null?Dg(t,null,n,r):bo(t,e.child,n,r)}function S0(e,t,n,r,i){n=n.render;var o=t.ref;return xo(t,i),r=Hd(e,t,n,r,o,i),n=Wd(),e!==null&&!pn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,br(e,t,i)):(St&&n&&zd(t),t.flags|=1,an(e,t,r,i),t.child)}function w0(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!nh(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,ay(e,t,o,r,i)):(e=xl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ra,n(a,r)&&e.ref===t.ref)return br(e,t,i)}return t.flags|=1,e=qr(o,r),e.ref=t.ref,e.return=t,t.child=e}function ay(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Ra(o,r)&&e.ref===t.ref)if(pn=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(pn=!0);else return t.lanes=e.lanes,br(e,t,i)}return Bf(e,t,n,r,i)}function sy(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(ho,Tn),Tn|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,gt(ho,Tn),Tn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,gt(ho,Tn),Tn|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,gt(ho,Tn),Tn|=r;return an(e,t,i,n),t.child}function ly(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Bf(e,t,n,r,i){var o=gn(n)?Fi:on.current;return o=Eo(t,o),xo(t,i),n=Hd(e,t,n,r,o,i),r=Wd(),e!==null&&!pn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,br(e,t,i)):(St&&r&&zd(t),t.flags|=1,an(e,t,n,i),t.child)}function E0(e,t,n,r,i){if(gn(n)){var o=!0;Ml(t)}else o=!1;if(xo(t,i),t.stateNode===null)vl(e,t),Mg(t,n,r),Df(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=On(u):(u=gn(n)?Fi:on.current,u=Eo(t,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&p0(t,a,r,u),Dr=!1;var d=t.memoizedState;a.state=d,Gl(t,r,a,i),l=t.memoizedState,s!==r||d!==l||vn.current||Dr?(typeof h=="function"&&(Rf(t,n,h,r),l=t.memoizedState),(s=Dr||h0(t,n,s,r,d,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,zg(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Un(t.type,s),a.props=u,f=t.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=On(l):(l=gn(n)?Fi:on.current,l=Eo(t,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||d!==l)&&p0(t,a,r,l),Dr=!1,d=t.memoizedState,a.state=d,Gl(t,r,a,i);var k=t.memoizedState;s!==f||d!==k||vn.current||Dr?(typeof m=="function"&&(Rf(t,n,m,r),k=t.memoizedState),(u=Dr||h0(t,n,u,r,d,k,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,k,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,k,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),a.props=r,a.state=k,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Gf(e,t,n,r,o,i)}function Gf(e,t,n,r,i,o){ly(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&l0(t,n,!1),br(e,t,o);r=t.stateNode,X2.current=t;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=bo(t,e.child,null,o),t.child=bo(t,null,s,o)):an(e,t,s,o),t.memoizedState=r.state,i&&l0(t,n,!0),t.child}function uy(e){var t=e.stateNode;t.pendingContext?s0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&s0(e,t.context,!1),jd(e,t.containerInfo)}function T0(e,t,n,r,i){return To(),Md(i),t.flags|=256,an(e,t,n,r),t.child}var jf={dehydrated:null,treeContext:null,retryLane:0};function Vf(e){return{baseLanes:e,cachePool:null,transitions:null}}function cy(e,t,n){var r=t.pendingProps,i=Tt.current,o=!1,a=(t.flags&128)!==0,s;if((s=a)||(s=e!==null&&e.memoizedState===null?!1:(i&2)!==0),s?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),gt(Tt,i&1),e===null)return If(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=gu(a,r,0,null),e=Ci(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Vf(n),t.memoizedState=jf,e):qd(t,a));if(i=e.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return Y2(e,t,a,r,s,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=qr(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=qr(s,o):(o=Ci(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?Vf(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=jf,r}return o=e.child,e=o.sibling,r=qr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function qd(e,t){return t=gu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Js(e,t,n,r){return r!==null&&Md(r),bo(t,e.child,null,n),e=qd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Y2(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=Hc(Error(Ee(422))),Js(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=gu({mode:"visible",children:r.children},i,0,null),o=Ci(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&bo(t,e.child,null,a),t.child.memoizedState=Vf(a),t.memoizedState=jf,o);if(!(t.mode&1))return Js(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(Ee(419)),r=Hc(o,r,void 0),Js(e,t,a,r)}if(s=(a&e.childLanes)!==0,pn||s){if(r=Yt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Tr(e,i),Kn(r,e,i,-1))}return th(),r=Hc(Error(Ee(421))),Js(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=sE.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,bn=Hr(i.nextSibling),kn=t,St=!0,Wn=null,e!==null&&(In[Mn++]=yr,In[Mn++]=xr,In[Mn++]=Pi,yr=e.id,xr=e.overflow,Pi=t),t=qd(t,r.children),t.flags|=4096,t)}function b0(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Mf(e.return,t,n)}function Wc(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function fy(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(an(e,t,r.children,n),r=Tt.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&b0(e,n,t);else if(e.tag===19)b0(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(gt(Tt,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&jl(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wc(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&jl(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wc(t,!0,n,null,o);break;case"together":Wc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function br(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),zi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ee(153));if(t.child!==null){for(e=t.child,n=qr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=qr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function q2(e,t,n){switch(t.tag){case 3:uy(t),To();break;case 5:Og(t);break;case 1:gn(t.type)&&Ml(t);break;case 4:jd(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;gt(Ol,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(gt(Tt,Tt.current&1),t.flags|=128,null):n&t.child.childLanes?cy(e,t,n):(gt(Tt,Tt.current&1),e=br(e,t,n),e!==null?e.sibling:null);gt(Tt,Tt.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return fy(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),gt(Tt,Tt.current),r)break;return null;case 22:case 23:return t.lanes=0,sy(e,t,n)}return br(e,t,n)}var dy,$f,hy,py;dy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$f=function(){};hy=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,bi(ur.current);var o=null;switch(n){case"input":i=ff(e,i),r=ff(e,r),o=[];break;case"select":i=kt({},i,{value:void 0}),r=kt({},r,{value:void 0}),o=[];break;case"textarea":i=pf(e,i),r=pf(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=zl)}vf(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Na.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Na.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&xt("scroll",e),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};py=function(e,t,n,r){n!==r&&(t.flags|=4)};function sa(e,t){if(!St)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function tn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Q2(e,t,n){var r=t.pendingProps;switch(Id(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(t),null;case 1:return gn(t.type)&&Il(),tn(t),null;case 3:return r=t.stateNode,ko(),_t(vn),_t(on),$d(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ks(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wn!==null&&(Kf(Wn),Wn=null))),$f(e,t),tn(t),null;case 5:Vd(t);var i=bi(ja.current);if(n=t.type,e!==null&&t.stateNode!=null)hy(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ee(166));return tn(t),null}if(e=bi(ur.current),Ks(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[sr]=t,r[Ba]=o,e=(t.mode&1)!==0,n){case"dialog":xt("cancel",r),xt("close",r);break;case"iframe":case"object":case"embed":xt("load",r);break;case"video":case"audio":for(i=0;i<pa.length;i++)xt(pa[i],r);break;case"source":xt("error",r);break;case"img":case"image":case"link":xt("error",r),xt("load",r);break;case"details":xt("toggle",r);break;case"input":Im(r,o),xt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},xt("invalid",r);break;case"textarea":Rm(r,o),xt("invalid",r)}vf(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Qs(r.textContent,s,e),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Qs(r.textContent,s,e),i=["children",""+s]):Na.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&xt("scroll",r)}switch(n){case"input":Vs(r),Mm(r,o,!0);break;case"textarea":Vs(r),Dm(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=zl)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jv(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[sr]=t,e[Ba]=r,dy(e,t,!1,!1),t.stateNode=e;e:{switch(a=gf(n,r),n){case"dialog":xt("cancel",e),xt("close",e),i=r;break;case"iframe":case"object":case"embed":xt("load",e),i=r;break;case"video":case"audio":for(i=0;i<pa.length;i++)xt(pa[i],e);i=r;break;case"source":xt("error",e),i=r;break;case"img":case"image":case"link":xt("error",e),xt("load",e),i=r;break;case"details":xt("toggle",e),i=r;break;case"input":Im(e,r),i=ff(e,r),xt("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=kt({},r,{value:void 0}),xt("invalid",e);break;case"textarea":Rm(e,r),i=pf(e,r),xt("invalid",e);break;default:i=r}vf(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?Uv(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Vv(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Fa(e,l):typeof l=="number"&&Fa(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Na.hasOwnProperty(o)?l!=null&&o==="onScroll"&&xt("scroll",e):l!=null&&xd(e,o,l,a))}switch(n){case"input":Vs(e),Mm(e,r,!1);break;case"textarea":Vs(e),Dm(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Qr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?mo(e,!!r.multiple,o,!1):r.defaultValue!=null&&mo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=zl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return tn(t),null;case 6:if(e&&t.stateNode!=null)py(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ee(166));if(n=bi(ja.current),bi(ur.current),Ks(t)){if(r=t.stateNode,n=t.memoizedProps,r[sr]=t,(o=r.nodeValue!==n)&&(e=kn,e!==null))switch(e.tag){case 3:Qs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qs(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sr]=t,t.stateNode=r}return tn(t),null;case 13:if(_t(Tt),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(St&&bn!==null&&t.mode&1&&!(t.flags&128))Pg(),To(),t.flags|=98560,o=!1;else if(o=Ks(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(Ee(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Ee(317));o[sr]=t}else To(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;tn(t),o=!1}else Wn!==null&&(Kf(Wn),Wn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Tt.current&1?jt===0&&(jt=3):th())),t.updateQueue!==null&&(t.flags|=4),tn(t),null);case 4:return ko(),$f(e,t),e===null&&Da(t.stateNode.containerInfo),tn(t),null;case 10:return Od(t.type._context),tn(t),null;case 17:return gn(t.type)&&Il(),tn(t),null;case 19:if(_t(Tt),o=t.memoizedState,o===null)return tn(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)sa(o,!1);else{if(jt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=jl(e),a!==null){for(t.flags|=128,sa(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return gt(Tt,Tt.current&1|2),t.child}e=e.sibling}o.tail!==null&&It()>Co&&(t.flags|=128,r=!0,sa(o,!1),t.lanes=4194304)}else{if(!r)if(e=jl(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),sa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!St)return tn(t),null}else 2*It()-o.renderingStartTime>Co&&n!==1073741824&&(t.flags|=128,r=!0,sa(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=It(),t.sibling=null,n=Tt.current,gt(Tt,r?n&1|2:n&1),t):(tn(t),null);case 22:case 23:return eh(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Tn&1073741824&&(tn(t),t.subtreeFlags&6&&(t.flags|=8192)):tn(t),null;case 24:return null;case 25:return null}throw Error(Ee(156,t.tag))}function K2(e,t){switch(Id(t),t.tag){case 1:return gn(t.type)&&Il(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ko(),_t(vn),_t(on),$d(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Vd(t),null;case 13:if(_t(Tt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ee(340));To()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _t(Tt),null;case 4:return ko(),null;case 10:return Od(t.type._context),null;case 22:case 23:return eh(),null;case 24:return null;default:return null}}var el=!1,nn=!1,Z2=typeof WeakSet=="function"?WeakSet:Set,Be=null;function fo(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ft(e,t,r)}else n.current=null}function Uf(e,t,n){try{n()}catch(r){Ft(e,t,r)}}var k0=!1;function J2(e,t){if(Af=Fl,e=yg(),Ld(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,h=0,f=e,d=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)d=f,f=m;for(;;){if(f===e)break t;if(d===n&&++u===i&&(s=a),d===o&&++h===r&&(l=a),(m=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cf={focusedElem:e,selectionRange:n},Fl=!1,Be=t;Be!==null;)if(t=Be,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Be=e;else for(;Be!==null;){t=Be;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var R=k.memoizedProps,de=k.memoizedState,_=t.stateNode,b=_.getSnapshotBeforeUpdate(t.elementType===t.type?R:Un(t.type,R),de);_.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var F=t.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ee(163))}}catch(V){Ft(t,t.return,V)}if(e=t.sibling,e!==null){e.return=t.return,Be=e;break}Be=t.return}return k=k0,k0=!1,k}function Ta(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Uf(t,n,o)}i=i.next}while(i!==r)}}function mu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Hf(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function my(e){var t=e.alternate;t!==null&&(e.alternate=null,my(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[sr],delete t[Ba],delete t[Pf],delete t[M2],delete t[R2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vy(e){return e.tag===5||e.tag===3||e.tag===4}function A0(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=zl));else if(r!==4&&(e=e.child,e!==null))for(Wf(e,t,n),e=e.sibling;e!==null;)Wf(e,t,n),e=e.sibling}function Xf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Xf(e,t,n),e=e.sibling;e!==null;)Xf(e,t,n),e=e.sibling}var Kt=null,Hn=!1;function Mr(e,t,n){for(n=n.child;n!==null;)gy(e,t,n),n=n.sibling}function gy(e,t,n){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(su,n)}catch{}switch(n.tag){case 5:nn||fo(n,t);case 6:var r=Kt,i=Hn;Kt=null,Mr(e,t,n),Kt=r,Hn=i,Kt!==null&&(Hn?(e=Kt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Kt.removeChild(n.stateNode));break;case 18:Kt!==null&&(Hn?(e=Kt,n=n.stateNode,e.nodeType===8?Bc(e.parentNode,n):e.nodeType===1&&Bc(e,n),Ia(e)):Bc(Kt,n.stateNode));break;case 4:r=Kt,i=Hn,Kt=n.stateNode.containerInfo,Hn=!0,Mr(e,t,n),Kt=r,Hn=i;break;case 0:case 11:case 14:case 15:if(!nn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&Uf(n,t,a),i=i.next}while(i!==r)}Mr(e,t,n);break;case 1:if(!nn&&(fo(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Ft(n,t,s)}Mr(e,t,n);break;case 21:Mr(e,t,n);break;case 22:n.mode&1?(nn=(r=nn)||n.memoizedState!==null,Mr(e,t,n),nn=r):Mr(e,t,n);break;default:Mr(e,t,n)}}function C0(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Z2),t.forEach(function(r){var i=lE.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function $n(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,s=a;e:for(;s!==null;){switch(s.tag){case 5:Kt=s.stateNode,Hn=!1;break e;case 3:Kt=s.stateNode.containerInfo,Hn=!0;break e;case 4:Kt=s.stateNode.containerInfo,Hn=!0;break e}s=s.return}if(Kt===null)throw Error(Ee(160));gy(o,a,i),Kt=null,Hn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ft(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yy(t,e),t=t.sibling}function yy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($n(t,e),or(e),r&4){try{Ta(3,e,e.return),mu(3,e)}catch(R){Ft(e,e.return,R)}try{Ta(5,e,e.return)}catch(R){Ft(e,e.return,R)}}break;case 1:$n(t,e),or(e),r&512&&n!==null&&fo(n,n.return);break;case 5:if($n(t,e),or(e),r&512&&n!==null&&fo(n,n.return),e.flags&32){var i=e.stateNode;try{Fa(i,"")}catch(R){Ft(e,e.return,R)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&Bv(i,o),gf(s,a);var u=gf(s,o);for(a=0;a<l.length;a+=2){var h=l[a],f=l[a+1];h==="style"?Uv(i,f):h==="dangerouslySetInnerHTML"?Vv(i,f):h==="children"?Fa(i,f):xd(i,h,f,u)}switch(s){case"input":df(i,o);break;case"textarea":Gv(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?mo(i,!!o.multiple,m,!1):d!==!!o.multiple&&(o.defaultValue!=null?mo(i,!!o.multiple,o.defaultValue,!0):mo(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ba]=o}catch(R){Ft(e,e.return,R)}}break;case 6:if($n(t,e),or(e),r&4){if(e.stateNode===null)throw Error(Ee(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(R){Ft(e,e.return,R)}}break;case 3:if($n(t,e),or(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ia(t.containerInfo)}catch(R){Ft(e,e.return,R)}break;case 4:$n(t,e),or(e);break;case 13:$n(t,e),or(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Zd=It())),r&4&&C0(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(nn=(u=nn)||h,$n(t,e),nn=u):$n(t,e),or(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(Be=e,h=e.child;h!==null;){for(f=Be=h;Be!==null;){switch(d=Be,m=d.child,d.tag){case 0:case 11:case 14:case 15:Ta(4,d,d.return);break;case 1:fo(d,d.return);var k=d.stateNode;if(typeof k.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(R){Ft(r,n,R)}}break;case 5:fo(d,d.return);break;case 22:if(d.memoizedState!==null){F0(f);continue}}m!==null?(m.return=d,Be=m):F0(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=$v("display",a))}catch(R){Ft(e,e.return,R)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(R){Ft(e,e.return,R)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:$n(t,e),or(e),r&4&&C0(e);break;case 21:break;default:$n(t,e),or(e)}}function or(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(vy(n)){var r=n;break e}n=n.return}throw Error(Ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fa(i,""),r.flags&=-33);var o=A0(e);Xf(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=A0(e);Wf(e,s,a);break;default:throw Error(Ee(161))}}catch(l){Ft(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function eE(e,t,n){Be=e,xy(e)}function xy(e,t,n){for(var r=(e.mode&1)!==0;Be!==null;){var i=Be,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||el;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||nn;s=el;var u=nn;if(el=a,(nn=l)&&!u)for(Be=i;Be!==null;)a=Be,l=a.child,a.tag===22&&a.memoizedState!==null?P0(i):l!==null?(l.return=a,Be=l):P0(i);for(;o!==null;)Be=o,xy(o),o=o.sibling;Be=i,el=s,nn=u}N0(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Be=o):N0(e)}}function N0(e){for(;Be!==null;){var t=Be;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:nn||mu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!nn)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Un(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&d0(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}d0(t,a,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Ia(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ee(163))}nn||t.flags&512&&Hf(t)}catch(d){Ft(t,t.return,d)}}if(t===e){Be=null;break}if(n=t.sibling,n!==null){n.return=t.return,Be=n;break}Be=t.return}}function F0(e){for(;Be!==null;){var t=Be;if(t===e){Be=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Be=n;break}Be=t.return}}function P0(e){for(;Be!==null;){var t=Be;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{mu(4,t)}catch(l){Ft(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Ft(t,i,l)}}var o=t.return;try{Hf(t)}catch(l){Ft(t,o,l)}break;case 5:var a=t.return;try{Hf(t)}catch(l){Ft(t,a,l)}}}catch(l){Ft(t,t.return,l)}if(t===e){Be=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Be=s;break}Be=t.return}}var tE=Math.ceil,Ul=Ar.ReactCurrentDispatcher,Qd=Ar.ReactCurrentOwner,Dn=Ar.ReactCurrentBatchConfig,ct=0,Yt=null,Rt=null,Zt=0,Tn=0,ho=ti(0),jt=0,Ha=null,zi=0,vu=0,Kd=0,ba=null,hn=null,Zd=0,Co=1/0,vr=null,Hl=!1,Yf=null,Xr=null,tl=!1,jr=null,Wl=0,ka=0,qf=null,gl=-1,yl=0;function ln(){return ct&6?It():gl!==-1?gl:gl=It()}function Yr(e){return e.mode&1?ct&2&&Zt!==0?Zt&-Zt:O2.transition!==null?(yl===0&&(yl=ng()),yl):(e=dt,e!==0||(e=window.event,e=e===void 0?16:ug(e.type)),e):1}function Kn(e,t,n,r){if(50<ka)throw ka=0,qf=null,Error(Ee(185));ts(e,n,r),(!(ct&2)||e!==Yt)&&(e===Yt&&(!(ct&2)&&(vu|=n),jt===4&&Br(e,Zt)),yn(e,r),n===1&&ct===0&&!(t.mode&1)&&(Co=It()+500,du&&ni()))}function yn(e,t){var n=e.callbackNode;Ow(e,t);var r=Nl(e,e===Yt?Zt:0);if(r===0)n!==null&&Gm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Gm(n),t===1)e.tag===0?D2(L0.bind(null,e)):Cg(L0.bind(null,e)),z2(function(){!(ct&6)&&ni()}),n=null;else{switch(rg(r)){case 1:n=Td;break;case 4:n=eg;break;case 16:n=Cl;break;case 536870912:n=tg;break;default:n=Cl}n=Ay(n,_y.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function _y(e,t){if(gl=-1,yl=0,ct&6)throw Error(Ee(327));var n=e.callbackNode;if(_o()&&e.callbackNode!==n)return null;var r=Nl(e,e===Yt?Zt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Xl(e,r);else{t=r;var i=ct;ct|=2;var o=wy();(Yt!==e||Zt!==t)&&(vr=null,Co=It()+500,Ai(e,t));do try{iE();break}catch(s){Sy(e,s)}while(1);Dd(),Ul.current=o,ct=i,Rt!==null?t=0:(Yt=null,Zt=0,t=jt)}if(t!==0){if(t===2&&(i=wf(e),i!==0&&(r=i,t=Qf(e,i))),t===1)throw n=Ha,Ai(e,0),Br(e,r),yn(e,It()),n;if(t===6)Br(e,r);else{if(i=e.current.alternate,!(r&30)&&!nE(i)&&(t=Xl(e,r),t===2&&(o=wf(e),o!==0&&(r=o,t=Qf(e,o))),t===1))throw n=Ha,Ai(e,0),Br(e,r),yn(e,It()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(Ee(345));case 2:Si(e,hn,vr);break;case 3:if(Br(e,r),(r&130023424)===r&&(t=Zd+500-It(),10<t)){if(Nl(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ln(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ff(Si.bind(null,e,hn,vr),t);break}Si(e,hn,vr);break;case 4:if(Br(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Qn(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=It()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tE(r/1960))-r,10<r){e.timeoutHandle=Ff(Si.bind(null,e,hn,vr),r);break}Si(e,hn,vr);break;case 5:Si(e,hn,vr);break;default:throw Error(Ee(329))}}}return yn(e,It()),e.callbackNode===n?_y.bind(null,e):null}function Qf(e,t){var n=ba;return e.current.memoizedState.isDehydrated&&(Ai(e,t).flags|=256),e=Xl(e,t),e!==2&&(t=hn,hn=n,t!==null&&Kf(t)),e}function Kf(e){hn===null?hn=e:hn.push.apply(hn,e)}function nE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Zn(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Br(e,t){for(t&=~Kd,t&=~vu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Qn(t),r=1<<n;e[n]=-1,t&=~r}}function L0(e){if(ct&6)throw Error(Ee(327));_o();var t=Nl(e,0);if(!(t&1))return yn(e,It()),null;var n=Xl(e,t);if(e.tag!==0&&n===2){var r=wf(e);r!==0&&(t=r,n=Qf(e,r))}if(n===1)throw n=Ha,Ai(e,0),Br(e,t),yn(e,It()),n;if(n===6)throw Error(Ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Si(e,hn,vr),yn(e,It()),null}function Jd(e,t){var n=ct;ct|=1;try{return e(t)}finally{ct=n,ct===0&&(Co=It()+500,du&&ni())}}function Ii(e){jr!==null&&jr.tag===0&&!(ct&6)&&_o();var t=ct;ct|=1;var n=Dn.transition,r=dt;try{if(Dn.transition=null,dt=1,e)return e()}finally{dt=r,Dn.transition=n,ct=t,!(ct&6)&&ni()}}function eh(){Tn=ho.current,_t(ho)}function Ai(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,L2(n)),Rt!==null)for(n=Rt.return;n!==null;){var r=n;switch(Id(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Il();break;case 3:ko(),_t(vn),_t(on),$d();break;case 5:Vd(r);break;case 4:ko();break;case 13:_t(Tt);break;case 19:_t(Tt);break;case 10:Od(r.type._context);break;case 22:case 23:eh()}n=n.return}if(Yt=e,Rt=e=qr(e.current,null),Zt=Tn=t,jt=0,Ha=null,Kd=vu=zi=0,hn=ba=null,Ti!==null){for(t=0;t<Ti.length;t++)if(n=Ti[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}Ti=null}return e}function Sy(e,t){do{var n=Rt;try{if(Dd(),pl.current=$l,Vl){for(var r=bt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Vl=!1}if(Li=0,Xt=Gt=bt=null,Ea=!1,Va=0,Qd.current=null,n===null||n.return===null){jt=1,Ha=t,Rt=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=Zt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=s,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=x0(a);if(m!==null){m.flags&=-257,_0(m,a,s,o,t),m.mode&1&&y0(o,u,t),t=m,l=u;var k=t.updateQueue;if(k===null){var R=new Set;R.add(l),t.updateQueue=R}else k.add(l);break e}else{if(!(t&1)){y0(o,u,t),th();break e}l=Error(Ee(426))}}else if(St&&s.mode&1){var de=x0(a);if(de!==null){!(de.flags&65536)&&(de.flags|=256),_0(de,a,s,o,t),Md(Ao(l,s));break e}}o=l=Ao(l,s),jt!==4&&(jt=2),ba===null?ba=[o]:ba.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var _=iy(o,l,t);f0(o,_);break e;case 1:s=l;var b=o.type,F=o.stateNode;if(!(o.flags&128)&&(typeof b.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(Xr===null||!Xr.has(F)))){o.flags|=65536,t&=-t,o.lanes|=t;var V=oy(o,s,t);f0(o,V);break e}}o=o.return}while(o!==null)}Ty(n)}catch(W){t=W,Rt===n&&n!==null&&(Rt=n=n.return);continue}break}while(1)}function wy(){var e=Ul.current;return Ul.current=$l,e===null?$l:e}function th(){(jt===0||jt===3||jt===2)&&(jt=4),Yt===null||!(zi&268435455)&&!(vu&268435455)||Br(Yt,Zt)}function Xl(e,t){var n=ct;ct|=2;var r=wy();(Yt!==e||Zt!==t)&&(vr=null,Ai(e,t));do try{rE();break}catch(i){Sy(e,i)}while(1);if(Dd(),ct=n,Ul.current=r,Rt!==null)throw Error(Ee(261));return Yt=null,Zt=0,jt}function rE(){for(;Rt!==null;)Ey(Rt)}function iE(){for(;Rt!==null&&!Nw();)Ey(Rt)}function Ey(e){var t=ky(e.alternate,e,Tn);e.memoizedProps=e.pendingProps,t===null?Ty(e):Rt=t,Qd.current=null}function Ty(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=K2(n,t),n!==null){n.flags&=32767,Rt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{jt=6,Rt=null;return}}else if(n=Q2(n,t,Tn),n!==null){Rt=n;return}if(t=t.sibling,t!==null){Rt=t;return}Rt=t=e}while(t!==null);jt===0&&(jt=5)}function Si(e,t,n){var r=dt,i=Dn.transition;try{Dn.transition=null,dt=1,oE(e,t,n,r)}finally{Dn.transition=i,dt=r}return null}function oE(e,t,n,r){do _o();while(jr!==null);if(ct&6)throw Error(Ee(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ee(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Bw(e,o),e===Yt&&(Rt=Yt=null,Zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||tl||(tl=!0,Ay(Cl,function(){return _o(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Dn.transition,Dn.transition=null;var a=dt;dt=1;var s=ct;ct|=4,Qd.current=null,J2(e,n),yy(n,e),b2(Cf),Fl=!!Af,Cf=Af=null,e.current=n,eE(n),Fw(),ct=s,dt=a,Dn.transition=o}else e.current=n;if(tl&&(tl=!1,jr=e,Wl=i),o=e.pendingLanes,o===0&&(Xr=null),zw(n.stateNode),yn(e,It()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Yf,Yf=null,e;return Wl&1&&e.tag!==0&&_o(),o=e.pendingLanes,o&1?e===qf?ka++:(ka=0,qf=e):ka=0,ni(),null}function _o(){if(jr!==null){var e=rg(Wl),t=Dn.transition,n=dt;try{if(Dn.transition=null,dt=16>e?16:e,jr===null)var r=!1;else{if(e=jr,jr=null,Wl=0,ct&6)throw Error(Ee(331));var i=ct;for(ct|=4,Be=e.current;Be!==null;){var o=Be,a=o.child;if(Be.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Be=u;Be!==null;){var h=Be;switch(h.tag){case 0:case 11:case 15:Ta(8,h,o)}var f=h.child;if(f!==null)f.return=h,Be=f;else for(;Be!==null;){h=Be;var d=h.sibling,m=h.return;if(my(h),h===u){Be=null;break}if(d!==null){d.return=m,Be=d;break}Be=m}}}var k=o.alternate;if(k!==null){var R=k.child;if(R!==null){k.child=null;do{var de=R.sibling;R.sibling=null,R=de}while(R!==null)}}Be=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Be=a;else e:for(;Be!==null;){if(o=Be,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ta(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,Be=_;break e}Be=o.return}}var b=e.current;for(Be=b;Be!==null;){a=Be;var F=a.child;if(a.subtreeFlags&2064&&F!==null)F.return=a,Be=F;else e:for(a=b;Be!==null;){if(s=Be,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:mu(9,s)}}catch(W){Ft(s,s.return,W)}if(s===a){Be=null;break e}var V=s.sibling;if(V!==null){V.return=s.return,Be=V;break e}Be=s.return}}if(ct=i,ni(),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(su,e)}catch{}r=!0}return r}finally{dt=n,Dn.transition=t}}return!1}function z0(e,t,n){t=Ao(n,t),t=iy(e,t,1),e=Wr(e,t,1),t=ln(),e!==null&&(ts(e,1,t),yn(e,t))}function Ft(e,t,n){if(e.tag===3)z0(e,e,n);else for(;t!==null;){if(t.tag===3){z0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xr===null||!Xr.has(r))){e=Ao(n,e),e=oy(t,e,1),t=Wr(t,e,1),e=ln(),t!==null&&(ts(t,1,e),yn(t,e));break}}t=t.return}}function aE(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ln(),e.pingedLanes|=e.suspendedLanes&n,Yt===e&&(Zt&n)===n&&(jt===4||jt===3&&(Zt&130023424)===Zt&&500>It()-Zd?Ai(e,0):Kd|=n),yn(e,t)}function by(e,t){t===0&&(e.mode&1?(t=Hs,Hs<<=1,!(Hs&130023424)&&(Hs=4194304)):t=1);var n=ln();e=Tr(e,t),e!==null&&(ts(e,t,n),yn(e,n))}function sE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),by(e,n)}function lE(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ee(314))}r!==null&&r.delete(t),by(e,n)}var ky;ky=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||vn.current)pn=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return pn=!1,q2(e,t,n);pn=!!(e.flags&131072)}else pn=!1,St&&t.flags&1048576&&Ng(t,Dl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;vl(e,t),e=t.pendingProps;var i=Eo(t,on.current);xo(t,n),i=Hd(null,t,r,e,i,n);var o=Wd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gn(r)?(o=!0,Ml(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gd(t),i.updater=hu,t.stateNode=i,i._reactInternals=t,Df(t,r,e,n),t=Gf(null,t,r,!0,o,n)):(t.tag=0,St&&o&&zd(t),an(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(vl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=cE(r),e=Un(r,e),i){case 0:t=Bf(null,t,r,e,n);break e;case 1:t=E0(null,t,r,e,n);break e;case 11:t=S0(null,t,r,e,n);break e;case 14:t=w0(null,t,r,Un(r.type,e),n);break e}throw Error(Ee(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Un(r,i),Bf(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Un(r,i),E0(e,t,r,i,n);case 3:e:{if(uy(t),e===null)throw Error(Ee(387));r=t.pendingProps,o=t.memoizedState,i=o.element,zg(e,t),Gl(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Ao(Error(Ee(423)),t),t=T0(e,t,r,n,i);break e}else if(r!==i){i=Ao(Error(Ee(424)),t),t=T0(e,t,r,n,i);break e}else for(bn=Hr(t.stateNode.containerInfo.firstChild),kn=t,St=!0,Wn=null,n=Dg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(To(),r===i){t=br(e,t,n);break e}an(e,t,r,n)}t=t.child}return t;case 5:return Og(t),e===null&&If(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,Nf(r,i)?a=null:o!==null&&Nf(r,o)&&(t.flags|=32),ly(e,t),an(e,t,a,n),t.child;case 6:return e===null&&If(t),null;case 13:return cy(e,t,n);case 4:return jd(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=bo(t,null,r,n):an(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Un(r,i),S0(e,t,r,i,n);case 7:return an(e,t,t.pendingProps,n),t.child;case 8:return an(e,t,t.pendingProps.children,n),t.child;case 12:return an(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,gt(Ol,r._currentValue),r._currentValue=a,o!==null)if(Zn(o.value,a)){if(o.children===i.children&&!vn.current){t=br(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Sr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Mf(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(Ee(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),Mf(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}an(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,xo(t,n),i=On(i),r=r(i),t.flags|=1,an(e,t,r,n),t.child;case 14:return r=t.type,i=Un(r,t.pendingProps),i=Un(r.type,i),w0(e,t,r,i,n);case 15:return ay(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Un(r,i),vl(e,t),t.tag=1,gn(r)?(e=!0,Ml(t)):e=!1,xo(t,n),Mg(t,r,i),Df(t,r,i,n),Gf(null,t,r,!0,e,n);case 19:return fy(e,t,n);case 22:return sy(e,t,n)}throw Error(Ee(156,t.tag))};function Ay(e,t){return Jv(e,t)}function uE(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(e,t,n,r){return new uE(e,t,n,r)}function nh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cE(e){if(typeof e=="function")return nh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Sd)return 11;if(e===wd)return 14}return 2}function qr(e,t){var n=e.alternate;return n===null?(n=Rn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function xl(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")nh(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case no:return Ci(n.children,i,o,t);case _d:a=8,i|=8;break;case sf:return e=Rn(12,n,t,i|2),e.elementType=sf,e.lanes=o,e;case lf:return e=Rn(13,n,t,i),e.elementType=lf,e.lanes=o,e;case uf:return e=Rn(19,n,t,i),e.elementType=uf,e.lanes=o,e;case Rv:return gu(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Iv:a=10;break e;case Mv:a=9;break e;case Sd:a=11;break e;case wd:a=14;break e;case Rr:a=16,r=null;break e}throw Error(Ee(130,e==null?e:typeof e,""))}return t=Rn(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Ci(e,t,n,r){return e=Rn(7,e,r,t),e.lanes=n,e}function gu(e,t,n,r){return e=Rn(22,e,r,t),e.elementType=Rv,e.lanes=n,e.stateNode={isHidden:!1},e}function Xc(e,t,n){return e=Rn(6,e,null,t),e.lanes=n,e}function Yc(e,t,n){return t=Rn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fE(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cc(0),this.expirationTimes=Cc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function rh(e,t,n,r,i,o,a,s,l){return e=new fE(e,t,n,s,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Rn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gd(o),e}function dE(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:to,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Cy(e){if(!e)return Kr;e=e._reactInternals;e:{if(Di(e)!==e||e.tag!==1)throw Error(Ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ee(171))}if(e.tag===1){var n=e.type;if(gn(n))return Ag(e,n,t)}return t}function Ny(e,t,n,r,i,o,a,s,l){return e=rh(n,r,!0,e,i,o,a,s,l),e.context=Cy(null),n=e.current,r=ln(),i=Yr(n),o=Sr(r,i),o.callback=t??null,Wr(n,o,i),e.current.lanes=i,ts(e,i,r),yn(e,r),e}function yu(e,t,n,r){var i=t.current,o=ln(),a=Yr(i);return n=Cy(n),t.context===null?t.context=n:t.pendingContext=n,t=Sr(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Wr(i,t,a),e!==null&&(Kn(e,i,a,o),hl(e,i,a)),a}function Yl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function I0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ih(e,t){I0(e,t),(e=e.alternate)&&I0(e,t)}function hE(){return null}var Fy=typeof reportError=="function"?reportError:function(e){console.error(e)};function oh(e){this._internalRoot=e}xu.prototype.render=oh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ee(409));yu(e,t,null,null)};xu.prototype.unmount=oh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ii(function(){yu(null,e,null,null)}),t[Er]=null}};function xu(e){this._internalRoot=e}xu.prototype.unstable_scheduleHydration=function(e){if(e){var t=ag();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Or.length&&t!==0&&t<Or[n].priority;n++);Or.splice(n,0,e),n===0&&lg(e)}};function ah(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function M0(){}function pE(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Yl(a);o.call(u)}}var a=Ny(t,r,e,0,null,!1,!1,"",M0);return e._reactRootContainer=a,e[Er]=a.current,Da(e.nodeType===8?e.parentNode:e),Ii(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=Yl(l);s.call(u)}}var l=rh(e,0,!1,null,null,!1,!1,"",M0);return e._reactRootContainer=l,e[Er]=l.current,Da(e.nodeType===8?e.parentNode:e),Ii(function(){yu(t,l,n,r)}),l}function Su(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=Yl(a);s.call(l)}}yu(t,a,e,i)}else a=pE(n,t,e,i,r);return Yl(a)}ig=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ha(t.pendingLanes);n!==0&&(bd(t,n|1),yn(t,It()),!(ct&6)&&(Co=It()+500,ni()))}break;case 13:Ii(function(){var r=Tr(e,1);if(r!==null){var i=ln();Kn(r,e,1,i)}}),ih(e,1)}};kd=function(e){if(e.tag===13){var t=Tr(e,134217728);if(t!==null){var n=ln();Kn(t,e,134217728,n)}ih(e,134217728)}};og=function(e){if(e.tag===13){var t=Yr(e),n=Tr(e,t);if(n!==null){var r=ln();Kn(n,e,t,r)}ih(e,t)}};ag=function(){return dt};sg=function(e,t){var n=dt;try{return dt=e,t()}finally{dt=n}};xf=function(e,t,n){switch(t){case"input":if(df(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=fu(r);if(!i)throw Error(Ee(90));Ov(r),df(r,i)}}}break;case"textarea":Gv(e,n);break;case"select":t=n.value,t!=null&&mo(e,!!n.multiple,t,!1)}};Xv=Jd;Yv=Ii;var mE={usingClientEntryPoint:!1,Events:[rs,ao,fu,Hv,Wv,Jd]},la={findFiberByHostInstance:Ei,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vE={bundleType:la.bundleType,version:la.version,rendererPackageName:la.rendererPackageName,rendererConfig:la.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ar.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Kv(e),e===null?null:e.stateNode},findFiberByHostInstance:la.findFiberByHostInstance||hE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nl.isDisabled&&nl.supportsFiber)try{su=nl.inject(vE),lr=nl}catch{}}Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mE;Fn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ah(t))throw Error(Ee(200));return dE(e,t,null,n)};Fn.createRoot=function(e,t){if(!ah(e))throw Error(Ee(299));var n=!1,r="",i=Fy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=rh(e,1,!1,null,null,n,!1,r,i),e[Er]=t.current,Da(e.nodeType===8?e.parentNode:e),new oh(t)};Fn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ee(188)):(e=Object.keys(e).join(","),Error(Ee(268,e)));return e=Kv(t),e=e===null?null:e.stateNode,e};Fn.flushSync=function(e){return Ii(e)};Fn.hydrate=function(e,t,n){if(!_u(t))throw Error(Ee(200));return Su(null,e,t,!0,n)};Fn.hydrateRoot=function(e,t,n){if(!ah(e))throw Error(Ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=Fy;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Ny(t,null,e,1,n??null,i,!1,o,a),e[Er]=t.current,Da(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new xu(t)};Fn.render=function(e,t,n){if(!_u(t))throw Error(Ee(200));return Su(null,e,t,!1,n)};Fn.unmountComponentAtNode=function(e){if(!_u(e))throw Error(Ee(40));return e._reactRootContainer?(Ii(function(){Su(null,null,e,!1,function(){e._reactRootContainer=null,e[Er]=null})}),!0):!1};Fn.unstable_batchedUpdates=Jd;Fn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!_u(n))throw Error(Ee(200));if(e==null||e._reactInternals===void 0)throw Error(Ee(38));return Su(e,t,n,!1,r)};Fn.version="18.2.0-next-9e3b772b8-20220608";function Py(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Py)}catch(e){console.error(e)}}Py(),Nv.exports=Fn;var gE=Nv.exports,R0=gE;of.createRoot=R0.createRoot,of.hydrateRoot=R0.hydrateRoot;const yE="/assets/arrow-left-1b3e60c5.svg",xE="/assets/arrow-right-5aabe13a.svg";class _E extends Nn.Component{constructor(n){super(n);it(this,"incrementCounter",()=>{this.setState({diagramCounter:Math.min(this.state.diagramCounter+1,this.props.children.length-1)})});it(this,"decrementCounter",()=>{this.state.diagramCounter-1===0&&this.props.nodeGraphFitView(),this.setState({diagramCounter:Math.max(this.state.diagramCounter-1,0)})});this.state={diagramCounter:0}}render(){return ee.jsxs("div",{id:"diagrams-container",children:[this.props.children.map((n,r)=>ee.jsx("div",{className:`${this.state.diagramCounter!==r&&"d-none"}`,children:n},r)),ee.jsx("img",{src:yE,id:"graph-arrow-left",title:"Previous Diagram",onClick:this.decrementCounter}),ee.jsx("img",{src:xE,id:"graph-arrow-right",title:"Next Diagram",onClick:this.incrementCounter}),ee.jsxs("h5",{id:"footer-label",children:["Diagram ",this.state.diagramCounter+1," of ",this.props.children.length]})]})}}class SE extends Nn.Component{render(){return ee.jsx("div",{className:"graph-element",id:"cluster-graph-container",children:ee.jsx("h1",{className:"graph-title",children:"Cluster Graph"})})}}const wE="/assets/zoom-to-fit-7d2b0236.png";class EE extends Nn.Component{render(){return ee.jsxs("div",{className:"graph-element",id:"node-graph-container",children:[ee.jsx("h1",{className:"graph-title",children:"Pairwise Distance Graph"}),ee.jsx("img",{src:wE,id:"zoom-to-fit",title:"Zoom to Fit",onClick:()=>{this.props.nodeGraph.fitView()}}),ee.jsx("canvas",{id:"node-graph"})]})}}function _l(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function TE(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ly(e){let t,n,r;e.length!==2?(t=_l,n=(s,l)=>_l(e(s),l),r=(s,l)=>e(s)-l):(t=e===_l||e===TE?e:bE,n=e,r=e);function i(s,l,u=0,h=s.length){if(u<h){if(t(l,l)!==0)return h;do{const f=u+h>>>1;n(s[f],l)<0?u=f+1:h=f}while(u<h)}return u}function o(s,l,u=0,h=s.length){if(u<h){if(t(l,l)!==0)return h;do{const f=u+h>>>1;n(s[f],l)<=0?u=f+1:h=f}while(u<h)}return u}function a(s,l,u=0,h=s.length){const f=i(s,l,u,h-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function bE(){return 0}function kE(e){return e===null?NaN:+e}const AE=Ly(_l),CE=AE.right;Ly(kE).center;const zy=CE;function NE(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(i=+i)>=i&&++n}return n}function Aa(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}function FE(e){return e}var PE=Array.prototype,LE=PE.slice;function qc(e){return()=>e}const zE=Math.sqrt(50),IE=Math.sqrt(10),ME=Math.sqrt(2);function ql(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=zE?10:o>=IE?5:o>=ME?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?ql(e,t,n*2):[s,l,u]}function Iy(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?ql(t,e,n):ql(e,t,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function No(e,t,n){return t=+t,e=+e,n=+n,ql(e,t,n)[2]}function RE(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?No(t,e,n):No(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function DE(e,t,n){let r;for(;;){const i=No(e,t,n);if(i===r||i===0||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function OE(e){return Math.max(1,Math.ceil(Math.log(NE(e))/Math.LN2)+1)}function BE(){var e=FE,t=Aa,n=OE;function r(i){Array.isArray(i)||(i=Array.from(i));var o,a=i.length,s,l,u=new Array(a);for(o=0;o<a;++o)u[o]=e(i[o],o,i);var h=t(u),f=h[0],d=h[1],m=n(u,f,d);if(!Array.isArray(m)){const F=d,V=+m;if(t===Aa&&([f,d]=DE(f,d,V)),m=Iy(f,d,V),m[0]<=f&&(l=No(f,d,V)),m[m.length-1]>=d)if(F>=d&&t===Aa){const W=No(f,d,V);isFinite(W)&&(W>0?d=(Math.floor(d/W)+1)*W:W<0&&(d=(Math.ceil(d*-W)+1)/-W))}else m.pop()}for(var k=m.length,R=0,de=k;m[R]<=f;)++R;for(;m[de-1]>d;)--de;(R||de<k)&&(m=m.slice(R,de),k=de-R);var _=new Array(k+1),b;for(o=0;o<=k;++o)b=_[o]=[],b.x0=o>0?m[o-1]:f,b.x1=o<k?m[o]:d;if(isFinite(l)){if(l>0)for(o=0;o<a;++o)(s=u[o])!=null&&f<=s&&s<=d&&_[Math.min(k,Math.floor((s-f)/l))].push(i[o]);else if(l<0){for(o=0;o<a;++o)if((s=u[o])!=null&&f<=s&&s<=d){const F=Math.floor((f-s)*l);_[Math.min(k,F+(m[F]<=s))].push(i[o])}}}else for(o=0;o<a;++o)(s=u[o])!=null&&f<=s&&s<=d&&_[zy(m,s,0,k)].push(i[o]);return _}return r.value=function(i){return arguments.length?(e=typeof i=="function"?i:qc(i),r):e},r.domain=function(i){return arguments.length?(t=typeof i=="function"?i:qc([i[0],i[1]]),r):t},r.thresholds=function(i){return arguments.length?(n=typeof i=="function"?i:qc(Array.isArray(i)?LE.call(i):i),r):n},r}function GE(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function jE(e){return e}var Qc=1,Kc=2,Zf=3,ma=4,D0=1e-6;function VE(e){return"translate("+e+",0)"}function $E(e){return"translate(0,"+e+")"}function UE(e){return t=>+e(t)}function HE(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function WE(){return!this.__axis}function My(e,t){var n=[],r=null,i=null,o=6,a=6,s=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=e===Qc||e===ma?-1:1,h=e===ma||e===Kc?"x":"y",f=e===Qc||e===Zf?VE:$E;function d(m){var k=r??(t.ticks?t.ticks.apply(t,n):t.domain()),R=i??(t.tickFormat?t.tickFormat.apply(t,n):jE),de=Math.max(o,0)+s,_=t.range(),b=+_[0]+l,F=+_[_.length-1]+l,V=(t.bandwidth?HE:UE)(t.copy(),l),W=m.selection?m.selection():m,he=W.selectAll(".domain").data([null]),me=W.selectAll(".tick").data(k,t).order(),Ae=me.exit(),Ke=me.enter().append("g").attr("class","tick"),je=me.select("line"),De=me.select("text");he=he.merge(he.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),me=me.merge(Ke),je=je.merge(Ke.append("line").attr("stroke","currentColor").attr(h+"2",u*o)),De=De.merge(Ke.append("text").attr("fill","currentColor").attr(h,u*de).attr("dy",e===Qc?"0em":e===Zf?"0.71em":"0.32em")),m!==W&&(he=he.transition(m),me=me.transition(m),je=je.transition(m),De=De.transition(m),Ae=Ae.transition(m).attr("opacity",D0).attr("transform",function(at){return isFinite(at=V(at))?f(at+l):this.getAttribute("transform")}),Ke.attr("opacity",D0).attr("transform",function(at){var ot=this.parentNode.__axis;return f((ot&&isFinite(ot=ot(at))?ot:V(at))+l)})),Ae.remove(),he.attr("d",e===ma||e===Kc?a?"M"+u*a+","+b+"H"+l+"V"+F+"H"+u*a:"M"+l+","+b+"V"+F:a?"M"+b+","+u*a+"V"+l+"H"+F+"V"+u*a:"M"+b+","+l+"H"+F),me.attr("opacity",1).attr("transform",function(at){return f(V(at)+l)}),je.attr(h+"2",u*o),De.attr(h,u*de).text(R),W.filter(WE).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Kc?"start":e===ma?"end":"middle"),W.each(function(){this.__axis=V})}return d.scale=function(m){return arguments.length?(t=m,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),d):n.slice()},d.tickValues=function(m){return arguments.length?(r=m==null?null:Array.from(m),d):r&&r.slice()},d.tickFormat=function(m){return arguments.length?(i=m,d):i},d.tickSize=function(m){return arguments.length?(o=a=+m,d):o},d.tickSizeInner=function(m){return arguments.length?(o=+m,d):o},d.tickSizeOuter=function(m){return arguments.length?(a=+m,d):a},d.tickPadding=function(m){return arguments.length?(s=+m,d):s},d.offset=function(m){return arguments.length?(l=+m,d):l},d}function XE(e){return My(Zf,e)}function YE(e){return My(ma,e)}var qE={value:()=>{}};function sh(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Sl(n)}function Sl(e){this._=e}function QE(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Sl.prototype=sh.prototype={constructor:Sl,on:function(e,t){var n=this._,r=QE(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=KE(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=O0(n[i],e.name,t);else if(t==null)for(i in n)n[i]=O0(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Sl(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function KE(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function O0(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=qE,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Jf="http://www.w3.org/1999/xhtml";const B0={svg:"http://www.w3.org/2000/svg",xhtml:Jf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wu(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),B0.hasOwnProperty(t)?{space:B0[t],local:e}:e}function ZE(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Jf&&t.documentElement.namespaceURI===Jf?t.createElement(e):t.createElementNS(n,e)}}function JE(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ry(e){var t=wu(e);return(t.local?JE:ZE)(t)}function eT(){}function lh(e){return e==null?eT:function(){return this.querySelector(e)}}function tT(e){typeof e!="function"&&(e=lh(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=new Array(a),l,u,h=0;h<a;++h)(l=o[h])&&(u=e.call(l,l.__data__,h,o))&&("__data__"in l&&(u.__data__=l.__data__),s[h]=u);return new Cn(r,this._parents)}function nT(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function rT(){return[]}function Dy(e){return e==null?rT:function(){return this.querySelectorAll(e)}}function iT(e){return function(){return nT(e.apply(this,arguments))}}function oT(e){typeof e=="function"?e=iT(e):e=Dy(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(r.push(e.call(l,l.__data__,u,a)),i.push(l));return new Cn(r,i)}function Oy(e){return function(){return this.matches(e)}}function By(e){return function(t){return t.matches(e)}}var aT=Array.prototype.find;function sT(e){return function(){return aT.call(this.children,e)}}function lT(){return this.firstElementChild}function uT(e){return this.select(e==null?lT:sT(typeof e=="function"?e:By(e)))}var cT=Array.prototype.filter;function fT(){return Array.from(this.children)}function dT(e){return function(){return cT.call(this.children,e)}}function hT(e){return this.selectAll(e==null?fT:dT(typeof e=="function"?e:By(e)))}function pT(e){typeof e!="function"&&(e=Oy(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&s.push(l);return new Cn(r,this._parents)}function Gy(e){return new Array(e.length)}function mT(){return new Cn(this._enter||this._groups.map(Gy),this._parents)}function Ql(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ql.prototype={constructor:Ql,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function vT(e){return function(){return e}}function gT(e,t,n,r,i,o){for(var a=0,s,l=t.length,u=o.length;a<u;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new Ql(e,o[a]);for(;a<l;++a)(s=t[a])&&(i[a]=s)}function yT(e,t,n,r,i,o,a){var s,l,u=new Map,h=t.length,f=o.length,d=new Array(h),m;for(s=0;s<h;++s)(l=t[s])&&(d[s]=m=a.call(l,l.__data__,s,t)+"",u.has(m)?i[s]=l:u.set(m,l));for(s=0;s<f;++s)m=a.call(e,o[s],s,o)+"",(l=u.get(m))?(r[s]=l,l.__data__=o[s],u.delete(m)):n[s]=new Ql(e,o[s]);for(s=0;s<h;++s)(l=t[s])&&u.get(d[s])===l&&(i[s]=l)}function xT(e){return e.__data__}function _T(e,t){if(!arguments.length)return Array.from(this,xT);var n=t?yT:gT,r=this._parents,i=this._groups;typeof e!="function"&&(e=vT(e));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),u=0;u<o;++u){var h=r[u],f=i[u],d=f.length,m=ST(e.call(h,h&&h.__data__,u,r)),k=m.length,R=s[u]=new Array(k),de=a[u]=new Array(k),_=l[u]=new Array(d);n(h,f,R,de,_,m,t);for(var b=0,F=0,V,W;b<k;++b)if(V=R[b]){for(b>=F&&(F=b+1);!(W=de[F])&&++F<k;);V._next=W||null}}return a=new Cn(a,r),a._enter=s,a._exit=l,a}function ST(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function wT(){return new Cn(this._exit||this._groups.map(Gy),this._parents)}function ET(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function TT(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var u=n[l],h=r[l],f=u.length,d=s[l]=new Array(f),m,k=0;k<f;++k)(m=u[k]||h[k])&&(d[k]=m);for(;l<i;++l)s[l]=n[l];return new Cn(s,this._parents)}function bT(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function kT(e){e||(e=AT);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,l=i[o]=new Array(s),u,h=0;h<s;++h)(u=a[h])&&(l[h]=u);l.sort(t)}return new Cn(i,this._parents).order()}function AT(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function CT(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function NT(){return Array.from(this)}function FT(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function PT(){let e=0;for(const t of this)++e;return e}function LT(){return!this.node()}function zT(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function IT(e){return function(){this.removeAttribute(e)}}function MT(e){return function(){this.removeAttributeNS(e.space,e.local)}}function RT(e,t){return function(){this.setAttribute(e,t)}}function DT(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function OT(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function BT(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function GT(e,t){var n=wu(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?MT:IT:typeof t=="function"?n.local?BT:OT:n.local?DT:RT)(n,t))}function jy(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function jT(e){return function(){this.style.removeProperty(e)}}function VT(e,t,n){return function(){this.style.setProperty(e,t,n)}}function $T(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function UT(e,t,n){return arguments.length>1?this.each((t==null?jT:typeof t=="function"?$T:VT)(e,t,n??"")):Fo(this.node(),e)}function Fo(e,t){return e.style.getPropertyValue(t)||jy(e).getComputedStyle(e,null).getPropertyValue(t)}function HT(e){return function(){delete this[e]}}function WT(e,t){return function(){this[e]=t}}function XT(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function YT(e,t){return arguments.length>1?this.each((t==null?HT:typeof t=="function"?XT:WT)(e,t)):this.node()[e]}function Vy(e){return e.trim().split(/^|\s+/)}function uh(e){return e.classList||new $y(e)}function $y(e){this._node=e,this._names=Vy(e.getAttribute("class")||"")}$y.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Uy(e,t){for(var n=uh(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Hy(e,t){for(var n=uh(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function qT(e){return function(){Uy(this,e)}}function QT(e){return function(){Hy(this,e)}}function KT(e,t){return function(){(t.apply(this,arguments)?Uy:Hy)(this,e)}}function ZT(e,t){var n=Vy(e+"");if(arguments.length<2){for(var r=uh(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?KT:t?qT:QT)(n,t))}function JT(){this.textContent=""}function eb(e){return function(){this.textContent=e}}function tb(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function nb(e){return arguments.length?this.each(e==null?JT:(typeof e=="function"?tb:eb)(e)):this.node().textContent}function rb(){this.innerHTML=""}function ib(e){return function(){this.innerHTML=e}}function ob(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function ab(e){return arguments.length?this.each(e==null?rb:(typeof e=="function"?ob:ib)(e)):this.node().innerHTML}function sb(){this.nextSibling&&this.parentNode.appendChild(this)}function lb(){return this.each(sb)}function ub(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function cb(){return this.each(ub)}function fb(e){var t=typeof e=="function"?e:Ry(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function db(){return null}function hb(e,t){var n=typeof e=="function"?e:Ry(e),r=t==null?db:typeof t=="function"?t:lh(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function pb(){var e=this.parentNode;e&&e.removeChild(this)}function mb(){return this.each(pb)}function vb(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function gb(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function yb(e){return this.select(e?gb:vb)}function xb(e){return arguments.length?this.property("__data__",e):this.node().__data__}function _b(e){return function(t){e.call(this,t,this.__data__)}}function Sb(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function wb(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function Eb(e,t,n){return function(){var r=this.__on,i,o=_b(t);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Tb(e,t,n){var r=Sb(e+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,h;l<u;++l)for(i=0,h=s[l];i<o;++i)if((a=r[i]).type===h.type&&a.name===h.name)return h.value}return}for(s=t?Eb:wb,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function Wy(e,t,n){var r=jy(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function bb(e,t){return function(){return Wy(this,e,t)}}function kb(e,t){return function(){return Wy(this,e,t.apply(this,arguments))}}function Ab(e,t){return this.each((typeof t=="function"?kb:bb)(e,t))}function*Cb(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var Xy=[null];function Cn(e,t){this._groups=e,this._parents=t}function os(){return new Cn([[document.documentElement]],Xy)}function Nb(){return this}Cn.prototype=os.prototype={constructor:Cn,select:tT,selectAll:oT,selectChild:uT,selectChildren:hT,filter:pT,data:_T,enter:mT,exit:wT,join:ET,merge:TT,selection:Nb,order:bT,sort:kT,call:CT,nodes:NT,node:FT,size:PT,empty:LT,each:zT,attr:GT,style:UT,property:YT,classed:ZT,text:nb,html:ab,raise:lb,lower:cb,append:fb,insert:hb,remove:mb,clone:yb,datum:xb,on:Tb,dispatch:Ab,[Symbol.iterator]:Cb};function Yn(e){return typeof e=="string"?new Cn([[document.querySelector(e)]],[document.documentElement]):new Cn([[e]],Xy)}function Fb(e){let t;for(;t=e.sourceEvent;)e=t;return e}function xi(e,t){if(e=Fb(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const ed={capture:!0,passive:!1};function td(e){e.preventDefault(),e.stopImmediatePropagation()}function Pb(e){var t=e.document.documentElement,n=Yn(e).on("dragstart.drag",td,ed);"onselectstart"in t?n.on("selectstart.drag",td,ed):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Lb(e,t){var n=e.document.documentElement,r=Yn(e).on("dragstart.drag",null);t&&(r.on("click.drag",td,ed),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function ch(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Yy(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function as(){}var Wa=.7,Kl=1/Wa,So="\\s*([+-]?\\d+)\\s*",Xa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",zb=/^#([0-9a-f]{3,8})$/,Ib=new RegExp(`^rgb\\(${So},${So},${So}\\)$`),Mb=new RegExp(`^rgb\\(${cr},${cr},${cr}\\)$`),Rb=new RegExp(`^rgba\\(${So},${So},${So},${Xa}\\)$`),Db=new RegExp(`^rgba\\(${cr},${cr},${cr},${Xa}\\)$`),Ob=new RegExp(`^hsl\\(${Xa},${cr},${cr}\\)$`),Bb=new RegExp(`^hsla\\(${Xa},${cr},${cr},${Xa}\\)$`),G0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ch(as,Zr,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:j0,formatHex:j0,formatHex8:Gb,formatHsl:jb,formatRgb:V0,toString:V0});function j0(){return this.rgb().formatHex()}function Gb(){return this.rgb().formatHex8()}function jb(){return qy(this).formatHsl()}function V0(){return this.rgb().formatRgb()}function Zr(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=zb.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?$0(t):n===3?new mn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?rl(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?rl(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ib.exec(e))?new mn(t[1],t[2],t[3],1):(t=Mb.exec(e))?new mn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Rb.exec(e))?rl(t[1],t[2],t[3],t[4]):(t=Db.exec(e))?rl(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Ob.exec(e))?W0(t[1],t[2]/100,t[3]/100,1):(t=Bb.exec(e))?W0(t[1],t[2]/100,t[3]/100,t[4]):G0.hasOwnProperty(e)?$0(G0[e]):e==="transparent"?new mn(NaN,NaN,NaN,0):null}function $0(e){return new mn(e>>16&255,e>>8&255,e&255,1)}function rl(e,t,n,r){return r<=0&&(e=t=n=NaN),new mn(e,t,n,r)}function Vb(e){return e instanceof as||(e=Zr(e)),e?(e=e.rgb(),new mn(e.r,e.g,e.b,e.opacity)):new mn}function nd(e,t,n,r){return arguments.length===1?Vb(e):new mn(e,t,n,r??1)}function mn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ch(mn,nd,Yy(as,{brighter(e){return e=e==null?Kl:Math.pow(Kl,e),new mn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Wa:Math.pow(Wa,e),new mn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new mn(Ni(this.r),Ni(this.g),Ni(this.b),Zl(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:U0,formatHex:U0,formatHex8:$b,formatRgb:H0,toString:H0}));function U0(){return`#${ki(this.r)}${ki(this.g)}${ki(this.b)}`}function $b(){return`#${ki(this.r)}${ki(this.g)}${ki(this.b)}${ki((isNaN(this.opacity)?1:this.opacity)*255)}`}function H0(){const e=Zl(this.opacity);return`${e===1?"rgb(":"rgba("}${Ni(this.r)}, ${Ni(this.g)}, ${Ni(this.b)}${e===1?")":`, ${e})`}`}function Zl(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ni(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ki(e){return e=Ni(e),(e<16?"0":"")+e.toString(16)}function W0(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new qn(e,t,n,r)}function qy(e){if(e instanceof qn)return new qn(e.h,e.s,e.l,e.opacity);if(e instanceof as||(e=Zr(e)),!e)return new qn;if(e instanceof qn)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new qn(a,s,l,e.opacity)}function Ub(e,t,n,r){return arguments.length===1?qy(e):new qn(e,t,n,r??1)}function qn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ch(qn,Ub,Yy(as,{brighter(e){return e=e==null?Kl:Math.pow(Kl,e),new qn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Wa:Math.pow(Wa,e),new qn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new mn(Zc(e>=240?e-240:e+120,i,r),Zc(e,i,r),Zc(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new qn(X0(this.h),il(this.s),il(this.l),Zl(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Zl(this.opacity);return`${e===1?"hsl(":"hsla("}${X0(this.h)}, ${il(this.s)*100}%, ${il(this.l)*100}%${e===1?")":`, ${e})`}`}}));function X0(e){return e=(e||0)%360,e<0?e+360:e}function il(e){return Math.max(0,Math.min(1,e||0))}function Zc(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const fh=e=>()=>e;function Hb(e,t){return function(n){return e+n*t}}function Wb(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Xb(e){return(e=+e)==1?Qy:function(t,n){return n-t?Wb(t,n,e):fh(isNaN(t)?n:t)}}function Qy(e,t){var n=t-e;return n?Hb(e,n):fh(isNaN(e)?t:e)}const Jl=function e(t){var n=Xb(t);function r(i,o){var a=n((i=nd(i)).r,(o=nd(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=Qy(i.opacity,o.opacity);return function(h){return i.r=a(h),i.g=s(h),i.b=l(h),i.opacity=u(h),i+""}}return r.gamma=e,r}(1);function Yb(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function qb(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Qb(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=dh(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Kb(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Xn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Zb(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=dh(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var rd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jc=new RegExp(rd.source,"g");function Jb(e){return function(){return e}}function ek(e){return function(t){return e(t)+""}}function Ky(e,t){var n=rd.lastIndex=Jc.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(e=e+"",t=t+"";(r=rd.exec(e))&&(i=Jc.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:Xn(r,i)})),n=Jc.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?ek(l[0].x):Jb(t):(t=l.length,function(u){for(var h=0,f;h<t;++h)s[(f=l[h]).i]=f.x(u);return s.join("")})}function dh(e,t){var n=typeof t,r;return t==null||n==="boolean"?fh(t):(n==="number"?Xn:n==="string"?(r=Zr(t))?(t=r,Jl):Ky:t instanceof Zr?Jl:t instanceof Date?Kb:qb(t)?Yb:Array.isArray(t)?Qb:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Zb:Xn)(e,t)}function tk(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Y0=180/Math.PI,id={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Zy(e,t,n,r,i,o){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Y0,skewX:Math.atan(l)*Y0,scaleX:a,scaleY:s}}var ol;function nk(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?id:Zy(t.a,t.b,t.c,t.d,t.e,t.f)}function rk(e){return e==null||(ol||(ol=document.createElementNS("http://www.w3.org/2000/svg","g")),ol.setAttribute("transform",e),!(e=ol.transform.baseVal.consolidate()))?id:(e=e.matrix,Zy(e.a,e.b,e.c,e.d,e.e,e.f))}function Jy(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,h,f,d,m,k){if(u!==f||h!==d){var R=m.push("translate(",null,t,null,n);k.push({i:R-4,x:Xn(u,f)},{i:R-2,x:Xn(h,d)})}else(f||d)&&m.push("translate("+f+t+d+n)}function a(u,h,f,d){u!==h?(u-h>180?h+=360:h-u>180&&(u+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:Xn(u,h)})):h&&f.push(i(f)+"rotate("+h+r)}function s(u,h,f,d){u!==h?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:Xn(u,h)}):h&&f.push(i(f)+"skewX("+h+r)}function l(u,h,f,d,m,k){if(u!==f||h!==d){var R=m.push(i(m)+"scale(",null,",",null,")");k.push({i:R-4,x:Xn(u,f)},{i:R-2,x:Xn(h,d)})}else(f!==1||d!==1)&&m.push(i(m)+"scale("+f+","+d+")")}return function(u,h){var f=[],d=[];return u=e(u),h=e(h),o(u.translateX,u.translateY,h.translateX,h.translateY,f,d),a(u.rotate,h.rotate,f,d),s(u.skewX,h.skewX,f,d),l(u.scaleX,u.scaleY,h.scaleX,h.scaleY,f,d),u=h=null,function(m){for(var k=-1,R=d.length,de;++k<R;)f[(de=d[k]).i]=de.x(m);return f.join("")}}}var ik=Jy(nk,"px, ","px)","deg)"),ok=Jy(rk,", ",")",")"),ak=1e-12;function q0(e){return((e=Math.exp(e))+1/e)/2}function sk(e){return((e=Math.exp(e))-1/e)/2}function lk(e){return((e=Math.exp(2*e))-1)/(e+1)}const uk=function e(t,n,r){function i(o,a){var s=o[0],l=o[1],u=o[2],h=a[0],f=a[1],d=a[2],m=h-s,k=f-l,R=m*m+k*k,de,_;if(R<ak)_=Math.log(d/u)/t,de=function(me){return[s+me*m,l+me*k,u*Math.exp(t*me*_)]};else{var b=Math.sqrt(R),F=(d*d-u*u+r*R)/(2*u*n*b),V=(d*d-u*u-r*R)/(2*d*n*b),W=Math.log(Math.sqrt(F*F+1)-F),he=Math.log(Math.sqrt(V*V+1)-V);_=(he-W)/t,de=function(me){var Ae=me*_,Ke=q0(W),je=u/(n*b)*(Ke*lk(t*Ae+W)-sk(W));return[s+je*m,l+je*k,u*Ke/q0(t*Ae+W)]}}return de.duration=_*1e3*t/Math.SQRT2,de}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,l=s*s;return e(a,s,l)},i}(Math.SQRT2,2,4);var Po=0,va=0,ua=0,e1=1e3,eu,ga,tu=0,Mi=0,Eu=0,Ya=typeof performance=="object"&&performance.now?performance:Date,t1=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function hh(){return Mi||(t1(ck),Mi=Ya.now()+Eu)}function ck(){Mi=0}function nu(){this._call=this._time=this._next=null}nu.prototype=n1.prototype={constructor:nu,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?hh():+n)+(t==null?0:+t),!this._next&&ga!==this&&(ga?ga._next=this:eu=this,ga=this),this._call=e,this._time=n,od()},stop:function(){this._call&&(this._call=null,this._time=1/0,od())}};function n1(e,t,n){var r=new nu;return r.restart(e,t,n),r}function fk(){hh(),++Po;for(var e=eu,t;e;)(t=Mi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Po}function Q0(){Mi=(tu=Ya.now())+Eu,Po=va=0;try{fk()}finally{Po=0,hk(),Mi=0}}function dk(){var e=Ya.now(),t=e-tu;t>e1&&(Eu-=t,tu=e)}function hk(){for(var e,t=eu,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:eu=n);ga=e,od(r)}function od(e){if(!Po){va&&(va=clearTimeout(va));var t=e-Mi;t>24?(e<1/0&&(va=setTimeout(Q0,e-Ya.now()-Eu)),ua&&(ua=clearInterval(ua))):(ua||(tu=Ya.now(),ua=setInterval(dk,e1)),Po=1,t1(Q0))}}function K0(e,t,n){var r=new nu;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var pk=sh("start","end","cancel","interrupt"),mk=[],r1=0,Z0=1,ad=2,wl=3,J0=4,sd=5,El=6;function Tu(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;vk(e,n,{name:t,index:r,group:i,on:pk,tween:mk,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:r1})}function ph(e,t){var n=er(e,t);if(n.state>r1)throw new Error("too late; already scheduled");return n}function fr(e,t){var n=er(e,t);if(n.state>wl)throw new Error("too late; already running");return n}function er(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function vk(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=n1(o,0,n.time);function o(u){n.state=Z0,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var h,f,d,m;if(n.state!==Z0)return l();for(h in r)if(m=r[h],m.name===n.name){if(m.state===wl)return K0(a);m.state===J0?(m.state=El,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[h]):+h<t&&(m.state=El,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[h])}if(K0(function(){n.state===wl&&(n.state=J0,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=ad,n.on.call("start",e,e.__data__,n.index,n.group),n.state===ad){for(n.state=wl,i=new Array(d=n.tween.length),h=0,f=-1;h<d;++h)(m=n.tween[h].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=m);i.length=f+1}}function s(u){for(var h=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=sd,1),f=-1,d=i.length;++f<d;)i[f].call(e,h);n.state===sd&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=El,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function Tl(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>ad&&r.state<sd,r.state=El,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function gk(e){return this.each(function(){Tl(this,e)})}function yk(e,t){var n,r;return function(){var i=fr(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function xk(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=fr(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=s;break}l===u&&i.push(s)}o.tween=i}}function _k(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=er(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?yk:xk)(n,e,t))}function mh(e,t,n){var r=e._id;return e.each(function(){var i=fr(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return er(i,r).value[t]}}function i1(e,t){var n;return(typeof t=="number"?Xn:t instanceof Zr?Jl:(n=Zr(t))?(t=n,Jl):Ky)(e,t)}function Sk(e){return function(){this.removeAttribute(e)}}function wk(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ek(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function Tk(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function bk(e,t,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s)))}}function kk(e,t,n){var r,i,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=s+"",a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s)))}}function Ak(e,t){var n=wu(e),r=n==="transform"?ok:i1;return this.attrTween(e,typeof t=="function"?(n.local?kk:bk)(n,r,mh(this,"attr."+e,t)):t==null?(n.local?wk:Sk)(n):(n.local?Tk:Ek)(n,r,t))}function Ck(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Nk(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Fk(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Nk(e,o)),n}return i._value=t,i}function Pk(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Ck(e,o)),n}return i._value=t,i}function Lk(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=wu(e);return this.tween(n,(r.local?Fk:Pk)(r,t))}function zk(e,t){return function(){ph(this,e).delay=+t.apply(this,arguments)}}function Ik(e,t){return t=+t,function(){ph(this,e).delay=t}}function Mk(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?zk:Ik)(t,e)):er(this.node(),t).delay}function Rk(e,t){return function(){fr(this,e).duration=+t.apply(this,arguments)}}function Dk(e,t){return t=+t,function(){fr(this,e).duration=t}}function Ok(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Rk:Dk)(t,e)):er(this.node(),t).duration}function Bk(e,t){if(typeof t!="function")throw new Error;return function(){fr(this,e).ease=t}}function Gk(e){var t=this._id;return arguments.length?this.each(Bk(t,e)):er(this.node(),t).ease}function jk(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;fr(this,e).ease=n}}function Vk(e){if(typeof e!="function")throw new Error;return this.each(jk(this._id,e))}function $k(e){typeof e!="function"&&(e=Oy(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],l,u=0;u<a;++u)(l=o[u])&&e.call(l,l.__data__,u,o)&&s.push(l);return new kr(r,this._parents,this._name,this._id)}function Uk(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l=t[s],u=n[s],h=l.length,f=a[s]=new Array(h),d,m=0;m<h;++m)(d=l[m]||u[m])&&(f[m]=d);for(;s<r;++s)a[s]=t[s];return new kr(a,this._parents,this._name,this._id)}function Hk(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Wk(e,t,n){var r,i,o=Hk(t)?ph:fr;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}function Xk(e,t){var n=this._id;return arguments.length<2?er(this.node(),n).on.on(e):this.each(Wk(n,e,t))}function Yk(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function qk(){return this.on("end.remove",Yk(this._id))}function Qk(e){var t=this._name,n=this._id;typeof e!="function"&&(e=lh(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],l=s.length,u=o[a]=new Array(l),h,f,d=0;d<l;++d)(h=s[d])&&(f=e.call(h,h.__data__,d,s))&&("__data__"in h&&(f.__data__=h.__data__),u[d]=f,Tu(u[d],t,n,d,u,er(h,n)));return new kr(o,this._parents,t,n)}function Kk(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Dy(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l=r[s],u=l.length,h,f=0;f<u;++f)if(h=l[f]){for(var d=e.call(h,h.__data__,f,l),m,k=er(h,n),R=0,de=d.length;R<de;++R)(m=d[R])&&Tu(m,t,n,R,d,k);o.push(d),a.push(h)}return new kr(o,a,t,n)}var Zk=os.prototype.constructor;function Jk(){return new Zk(this._groups,this._parents)}function eA(e,t){var n,r,i;return function(){var o=Fo(this,e),a=(this.style.removeProperty(e),Fo(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function o1(e){return function(){this.style.removeProperty(e)}}function tA(e,t,n){var r,i=n+"",o;return function(){var a=Fo(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function nA(e,t,n){var r,i,o;return function(){var a=Fo(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),Fo(this,e))),a===l?null:a===r&&l===i?o:(i=l,o=t(r=a,s))}}function rA(e,t){var n,r,i,o="style."+t,a="end."+o,s;return function(){var l=fr(this,e),u=l.on,h=l.value[o]==null?s||(s=o1(t)):void 0;(u!==n||i!==h)&&(r=(n=u).copy()).on(a,i=h),l.on=r}}function iA(e,t,n){var r=(e+="")=="transform"?ik:i1;return t==null?this.styleTween(e,eA(e,r)).on("end.style."+e,o1(e)):typeof t=="function"?this.styleTween(e,nA(e,r,mh(this,"style."+e,t))).each(rA(this._id,e)):this.styleTween(e,tA(e,r,t),n).on("end.style."+e,null)}function oA(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function aA(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&oA(e,a,n)),r}return o._value=t,o}function sA(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,aA(e,t,n??""))}function lA(e){return function(){this.textContent=e}}function uA(e){return function(){var t=e(this);this.textContent=t??""}}function cA(e){return this.tween("text",typeof e=="function"?uA(mh(this,"text",e)):lA(e==null?"":e+""))}function fA(e){return function(t){this.textContent=e.call(this,t)}}function dA(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&fA(i)),t}return r._value=e,r}function hA(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,dA(e))}function pA(){for(var e=this._name,t=this._id,n=a1(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var h=er(l,t);Tu(l,e,n,u,a,{time:h.time+h.delay+h.duration,delay:0,duration:h.duration,ease:h.ease})}return new kr(r,this._parents,e,n)}function mA(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--i===0&&o()}};n.each(function(){var u=fr(this,r),h=u.on;h!==e&&(t=(e=h).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),u.on=t}),i===0&&o()})}var vA=0;function kr(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function a1(){return++vA}var mr=os.prototype;kr.prototype={constructor:kr,select:Qk,selectAll:Kk,selectChild:mr.selectChild,selectChildren:mr.selectChildren,filter:$k,merge:Uk,selection:Jk,transition:pA,call:mr.call,nodes:mr.nodes,node:mr.node,size:mr.size,empty:mr.empty,each:mr.each,on:Xk,attr:Ak,attrTween:Lk,style:iA,styleTween:sA,text:cA,textTween:hA,remove:qk,tween:_k,delay:Mk,duration:Ok,ease:Gk,easeVarying:Vk,end:mA,[Symbol.iterator]:mr[Symbol.iterator]};function gA(e){return e*e}function yA(e){return e*(2-e)}function xA(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}function _A(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var SA={time:null,delay:0,duration:250,ease:_A};function wA(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function EA(e){var t,n;e instanceof kr?(t=e._id,e=e._name):(t=a1(),(n=SA).time=hh(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,l,u=0;u<s;++u)(l=a[u])&&Tu(l,e,t,u,a,n||wA(l,t));return new kr(r,this._parents,e,t)}os.prototype.interrupt=gk;os.prototype.transition=EA;function TA(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ru(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Lo(e){return e=ru(Math.abs(e)),e?e[1]:NaN}function bA(e,t){return function(n,r){for(var i=n.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(t)}}function kA(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var AA=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function iu(e){if(!(t=AA.exec(e)))throw new Error("invalid format: "+e);var t;return new vh({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}iu.prototype=vh.prototype;function vh(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}vh.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function CA(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var s1;function NA(e,t){var n=ru(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(s1=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ru(e,Math.max(0,t+o-1))[0]}function ev(e,t){var n=ru(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const tv={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:TA,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ev(e*100,t),r:ev,s:NA,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function nv(e){return e}var rv=Array.prototype.map,iv=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function FA(e){var t=e.grouping===void 0||e.thousands===void 0?nv:bA(rv.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?nv:kA(rv.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f){f=iu(f);var d=f.fill,m=f.align,k=f.sign,R=f.symbol,de=f.zero,_=f.width,b=f.comma,F=f.precision,V=f.trim,W=f.type;W==="n"?(b=!0,W="g"):tv[W]||(F===void 0&&(F=12),V=!0,W="g"),(de||d==="0"&&m==="=")&&(de=!0,d="0",m="=");var he=R==="$"?n:R==="#"&&/[boxX]/.test(W)?"0"+W.toLowerCase():"",me=R==="$"?r:/[%p]/.test(W)?a:"",Ae=tv[W],Ke=/[defgprs%]/.test(W);F=F===void 0?6:/[gprs]/.test(W)?Math.max(1,Math.min(21,F)):Math.max(0,Math.min(20,F));function je(De){var at=he,ot=me,H,Me,pe;if(W==="c")ot=Ae(De)+ot,De="";else{De=+De;var Ge=De<0||1/De<0;if(De=isNaN(De)?l:Ae(Math.abs(De),F),V&&(De=CA(De)),Ge&&+De==0&&k!=="+"&&(Ge=!1),at=(Ge?k==="("?k:s:k==="-"||k==="("?"":k)+at,ot=(W==="s"?iv[8+s1/3]:"")+ot+(Ge&&k==="("?")":""),Ke){for(H=-1,Me=De.length;++H<Me;)if(pe=De.charCodeAt(H),48>pe||pe>57){ot=(pe===46?i+De.slice(H+1):De.slice(H))+ot,De=De.slice(0,H);break}}}b&&!de&&(De=t(De,1/0));var se=at.length+De.length+ot.length,be=se<_?new Array(_-se+1).join(d):"";switch(b&&de&&(De=t(be+De,be.length?_-ot.length:1/0),be=""),m){case"<":De=at+De+ot+be;break;case"=":De=at+be+De+ot;break;case"^":De=be.slice(0,se=be.length>>1)+at+De+ot+be.slice(se);break;default:De=be+at+De+ot;break}return o(De)}return je.toString=function(){return f+""},je}function h(f,d){var m=u((f=iu(f),f.type="f",f)),k=Math.max(-8,Math.min(8,Math.floor(Lo(d)/3)))*3,R=Math.pow(10,-k),de=iv[8+k/3];return function(_){return m(R*_)+de}}return{format:u,formatPrefix:h}}var al,l1,u1;PA({thousands:",",grouping:[3],currency:["$",""]});function PA(e){return al=FA(e),l1=al.format,u1=al.formatPrefix,al}function LA(e){return Math.max(0,-Lo(Math.abs(e)))}function zA(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Lo(t)/3)))*3-Lo(Math.abs(e)))}function IA(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Lo(t)-Lo(e))+1}function MA(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function RA(e){return function(){return e}}function DA(e){return+e}var ov=[0,1];function po(e){return e}function ld(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:RA(isNaN(t)?NaN:.5)}function OA(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function BA(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=ld(i,r),o=n(a,o)):(r=ld(r,i),o=n(o,a)),function(s){return o(r(s))}}function GA(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=ld(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(s){var l=zy(e,s,1,r)-1;return o[l](i[l](s))}}function jA(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function VA(){var e=ov,t=ov,n=dh,r,i,o,a=po,s,l,u;function h(){var d=Math.min(e.length,t.length);return a!==po&&(a=OA(e[0],e[d-1])),s=d>2?GA:BA,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=s(e.map(r),t,n)))(r(a(d)))}return f.invert=function(d){return a(i((u||(u=s(t,e.map(r),Xn)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,DA),h()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),h()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=tk,h()},f.clamp=function(d){return arguments.length?(a=d?!0:po,h()):a!==po},f.interpolate=function(d){return arguments.length?(n=d,h()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,m){return r=d,i=m,h()}}function $A(){return VA()(po,po)}function UA(e,t,n,r){var i=RE(e,t,n),o;switch(r=iu(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=zA(i,a))&&(r.precision=o),u1(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=IA(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=LA(i))&&(r.precision=o-(r.type==="%")*2);break}}return l1(r)}function HA(e){var t=e.domain;return e.ticks=function(n){var r=t();return Iy(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return UA(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,h=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);h-- >0;){if(u=No(a,s,n),u===l)return r[i]=a,r[o]=s,t(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function qa(){var e=$A();return e.copy=function(){return jA(e,qa())},MA.apply(e,arguments),HA(e)}const sl=e=>()=>e;function WA(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function _r(e,t,n){this.k=e,this.x=t,this.y=n}_r.prototype={constructor:_r,scale:function(e){return e===1?this:new _r(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new _r(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ca=new _r(1,0,0);_r.prototype;function ef(e){e.stopImmediatePropagation()}function ca(e){e.preventDefault(),e.stopImmediatePropagation()}function XA(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function YA(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function av(){return this.__zoom||Ca}function qA(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function QA(){return navigator.maxTouchPoints||"ontouchstart"in this}function KA(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function ZA(){var e=XA,t=YA,n=KA,r=qA,i=QA,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,l=uk,u=sh("start","zoom","end"),h,f,d,m=500,k=150,R=0,de=10;function _(H){H.property("__zoom",av).on("wheel.zoom",Ae,{passive:!1}).on("mousedown.zoom",Ke).on("dblclick.zoom",je).filter(i).on("touchstart.zoom",De).on("touchmove.zoom",at).on("touchend.zoom touchcancel.zoom",ot).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(H,Me,pe,Ge){var se=H.selection?H.selection():H;se.property("__zoom",av),H!==se?W(H,Me,pe,Ge):se.interrupt().each(function(){he(this,arguments).event(Ge).start().zoom(null,typeof Me=="function"?Me.apply(this,arguments):Me).end()})},_.scaleBy=function(H,Me,pe,Ge){_.scaleTo(H,function(){var se=this.__zoom.k,be=typeof Me=="function"?Me.apply(this,arguments):Me;return se*be},pe,Ge)},_.scaleTo=function(H,Me,pe,Ge){_.transform(H,function(){var se=t.apply(this,arguments),be=this.__zoom,ze=pe==null?V(se):typeof pe=="function"?pe.apply(this,arguments):pe,qe=be.invert(ze),nt=typeof Me=="function"?Me.apply(this,arguments):Me;return n(F(b(be,nt),ze,qe),se,a)},pe,Ge)},_.translateBy=function(H,Me,pe,Ge){_.transform(H,function(){return n(this.__zoom.translate(typeof Me=="function"?Me.apply(this,arguments):Me,typeof pe=="function"?pe.apply(this,arguments):pe),t.apply(this,arguments),a)},null,Ge)},_.translateTo=function(H,Me,pe,Ge,se){_.transform(H,function(){var be=t.apply(this,arguments),ze=this.__zoom,qe=Ge==null?V(be):typeof Ge=="function"?Ge.apply(this,arguments):Ge;return n(Ca.translate(qe[0],qe[1]).scale(ze.k).translate(typeof Me=="function"?-Me.apply(this,arguments):-Me,typeof pe=="function"?-pe.apply(this,arguments):-pe),be,a)},Ge,se)};function b(H,Me){return Me=Math.max(o[0],Math.min(o[1],Me)),Me===H.k?H:new _r(Me,H.x,H.y)}function F(H,Me,pe){var Ge=Me[0]-pe[0]*H.k,se=Me[1]-pe[1]*H.k;return Ge===H.x&&se===H.y?H:new _r(H.k,Ge,se)}function V(H){return[(+H[0][0]+ +H[1][0])/2,(+H[0][1]+ +H[1][1])/2]}function W(H,Me,pe,Ge){H.on("start.zoom",function(){he(this,arguments).event(Ge).start()}).on("interrupt.zoom end.zoom",function(){he(this,arguments).event(Ge).end()}).tween("zoom",function(){var se=this,be=arguments,ze=he(se,be).event(Ge),qe=t.apply(se,be),nt=pe==null?V(qe):typeof pe=="function"?pe.apply(se,be):pe,qt=Math.max(qe[1][0]-qe[0][0],qe[1][1]-qe[0][1]),pt=se.__zoom,Qt=typeof Me=="function"?Me.apply(se,be):Me,Dt=l(pt.invert(nt).concat(qt/pt.k),Qt.invert(nt).concat(qt/Qt.k));return function(Vt){if(Vt===1)Vt=Qt;else{var Gn=Dt(Vt),Ro=qt/Gn[2];Vt=new _r(Ro,nt[0]-Gn[0]*Ro,nt[1]-Gn[1]*Ro)}ze.zoom(null,Vt)}})}function he(H,Me,pe){return!pe&&H.__zooming||new me(H,Me)}function me(H,Me){this.that=H,this.args=Me,this.active=0,this.sourceEvent=null,this.extent=t.apply(H,Me),this.taps=0}me.prototype={event:function(H){return H&&(this.sourceEvent=H),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(H,Me){return this.mouse&&H!=="mouse"&&(this.mouse[1]=Me.invert(this.mouse[0])),this.touch0&&H!=="touch"&&(this.touch0[1]=Me.invert(this.touch0[0])),this.touch1&&H!=="touch"&&(this.touch1[1]=Me.invert(this.touch1[0])),this.that.__zoom=Me,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(H){var Me=Yn(this.that).datum();u.call(H,this.that,new WA(H,{sourceEvent:this.sourceEvent,target:_,type:H,transform:this.that.__zoom,dispatch:u}),Me)}};function Ae(H,...Me){if(!e.apply(this,arguments))return;var pe=he(this,Me).event(H),Ge=this.__zoom,se=Math.max(o[0],Math.min(o[1],Ge.k*Math.pow(2,r.apply(this,arguments)))),be=xi(H);if(pe.wheel)(pe.mouse[0][0]!==be[0]||pe.mouse[0][1]!==be[1])&&(pe.mouse[1]=Ge.invert(pe.mouse[0]=be)),clearTimeout(pe.wheel);else{if(Ge.k===se)return;pe.mouse=[be,Ge.invert(be)],Tl(this),pe.start()}ca(H),pe.wheel=setTimeout(ze,k),pe.zoom("mouse",n(F(b(Ge,se),pe.mouse[0],pe.mouse[1]),pe.extent,a));function ze(){pe.wheel=null,pe.end()}}function Ke(H,...Me){if(d||!e.apply(this,arguments))return;var pe=H.currentTarget,Ge=he(this,Me,!0).event(H),se=Yn(H.view).on("mousemove.zoom",nt,!0).on("mouseup.zoom",qt,!0),be=xi(H,pe),ze=H.clientX,qe=H.clientY;Pb(H.view),ef(H),Ge.mouse=[be,this.__zoom.invert(be)],Tl(this),Ge.start();function nt(pt){if(ca(pt),!Ge.moved){var Qt=pt.clientX-ze,Dt=pt.clientY-qe;Ge.moved=Qt*Qt+Dt*Dt>R}Ge.event(pt).zoom("mouse",n(F(Ge.that.__zoom,Ge.mouse[0]=xi(pt,pe),Ge.mouse[1]),Ge.extent,a))}function qt(pt){se.on("mousemove.zoom mouseup.zoom",null),Lb(pt.view,Ge.moved),ca(pt),Ge.event(pt).end()}}function je(H,...Me){if(e.apply(this,arguments)){var pe=this.__zoom,Ge=xi(H.changedTouches?H.changedTouches[0]:H,this),se=pe.invert(Ge),be=pe.k*(H.shiftKey?.5:2),ze=n(F(b(pe,be),Ge,se),t.apply(this,Me),a);ca(H),s>0?Yn(this).transition().duration(s).call(W,ze,Ge,H):Yn(this).call(_.transform,ze,Ge,H)}}function De(H,...Me){if(e.apply(this,arguments)){var pe=H.touches,Ge=pe.length,se=he(this,Me,H.changedTouches.length===Ge).event(H),be,ze,qe,nt;for(ef(H),ze=0;ze<Ge;++ze)qe=pe[ze],nt=xi(qe,this),nt=[nt,this.__zoom.invert(nt),qe.identifier],se.touch0?!se.touch1&&se.touch0[2]!==nt[2]&&(se.touch1=nt,se.taps=0):(se.touch0=nt,be=!0,se.taps=1+!!h);h&&(h=clearTimeout(h)),be&&(se.taps<2&&(f=nt[0],h=setTimeout(function(){h=null},m)),Tl(this),se.start())}}function at(H,...Me){if(this.__zooming){var pe=he(this,Me).event(H),Ge=H.changedTouches,se=Ge.length,be,ze,qe,nt;for(ca(H),be=0;be<se;++be)ze=Ge[be],qe=xi(ze,this),pe.touch0&&pe.touch0[2]===ze.identifier?pe.touch0[0]=qe:pe.touch1&&pe.touch1[2]===ze.identifier&&(pe.touch1[0]=qe);if(ze=pe.that.__zoom,pe.touch1){var qt=pe.touch0[0],pt=pe.touch0[1],Qt=pe.touch1[0],Dt=pe.touch1[1],Vt=(Vt=Qt[0]-qt[0])*Vt+(Vt=Qt[1]-qt[1])*Vt,Gn=(Gn=Dt[0]-pt[0])*Gn+(Gn=Dt[1]-pt[1])*Gn;ze=b(ze,Math.sqrt(Vt/Gn)),qe=[(qt[0]+Qt[0])/2,(qt[1]+Qt[1])/2],nt=[(pt[0]+Dt[0])/2,(pt[1]+Dt[1])/2]}else if(pe.touch0)qe=pe.touch0[0],nt=pe.touch0[1];else return;pe.zoom("touch",n(F(ze,qe,nt),pe.extent,a))}}function ot(H,...Me){if(this.__zooming){var pe=he(this,Me).event(H),Ge=H.changedTouches,se=Ge.length,be,ze;for(ef(H),d&&clearTimeout(d),d=setTimeout(function(){d=null},m),be=0;be<se;++be)ze=Ge[be],pe.touch0&&pe.touch0[2]===ze.identifier?delete pe.touch0:pe.touch1&&pe.touch1[2]===ze.identifier&&delete pe.touch1;if(pe.touch1&&!pe.touch0&&(pe.touch0=pe.touch1,delete pe.touch1),pe.touch0)pe.touch0[1]=this.__zoom.invert(pe.touch0[0]);else if(pe.end(),pe.taps===2&&(ze=xi(ze,this),Math.hypot(f[0]-ze[0],f[1]-ze[1])<de)){var qe=Yn(this).on("dblclick.zoom");qe&&qe.apply(this,arguments)}}}return _.wheelDelta=function(H){return arguments.length?(r=typeof H=="function"?H:sl(+H),_):r},_.filter=function(H){return arguments.length?(e=typeof H=="function"?H:sl(!!H),_):e},_.touchable=function(H){return arguments.length?(i=typeof H=="function"?H:sl(!!H),_):i},_.extent=function(H){return arguments.length?(t=typeof H=="function"?H:sl([[+H[0][0],+H[0][1]],[+H[1][0],+H[1][1]]]),_):t},_.scaleExtent=function(H){return arguments.length?(o[0]=+H[0],o[1]=+H[1],_):[o[0],o[1]]},_.translateExtent=function(H){return arguments.length?(a[0][0]=+H[0][0],a[1][0]=+H[1][0],a[0][1]=+H[0][1],a[1][1]=+H[1][1],_):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},_.constrain=function(H){return arguments.length?(n=H,_):n},_.duration=function(H){return arguments.length?(s=+H,_):s},_.interpolate=function(H){return arguments.length?(l=H,_):l},_.on=function(){var H=u.on.apply(u,arguments);return H===u?_:H},_.clickDistance=function(H){return arguments.length?(R=(H=+H)*H,_):Math.sqrt(R)},_.tapDistance=function(H){return arguments.length?(de=+H,_):de},_}const sv=1024*1024*10,tf=.05,JA=255,lv={nodes:[],nodesMap:new Map,allNodes:new Set,nodeViews:new Map,links:[],linksMap:new Map,allLinks:new Map,cluster:{clusterDistribution:new Map,clusterNodes:[],clusterSizes:[]},stats:{clusterMedian:0,clusterMean:0,assortativity:0,transitivity:0,triangleCount:0,meanPairwiseDistance:0,medianPairwiseDistance:0},demographicData:{categories:new Map,data:new Map}},eC="node-graph",tC={backgroundColor:"#ffffff",nodeColor:e=>e.color??"#000000",nodeSize:7,linkColor:"#a3a3a3",linkArrows:!1,linkWidth:.2,linkVisibilityMinTransparency:1,randomSeed:0,simulation:{repulsion:2,repulsionFromMouse:0,linkDistRandomVariationRange:[1,1],scaleNodesOnZoom:!0,friction:1,linkDistance:50,gravity:.2,decay:99999999,linkSpring:.1}},uv=async(e,t=!1)=>{const n=new FileReader;return new Promise((r,i)=>{n.onload=o=>{r(o.target.result)},n.onerror=i,t?n.readAsText(e):n.readAsArrayBuffer(e)})};let nf=performance.now();const Bt=e=>{performance.now()-nf>2e3&&(nf=performance.now()),console.log(e+`
Time: `+(performance.now()-nf)+"ms")};class nC extends Nn.Component{constructor(){super(...arguments);it(this,"setIntervals",n=>{this.props.setClusterHistogramData({histogramTicks:n.target.value})});it(this,"generateHistogram",()=>{const n=this.props.data;if(n.cluster.clusterSizes.length===0)return;const r=document.body.clientWidth*.65,i=document.body.clientHeight,o={top:i*.15,right:r*.1,bottom:i*.15,left:r*.15},a=document.body.clientWidth*.65-o.left-o.right,s=i-o.top-o.bottom;document.getElementById("cluster-histogram").innerHTML="";const l=Yn("#cluster-histogram").append("svg").attr("width",a+o.left+o.right).attr("height",s+o.top+o.bottom).append("g").attr("transform",`translate(${o.left},${o.top})`),u=qa().domain([0,Math.max(...n.cluster.clusterSizes)*1.05]).range([0,a]);l.append("g").attr("transform",`translate(0, ${s})`).call(XE(u)),l.append("text").attr("class","x label").attr("text-anchor","middle").attr("x",a/2).attr("y",s+40).text("Cluster size");const f=BE().domain(u.domain()).thresholds(u.ticks(this.props.histogramTicks))(n.cluster.clusterSizes),d=qa().range([s,0]);d.domain([0,GE(f,function(m){return m.length})*1.1]),l.append("g").call(YE(d)),l.append("text").attr("class","y label").attr("text-anchor","middle").attr("y",-50).attr("x",-s/2).attr("dy",".75em").attr("transform","rotate(-90)").text("Frequency"),l.selectAll("rect").data(f).join("rect").attr("x",1).attr("transform",function(m){return`translate(${u(m.x0)} , ${d(m.length)})`}).attr("width",function(m){return u(m.x1)-u(m.x0)<1?0:u(m.x1)-u(m.x0)-2}).attr("height",function(m){return s-d(m.length)}).style("fill","#0D6EFD"),l.selectAll(".text").data(f).enter().append("text").attr("class","label").attr("text-anchor","middle").attr("font-size","11px").attr("x",function(m){return(u(m.x1)+u(m.x0))/2}).attr("y",function(m){return d(m.length)-12}).text(m=>m.length>0?m.length:null)})}componentDidUpdate(n){isNaN(this.props.histogramTicks)||parseInt(this.props.histogramTicks)<0||n.histogramTicks!==this.props.histogramTicks&&(Bt("Updating histogram..."),this.generateHistogram(),Bt("Done updating histogram..."))}render(){return ee.jsxs("div",{className:"graph-element",id:"cluster-graph-container",children:[ee.jsx("h1",{className:"graph-title",children:"Cluster Size Histogram"}),ee.jsx("div",{id:"cluster-histogram"}),ee.jsxs("div",{id:"cluster-histogram-controls",children:[ee.jsx("h5",{className:"mb-3",children:"Bar Tick Intervals Count:"}),ee.jsx("input",{className:"form-control w-50",type:"number",id:"cluster-histogram-bar-count",min:"1",value:this.props.histogramTicks,onChange:this.setIntervals}),ee.jsxs("div",{className:"form-text",id:"cluster-histogram-bar-hint",children:["Max (Intervals of 1): ",this.props.maxHistogramTicks]})]})]})}}class rC extends Nn.Component{render(){return ee.jsxs("div",{className:"graph-element",id:"summary-stats",children:[ee.jsx("h1",{className:"graph-title",children:"Cluster Summary Statistics"}),ee.jsx("h3",{children:"Global Statistics"}),ee.jsx("table",{className:"table table-bordered mt-4",id:"summary-table",children:ee.jsxs("tbody",{children:[ee.jsxs("tr",{children:[ee.jsx("td",{children:"Node Count:"}),ee.jsx("td",{id:"summary-node-count",children:this.props.data.nodes.length})]}),ee.jsxs("tr",{children:[ee.jsx("td",{children:"Singletons:"}),ee.jsx("td",{id:"summary-singleton-count",children:this.props.data.allNodes.size-this.props.data.nodes.length})]}),ee.jsxs("tr",{children:[ee.jsx("td",{children:"Edge Count:"}),ee.jsx("td",{id:"summary-edge-count",children:this.props.data.links.length})]}),ee.jsxs("tr",{children:[ee.jsx("td",{children:"Assortativity:"}),ee.jsx("td",{id:"summary-assortativity",children:this.props.data.stats.assortativity})]}),ee.jsxs("tr",{children:[ee.jsx("td",{children:"Transitivity:"}),ee.jsx("td",{id:"summary-transitivity",children:this.props.data.stats.transitivity})]}),ee.jsxs("tr",{children:[ee.jsx("td",{children:"Triangle Count:"}),ee.jsx("td",{id:"summary-triangle-count",children:this.props.data.stats.triangleCount})]}),ee.jsxs("tr",{children:[ee.jsx("td",{children:"Cluster Count:"}),ee.jsx("td",{id:"summary-cluster-count",children:this.props.data.cluster.clusterSizes.length})]}),ee.jsxs("tr",{children:[ee.jsx("td",{children:"Mean Cluster Size:"}),ee.jsx("td",{id:"summary-cluster-mean",children:this.props.data.stats.clusterMean})]}),ee.jsxs("tr",{children:[ee.jsx("td",{children:"Median Cluster Size:"}),ee.jsx("td",{id:"summary-cluster-median",children:this.props.data.stats.clusterMedian})]}),ee.jsxs("tr",{children:[ee.jsx("td",{children:"Mean Pairwise Distance:"}),ee.jsx("td",{id:"summary-pairwise-mean",children:this.props.data.stats.meanPairwiseDistance})]}),ee.jsxs("tr",{children:[ee.jsx("td",{children:"Median Pairwise Distance:"}),ee.jsx("td",{id:"summary-pairwise-median",children:this.props.data.stats.medianPairwiseDistance})]})]})})]})}}class iC extends Nn.Component{constructor(n){super(n);it(this,"incrementCounter",()=>{this.setState({formCounter:Math.min(this.state.formCounter+1,this.props.children.length-1)})});it(this,"decrementCounter",()=>{this.setState({formCounter:Math.max(this.state.formCounter-1,0)})});this.state={formCounter:0}}render(){return ee.jsxs("div",{id:"form-container",children:[ee.jsx("h1",{className:"mt-4 mb-5",children:"Pairwise Distance Graph Visualization"}),ee.jsx("div",{id:"input-form-content",children:this.props.children[this.state.formCounter]}),ee.jsxs("div",{id:"step-action",className:`my-4 ${this.state.formCounter===0&&"justify-content-end"} ${this.state.formCounter===this.props.children.length-1&&"justify-content-start"}`,children:[this.state.formCounter>0&&ee.jsx("button",{id:"step-back",className:"btn btn-primary",onClick:this.decrementCounter,children:"Back"}),this.state.formCounter<this.props.children.length-1&&ee.jsx("button",{id:"step-next",className:"btn btn-primary",onClick:this.incrementCounter,children:"Next"})]})]})}}class oC extends Nn.Component{constructor(n){super(n);it(this,"updateThreshold",n=>{this.props.setThreshold(n.target.value);const r=n.target.value!==""&&n.target.value>=0&&n.target.value<=tf;this.props.setThresholdValid(r),r&&(clearTimeout(this.state.thresholdTimeout),this.setState({thresholdTimeout:setTimeout(()=>{this.props.thresholdValid&&(this.props.updateDiagrams(),this.props.nodeGraph.fitView())},500)}))});it(this,"updatePairwiseFile",n=>{this.setState({uploadSuccess:!1,uploadLoading:!1}),document.getElementById("upload-pairwise-file").value=""});it(this,"updateDataFile",n=>{this.setState({uploadSuccess:!1,uploadLoading:!1}),document.getElementById("upload-data-file").value=""});it(this,"readData",async()=>{if(!document.getElementById("upload-pairwise-file").files[0]){alert("Please select a pairwise distances file.");return}this.setState({uploadLoading:!0,uploadSuccess:!1}),this.props.resetData(),await this.getDemoData(),await this.getPairwiseDistances(()=>{this.props.updateDiagrams(),this.setState({uploadLoading:!1,uploadSuccess:!0})}),this.setState({uploadLoading:!1,uploadSuccess:!0})});it(this,"getDemoData",async n=>{const r=document.getElementById("upload-data-file").files[0];if(!r)return;if(!(r.name.endsWith(".tsv")||r.name.endsWith(".csv"))){alert("Invalid supplementary data file.");return}const i=await uv(r,!0),o=r.name.endsWith(".csv")?",":"	",a=i.split(`
`),s=a[0].split(o);a[a.length-1]===""&&a.pop();const l=new Map;for(let f=0;f<s.length;f++)l.set(s[f],{type:"string",elements:new Set});if(this.props.size<2||l.size>JA){alert("Invalid supplementary data file.");return}Bt("Parsing node supplementary data...");const u=new Map;for(let f=1;f<a.length;f++){const d=a[f].split(o);if(d.length!==l.size){alert("Invalid supplementary data file.");return}const m={};for(let k=1;k<s.length;k++){const R=l.get(s[k]);isNaN(d[k])||(R.type="number",R.intervals=[]),R.type==="string"?(m[s[k]]=d[k],R.elements.add(d[k])):(m[s[k]]=parseFloat(d[k]),R.elements.add(parseFloat(d[k])))}u.set(d[0],m)}for(let f=0;f<s.length;f++){const d=[...l.get(s[f]).elements.values()];l.get(s[f]).type==="string"?d.sort():d.sort((m,k)=>m-k),l.get(s[f]).elements=new Set(d)}const h=[...l.keys()];for(let f=0;f<h.length;f++){if(l.get(h[f]).type!=="number")continue;const d=[...l.get(h[f]).elements],m=d[0],k=d[d.length-1],R=(k-m)/5;for(let de=m;de<k+R;de+=R)l.get(h[f]).intervals.push(de);l.get(h[f]).elements=void 0}this.props.setData({demographicData:{data:u,categories:l}},n),Bt("Done parsing node supplementary data...")});it(this,"getPairwiseDistances",async n=>{const r=new Map,i=new Set,o=document.getElementById("upload-pairwise-file").files[0];console.log(`


-------- READING FILE -------- 


`),Bt("Reading file...");const a=await uv(o);Bt("Done reading file...");const s=new TextDecoder("utf-8");let l="";Bt("Parsing file...");for(let u=0;u<a.byteLength;u+=sv){const f=s.decode(a.slice(u,u+sv)).split(`
`);for(let d=0;d<f.length;++d){let m=f[d],k=m.split("	");if(!(u===0&&d===0)){if(d===0&&k.length<3&&(m=l+m,l="",k=m.split("	")),d===f.length-1&&f[d].length>0&&k.length<3){l=m;continue}if(parseFloat(k[2])<tf){const R=k[0].localeCompare(k[1])<0?k[0]:k[1],de=k[0].localeCompare(k[1])<0?k[1]:k[0];r.set(R+"-"+de,{id:R+"-"+de,source:k[0],target:k[1],value:parseFloat(k[2])})}k[0]===void 0||k[0]===""||k[1]===void 0||k[1]===""||(i.add(k[0]),i.add(k[1]))}}}this.props.setData({allLinks:r,allNodes:i},n),Bt("Done parsing file...")});this.state={thresholdTimeout:void 0,uploadSuccess:!1,uploadLoading:!1}}render(){return ee.jsxs("div",{id:"upload-data",className:"input-step",children:[ee.jsx("h3",{className:"w-100 text-center mb-5",children:"Step 1: Provide Data"}),ee.jsxs("div",{id:"pairwise-threshold",className:"mb-3",children:[ee.jsxs("label",{htmlFor:"threshold-select",id:"threshold-label",className:"form-label w-100 text-center",children:["Maximum Pairwise Distance Threshold Level: ",this.props.thresholdValid?parseFloat(this.props.threshold).toFixed(4):""]}),ee.jsx("div",{className:"input-group",children:ee.jsx("input",{type:"number",className:`form-control ${!this.props.thresholdValid&&"is-invalid"}`,id:"threshold-select","aria-describedby":"threshold-range-hint",min:"0",max:"0.05",step:"0.0025",value:this.props.threshold,onInput:this.updateThreshold})}),ee.jsxs("div",{className:"form-text",id:"threshold-range-hint",children:["Threshold Range: 0 to ",tf]})]}),ee.jsxs("label",{htmlFor:"upload-pairwise-file",className:"form-label w-100 text-center",children:["Upload pairwise distances file: ",ee.jsx("i",{className:"bi bi-asterisk text-danger"})]}),ee.jsx("input",{type:"file",className:"form-control",id:"upload-pairwise-file",onClick:this.updatePairwiseFile}),ee.jsx("label",{htmlFor:"upload-data-file",className:"form-label w-100 text-center mt-3",children:"Upload supplementary data file:"}),ee.jsx("input",{type:"file",className:"form-control",id:"upload-data-file",onClick:this.updateDataFile}),ee.jsx("button",{id:"read-file",className:"btn btn-primary mt-3",onClick:this.readData,children:"Submit"}),ee.jsxs("p",{className:`mt-3 text-success text-center ${!this.state.uploadLoading&&!this.state.uploadSuccess&&"d-none"}`,id:"upload-success",children:[this.state.uploadLoading&&"Loading...",this.state.uploadSuccess&&"Done!"]}),ee.jsxs("p",{className:"mt-3",children:[ee.jsx("i",{className:"bi bi-asterisk text-danger"})," Required"]})]})}}class aC extends Nn.Component{constructor(n){super(n);it(this,"selectCategory",n=>{this.renderIntervals()});it(this,"addInterval",n=>{const r=this.getIntervals();r.splice(n+1,0,(r[n]+r[n+1])/2),this.renderIntervals()});it(this,"setInterval",(n,r)=>{const i=this.getIntervals();i[n]=parseFloat(r),this.renderIntervals()});it(this,"deleteInterval",n=>{this.getIntervals().splice(n,1),this.renderIntervals()});it(this,"getIntervals",()=>{const n=document.getElementById("number-category-intervals-select").value;return this.props.data.demographicData.categories.get(n).intervals});it(this,"renderIntervals",()=>{const n=document.getElementById("number-category-intervals-select").value;if(!n)return;const r=this.props.data.demographicData.categories.get(n).intervals;this.setState({intervals:r.map((i,o)=>ee.jsxs("div",{className:"d-flex align-items-center",children:[ee.jsx("input",{type:"number",step:"0.01",className:"form-control my-3",value:parseFloat(i.toFixed(2)),onChange:a=>this.setInterval(o,a.target.value)}),o!==0&&o!==r.length-1?ee.jsx("button",{className:"btn btn-danger ms-4",onClick:()=>this.deleteInterval(o),children:ee.jsx("i",{className:"bi bi-trash"})}):null,o!==r.length-1?ee.jsx("button",{className:"btn btn-primary ms-4",onClick:()=>this.addInterval(o),children:ee.jsx("i",{className:"bi bi-plus"})}):null]},o))})});this.state={intervals:[]}}componentDidMount(){this.renderIntervals()}render(){return ee.jsxs("div",{id:"adjust-intervals",className:"input-step",children:[ee.jsx("h3",{className:"w-100 text-center mb-5",children:"Step 2: Adjust Quantitative Demographic Data Intervals"}),ee.jsx("h4",{className:"text-center",children:"Quantitative Categories"}),ee.jsx("select",{id:"number-category-intervals-select",className:"form-select mt-3 mb-5",onChange:this.selectCategory,children:[...this.props.data.demographicData.categories.keys()].map(n=>{if(this.props.data.demographicData.categories.get(n).type==="number")return ee.jsx("option",{value:n,children:n},n)})}),ee.jsxs("div",{id:"number-category-list-container",className:"mb-5",children:[ee.jsx("h4",{className:"text-center",children:"Intervals"}),this.state.intervals]})]})}}class sC extends Nn.Component{constructor(n){super(n);it(this,"setViewSelectColor",n=>{this.setState({viewSelectColor:n.target.value})});it(this,"setViewColor",(n,r)=>{const i=new Map(this.props.data.nodeViews);i.get(n).color=r,this.props.setData({nodeViews:i}),clearTimeout(this.state.viewTimeout),this.setState({viewTimeout:setTimeout(this.props.updateNodesColor,500)})});it(this,"deleteView",n=>{const r=new Map(this.props.data.nodeViews);r.delete(n),this.props.setData({nodeViews:r},()=>this.props.deleteNodeViewFromNodes(n))});it(this,"renderViews",()=>{const r=[...this.props.data.demographicData.categories.keys()].map((i,o)=>{if(o===0)return;const a=this.props.data.demographicData.categories.get(i);let s=[];return a.intervals?s=a.intervals.map((l,u)=>{if(u!==a.intervals.length-1)return ee.jsx("option",{value:l.toFixed(4)+" - "+a.intervals[u+1].toFixed(4),children:l.toFixed(4)+" - "+a.intervals[u+1].toFixed(4)},u)}):s=[...a.elements.values()].map((l,u)=>ee.jsx("option",{value:l,children:l},u)),s.unshift(ee.jsx("option",{value:"All",children:"All"},-1)),ee.jsxs("div",{className:"pairwise-view mb-3 w-100",children:[ee.jsx("label",{htmlFor:"view-category-select-"+o,className:"form-label w-100 text-center",children:"View by "+i.toLowerCase()+": "}),ee.jsx("select",{id:"view-category-select-"+o,className:"form-select view-category-select",category:i,children:s})]},o)});this.setState({views:r})});it(this,"createView",()=>{let n="",r="",i=[];const o=document.getElementsByClassName("view-category-select");for(let a=0;a<o.length;a++)if(n+=o[a].selectedIndex+(a===o.length-1?"":"-"),i.push(o[a].value),o[a].selectedIndex!==0){const s=this.props.data.demographicData.categories.get(o[a].getAttribute("category"));s.intervals?r+=o[a].getAttribute("category")+": "+s.intervals[o[a].selectedIndex-1].toFixed(4)+"-"+s.intervals[o[a].selectedIndex].toFixed(4)+", ":r+=o[a].getAttribute("category")+": "+o[a].value+", "}if(document.getElementById("view-entry-"+n)!==null){alert("View already exists.");return}r===""?r="All":r=r.slice(0,-2),this.props.createView(n,{color:document.getElementById("view-color").value,name:r,values:i},()=>this.props.updateNodesFromNodeViews(n))});this.state={views:[],viewSelectColor:"#198754",viewTimeout:void 0}}componentDidMount(){this.renderViews()}render(){return ee.jsxs("div",{id:"create-views",className:"input-step",children:[ee.jsx("h3",{className:"w-100 text-center mb-5",children:"Step 3: Create Node Views"}),ee.jsx("div",{id:"views-container",children:this.state.views}),ee.jsxs("div",{id:"select-view-color",className:"w-100 mt-4",children:[ee.jsx("label",{htmlFor:"view-color",children:"Select View Color:"}),ee.jsx("input",{type:"color",className:"form-control form-control-color ms-3 border-secondary",id:"view-color",value:this.state.viewSelectColor,onChange:this.setViewSelectColor,title:"Choose your color"})]}),ee.jsx("div",{id:"create-view",children:ee.jsx("button",{className:"btn btn-primary mt-3 w-100",id:"create-view-button",onClick:this.createView,children:"Create View"})}),ee.jsx("h5",{className:"w-100 mt-5 mb-3 text-center",children:"Created Node Views:"}),ee.jsx("div",{id:"view-entry-container",className:"mb-5",children:[...this.props.data.nodeViews.keys()].map((n,r)=>{const i=this.props.data.nodeViews.get(n);return ee.jsx("div",{className:"view-entry my-3 w-100",id:`view-entry-${n}`,children:ee.jsxs("div",{className:"view-entry-preview w-100",id:`view-entry-preview-${n}`,children:[ee.jsx("button",{className:"btn btn-secondary view-entry-button",id:`view-entry-button-${n}`,children:i.name}),ee.jsx("input",{type:"color",className:"view-entry-color form-control form-control-color border-secondary",id:`view-entry-color-${n}`,value:i.color,onChange:o=>this.setViewColor(n,o.target.value)}),ee.jsx("button",{className:"btn btn-danger view-entry-delete",id:`view-entry-delete-${n}`,onClick:()=>this.deleteView(n),children:ee.jsx("i",{className:"bi bi-trash"})})]})},n)})})]})}}var c1={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Jr,function(){var n=function(c){return c instanceof Uint8Array||c instanceof Uint16Array||c instanceof Uint32Array||c instanceof Int8Array||c instanceof Int16Array||c instanceof Int32Array||c instanceof Float32Array||c instanceof Float64Array||c instanceof Uint8ClampedArray},r=function(c,v){for(var T=Object.keys(v),G=0;G<T.length;++G)c[T[G]]=v[T[G]];return c},i=`
`;function o(c){return typeof atob<"u"?atob(c):"base64:"+c}function a(c){var v=new Error("(regl) "+c);throw console.error(v),v}function s(c,v){c||a(v)}function l(c){return c?": "+c:""}function u(c,v,T){c in v||a("unknown parameter ("+c+")"+l(T)+". possible values: "+Object.keys(v).join())}function h(c,v){n(c)||a("invalid parameter type"+l(v)+". must be a typed array")}function f(c,v){switch(v){case"number":return typeof c=="number";case"object":return typeof c=="object";case"string":return typeof c=="string";case"boolean":return typeof c=="boolean";case"function":return typeof c=="function";case"undefined":return typeof c>"u";case"symbol":return typeof c=="symbol"}}function d(c,v,T){f(c,v)||a("invalid parameter type"+l(T)+". expected "+v+", got "+typeof c)}function m(c,v){c>=0&&(c|0)===c||a("invalid parameter type, ("+c+")"+l(v)+". must be a nonnegative integer")}function k(c,v,T){v.indexOf(c)<0&&a("invalid value"+l(T)+". must be one of: "+v)}var R=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function de(c){Object.keys(c).forEach(function(v){R.indexOf(v)<0&&a('invalid regl constructor argument "'+v+'". must be one of '+R)})}function _(c,v){for(c=c+"";c.length<v;)c=" "+c;return c}function b(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function F(c,v){this.number=c,this.line=v,this.errors=[]}function V(c,v,T){this.file=c,this.line=v,this.message=T}function W(){var c=new Error,v=(c.stack||c).toString(),T=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(v);if(T)return T[1];var G=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(v);return G?G[1]:"unknown"}function he(){var c=new Error,v=(c.stack||c).toString(),T=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(v);if(T)return T[1];var G=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(v);return G?G[1]:"unknown"}function me(c,v){var T=c.split(`
`),G=1,Q=0,B={unknown:new b,0:new b};B.unknown.name=B[0].name=v||W(),B.unknown.lines.push(new F(0,""));for(var U=0;U<T.length;++U){var re=T[U],ne=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(re);if(ne)switch(ne[1]){case"line":var ue=/(\d+)(\s+\d+)?/.exec(ne[2]);ue&&(G=ue[1]|0,ue[2]&&(Q=ue[2]|0,Q in B||(B[Q]=new b)));break;case"define":var fe=/SHADER_NAME(_B64)?\s+(.*)$/.exec(ne[2]);fe&&(B[Q].name=fe[1]?o(fe[2]):fe[2]);break}B[Q].lines.push(new F(G++,re))}return Object.keys(B).forEach(function(ce){var ge=B[ce];ge.lines.forEach(function(ie){ge.index[ie.number]=ie})}),B}function Ae(c){var v=[];return c.split(`
`).forEach(function(T){if(!(T.length<5)){var G=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(T);G?v.push(new V(G[1]|0,G[2]|0,G[3].trim())):T.length>0&&v.push(new V("unknown",0,T))}}),v}function Ke(c,v){v.forEach(function(T){var G=c[T.file];if(G){var Q=G.index[T.line];if(Q){Q.errors.push(T),G.hasErrors=!0;return}}c.unknown.hasErrors=!0,c.unknown.lines[0].errors.push(T)})}function je(c,v,T,G,Q){if(!c.getShaderParameter(v,c.COMPILE_STATUS)){var B=c.getShaderInfoLog(v),U=G===c.FRAGMENT_SHADER?"fragment":"vertex";Ge(T,"string",U+" shader source must be a string",Q);var re=me(T,Q),ne=Ae(B);Ke(re,ne),Object.keys(re).forEach(function(ue){var fe=re[ue];if(!fe.hasErrors)return;var ce=[""],ge=[""];function ie(le,z){ce.push(le),ge.push(z||"")}ie("file number "+ue+": "+fe.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),fe.lines.forEach(function(le){if(le.errors.length>0){ie(_(le.number,4)+"|  ","background-color:yellow; font-weight:bold"),ie(le.line+i,"color:red; background-color:yellow; font-weight:bold");var z=0;le.errors.forEach(function($){var ae=$.message,Ce=/^\s*'(.*)'\s*:\s*(.*)$/.exec(ae);if(Ce){var te=Ce[1];switch(ae=Ce[2],te){case"assign":te="=";break}z=Math.max(le.line.indexOf(te,z),0)}else z=0;ie(_("| ",6)),ie(_("^^^",z+3)+i,"font-weight:bold"),ie(_("| ",6)),ie(ae+i,"font-weight:bold")}),ie(_("| ",6)+i)}else ie(_(le.number,4)+"|  "),ie(le.line+i,"color:red")}),typeof document<"u"&&!window.chrome?(ge[0]=ce.join("%c"),console.log.apply(console,ge)):console.log(ce.join(""))}),s.raise("Error compiling "+U+" shader, "+re[0].name)}}function De(c,v,T,G,Q){if(!c.getProgramParameter(v,c.LINK_STATUS)){var B=c.getProgramInfoLog(v),U=me(T,Q),re=me(G,Q),ne='Error linking program with vertex shader, "'+re[0].name+'", and fragment shader "'+U[0].name+'"';typeof document<"u"?console.log("%c"+ne+i+"%c"+B,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(ne+i+B),s.raise(ne)}}function at(c){c._commandRef=W()}function ot(c,v,T,G){at(c);function Q(ne){return ne?G.id(ne):0}c._fragId=Q(c.static.frag),c._vertId=Q(c.static.vert);function B(ne,ue){Object.keys(ue).forEach(function(fe){ne[G.id(fe)]=!0})}var U=c._uniformSet={};B(U,v.static),B(U,v.dynamic);var re=c._attributeSet={};B(re,T.static),B(re,T.dynamic),c._hasCount="count"in c.static||"count"in c.dynamic||"elements"in c.static||"elements"in c.dynamic}function H(c,v){var T=he();a(c+" in command "+(v||W())+(T==="unknown"?"":" called from "+T))}function Me(c,v,T){c||H(v,T||W())}function pe(c,v,T,G){c in v||H("unknown parameter ("+c+")"+l(T)+". possible values: "+Object.keys(v).join(),G||W())}function Ge(c,v,T,G){f(c,v)||H("invalid parameter type"+l(T)+". expected "+v+", got "+typeof c,G||W())}function se(c){c()}function be(c,v,T){c.texture?k(c.texture._texture.internalformat,v,"unsupported texture format for attachment"):k(c.renderbuffer._renderbuffer.format,T,"unsupported renderbuffer format for attachment")}var ze=33071,qe=9728,nt=9984,qt=9985,pt=9986,Qt=9987,Dt=5120,Vt=5121,Gn=5122,Ro=5123,T1=5124,b1=5125,Th=5126,bh=32819,kh=32820,Ah=33635,Ch=34042,k1=36193,xn={};xn[Dt]=xn[Vt]=1,xn[Gn]=xn[Ro]=xn[k1]=xn[Ah]=xn[bh]=xn[kh]=2,xn[T1]=xn[b1]=xn[Th]=xn[Ch]=4;function Nh(c,v){return c===kh||c===bh||c===Ah?2:c===Ch?4:xn[c]*v}function ss(c){return!(c&c-1)&&!!c}function A1(c,v,T){var G,Q=v.width,B=v.height,U=v.channels;s(Q>0&&Q<=T.maxTextureSize&&B>0&&B<=T.maxTextureSize,"invalid texture shape"),(c.wrapS!==ze||c.wrapT!==ze)&&s(ss(Q)&&ss(B),"incompatible wrap mode for texture, both width and height must be power of 2"),v.mipmask===1?Q!==1&&B!==1&&s(c.minFilter!==nt&&c.minFilter!==pt&&c.minFilter!==qt&&c.minFilter!==Qt,"min filter requires mipmap"):(s(ss(Q)&&ss(B),"texture must be a square power of 2 to support mipmapping"),s(v.mipmask===(Q<<1)-1,"missing or incomplete mipmap data")),v.type===Th&&(T.extensions.indexOf("oes_texture_float_linear")<0&&s(c.minFilter===qe&&c.magFilter===qe,"filter not supported, must enable oes_texture_float_linear"),s(!c.genMipmaps,"mipmap generation not supported with float textures"));var re=v.images;for(G=0;G<16;++G)if(re[G]){var ne=Q>>G,ue=B>>G;s(v.mipmask&1<<G,"missing mipmap data");var fe=re[G];if(s(fe.width===ne&&fe.height===ue,"invalid shape for mip images"),s(fe.format===v.format&&fe.internalformat===v.internalformat&&fe.type===v.type,"incompatible type for mip image"),!fe.compressed)if(fe.data){var ce=Math.ceil(Nh(fe.type,U)*ne/fe.unpackAlignment)*fe.unpackAlignment;s(fe.data.byteLength===ce*ue,"invalid data for image, buffer size is inconsistent with image format")}else fe.element||fe.copy}else c.genMipmaps||s((v.mipmask&1<<G)===0,"extra mipmap data");v.compressed&&s(!c.genMipmaps,"mipmap generation for compressed images not supported")}function C1(c,v,T,G){var Q=c.width,B=c.height,U=c.channels;s(Q>0&&Q<=G.maxTextureSize&&B>0&&B<=G.maxTextureSize,"invalid texture shape"),s(Q===B,"cube map must be square"),s(v.wrapS===ze&&v.wrapT===ze,"wrap mode not supported by cube map");for(var re=0;re<T.length;++re){var ne=T[re];s(ne.width===Q&&ne.height===B,"inconsistent cube map face shape"),v.genMipmaps&&(s(!ne.compressed,"can not generate mipmap for compressed textures"),s(ne.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var ue=ne.images,fe=0;fe<16;++fe){var ce=ue[fe];if(ce){var ge=Q>>fe,ie=B>>fe;s(ne.mipmask&1<<fe,"missing mipmap data"),s(ce.width===ge&&ce.height===ie,"invalid shape for mip images"),s(ce.format===c.format&&ce.internalformat===c.internalformat&&ce.type===c.type,"incompatible type for mip image"),ce.compressed||(ce.data?s(ce.data.byteLength===ge*ie*Math.max(Nh(ce.type,U),ce.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):ce.element||ce.copy)}}}}var g=r(s,{optional:se,raise:a,commandRaise:H,command:Me,parameter:u,commandParameter:pe,constructor:de,type:d,commandType:Ge,isTypedArray:h,nni:m,oneOf:k,shaderError:je,linkError:De,callSite:he,saveCommandRef:at,saveDrawInfo:ot,framebufferFormat:be,guessCommand:W,texture2D:A1,textureCube:C1}),N1=0,F1=0,P1=5,L1=6;function ii(c,v){this.id=N1++,this.type=c,this.data=v}function Fh(c){return c.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function Do(c){if(c.length===0)return[];var v=c.charAt(0),T=c.charAt(c.length-1);if(c.length>1&&v===T&&(v==='"'||v==="'"))return['"'+Fh(c.substr(1,c.length-2))+'"'];var G=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(c);if(G)return Do(c.substr(0,G.index)).concat(Do(G[1])).concat(Do(c.substr(G.index+G[0].length)));var Q=c.split(".");if(Q.length===1)return['"'+Fh(c)+'"'];for(var B=[],U=0;U<Q.length;++U)B=B.concat(Do(Q[U]));return B}function Ph(c){return"["+Do(c).join("][")+"]"}function z1(c,v){return new ii(c,Ph(v+""))}function I1(c){return typeof c=="function"&&!c._reglType||c instanceof ii}function Lh(c,v){if(typeof c=="function")return new ii(F1,c);if(typeof c=="number"||typeof c=="boolean")return new ii(P1,c);if(Array.isArray(c))return new ii(L1,c.map(function(T,G){return Lh(T,v+"["+G+"]")}));if(c instanceof ii)return c;g(!1,"invalid option type in uniform "+v)}var _n={DynamicVariable:ii,define:z1,isDynamic:I1,unbox:Lh,accessor:Ph},ku={next:typeof requestAnimationFrame=="function"?function(c){return requestAnimationFrame(c)}:function(c){return setTimeout(c,16)},cancel:typeof cancelAnimationFrame=="function"?function(c){return cancelAnimationFrame(c)}:clearTimeout},zh=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function M1(){var c={"":0},v=[""];return{id:function(T){var G=c[T];return G||(G=c[T]=v.length,v.push(T),G)},str:function(T){return v[T]}}}function R1(c,v,T){var G=document.createElement("canvas");r(G.style,{border:0,margin:0,padding:0,top:0,left:0,width:"100%",height:"100%"}),c.appendChild(G),c===document.body&&(G.style.position="absolute",r(c.style,{margin:0,padding:0}));function Q(){var re=window.innerWidth,ne=window.innerHeight;if(c!==document.body){var ue=G.getBoundingClientRect();re=ue.right-ue.left,ne=ue.bottom-ue.top}G.width=T*re,G.height=T*ne}var B;c!==document.body&&typeof ResizeObserver=="function"?(B=new ResizeObserver(function(){setTimeout(Q)}),B.observe(c)):window.addEventListener("resize",Q,!1);function U(){B?B.disconnect():window.removeEventListener("resize",Q),c.removeChild(G)}return Q(),{canvas:G,onDestroy:U}}function D1(c,v){function T(G){try{return c.getContext(G,v)}catch{return null}}return T("webgl")||T("experimental-webgl")||T("webgl-experimental")}function O1(c){return typeof c.nodeName=="string"&&typeof c.appendChild=="function"&&typeof c.getBoundingClientRect=="function"}function B1(c){return typeof c.drawArrays=="function"||typeof c.drawElements=="function"}function Ih(c){return typeof c=="string"?c.split():(g(Array.isArray(c),"invalid extension array"),c)}function Mh(c){return typeof c=="string"?(g(typeof document<"u","not supported outside of DOM"),document.querySelector(c)):c}function G1(c){var v=c||{},T,G,Q,B,U={},re=[],ne=[],ue=typeof window>"u"?1:window.devicePixelRatio,fe=!1,ce=function(le){le&&g.raise(le)},ge=function(){};if(typeof v=="string"?(g(typeof document<"u","selector queries only supported in DOM enviroments"),T=document.querySelector(v),g(T,"invalid query string for element")):typeof v=="object"?O1(v)?T=v:B1(v)?(B=v,Q=B.canvas):(g.constructor(v),"gl"in v?B=v.gl:"canvas"in v?Q=Mh(v.canvas):"container"in v&&(G=Mh(v.container)),"attributes"in v&&(U=v.attributes,g.type(U,"object","invalid context attributes")),"extensions"in v&&(re=Ih(v.extensions)),"optionalExtensions"in v&&(ne=Ih(v.optionalExtensions)),"onDone"in v&&(g.type(v.onDone,"function","invalid or missing onDone callback"),ce=v.onDone),"profile"in v&&(fe=!!v.profile),"pixelRatio"in v&&(ue=+v.pixelRatio,g(ue>0,"invalid pixel ratio"))):g.raise("invalid arguments to regl"),T&&(T.nodeName.toLowerCase()==="canvas"?Q=T:G=T),!B){if(!Q){g(typeof document<"u","must manually specify webgl context outside of DOM environments");var ie=R1(G||document.body,ce,ue);if(!ie)return null;Q=ie.canvas,ge=ie.onDestroy}U.premultipliedAlpha===void 0&&(U.premultipliedAlpha=!0),B=D1(Q,U)}return B?{gl:B,canvas:Q,container:G,extensions:re,optionalExtensions:ne,pixelRatio:ue,profile:fe,onDone:ce,onDestroy:ge}:(ge(),ce("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function j1(c,v){var T={};function G(U){g.type(U,"string","extension name must be string");var re=U.toLowerCase(),ne;try{ne=T[re]=c.getExtension(re)}catch{}return!!ne}for(var Q=0;Q<v.extensions.length;++Q){var B=v.extensions[Q];if(!G(B))return v.onDestroy(),v.onDone('"'+B+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return v.optionalExtensions.forEach(G),{extensions:T,restore:function(){Object.keys(T).forEach(function(U){if(T[U]&&!G(U))throw new Error("(regl): error restoring extension "+U)})}}}function Sn(c,v){for(var T=Array(c),G=0;G<c;++G)T[G]=v(G);return T}var V1=5120,$1=5121,U1=5122,H1=5123,W1=5124,X1=5125,Y1=5126;function q1(c){for(var v=16;v<=1<<28;v*=16)if(c<=v)return v;return 0}function Rh(c){var v,T;return v=(c>65535)<<4,c>>>=v,T=(c>255)<<3,c>>>=T,v|=T,T=(c>15)<<2,c>>>=T,v|=T,T=(c>3)<<1,c>>>=T,v|=T,v|c>>1}function Dh(){var c=Sn(8,function(){return[]});function v(B){var U=q1(B),re=c[Rh(U)>>2];return re.length>0?re.pop():new ArrayBuffer(U)}function T(B){c[Rh(B.byteLength)>>2].push(B)}function G(B,U){var re=null;switch(B){case V1:re=new Int8Array(v(U),0,U);break;case $1:re=new Uint8Array(v(U),0,U);break;case U1:re=new Int16Array(v(2*U),0,U);break;case H1:re=new Uint16Array(v(2*U),0,U);break;case W1:re=new Int32Array(v(4*U),0,U);break;case X1:re=new Uint32Array(v(4*U),0,U);break;case Y1:re=new Float32Array(v(4*U),0,U);break;default:return null}return re.length!==U?re.subarray(0,U):re}function Q(B){T(B.buffer)}return{alloc:v,free:T,allocType:G,freeType:Q}}var At=Dh();At.zero=Dh();var Q1=3408,K1=3410,Z1=3411,J1=3412,ex=3413,tx=3414,nx=3415,rx=33901,ix=33902,ox=3379,ax=3386,sx=34921,lx=36347,ux=36348,cx=35661,fx=35660,dx=34930,hx=36349,px=34076,mx=34024,vx=7936,gx=7937,yx=7938,xx=35724,_x=34047,Sx=36063,wx=34852,ls=3553,Oh=34067,Ex=34069,Tx=33984,Oo=6408,Au=5126,Bh=5121,Cu=36160,bx=36053,kx=36064,Ax=16384,Cx=function(c,v){var T=1;v.ext_texture_filter_anisotropic&&(T=c.getParameter(_x));var G=1,Q=1;v.webgl_draw_buffers&&(G=c.getParameter(wx),Q=c.getParameter(Sx));var B=!!v.oes_texture_float;if(B){var U=c.createTexture();c.bindTexture(ls,U),c.texImage2D(ls,0,Oo,1,1,0,Oo,Au,null);var re=c.createFramebuffer();if(c.bindFramebuffer(Cu,re),c.framebufferTexture2D(Cu,kx,ls,U,0),c.bindTexture(ls,null),c.checkFramebufferStatus(Cu)!==bx)B=!1;else{c.viewport(0,0,1,1),c.clearColor(1,0,0,1),c.clear(Ax);var ne=At.allocType(Au,4);c.readPixels(0,0,1,1,Oo,Au,ne),c.getError()?B=!1:(c.deleteFramebuffer(re),c.deleteTexture(U),B=ne[0]===1),At.freeType(ne)}}var ue=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),fe=!0;if(!ue){var ce=c.createTexture(),ge=At.allocType(Bh,36);c.activeTexture(Tx),c.bindTexture(Oh,ce),c.texImage2D(Ex,0,Oo,3,3,0,Oo,Bh,ge),At.freeType(ge),c.bindTexture(Oh,null),c.deleteTexture(ce),fe=!c.getError()}return{colorBits:[c.getParameter(K1),c.getParameter(Z1),c.getParameter(J1),c.getParameter(ex)],depthBits:c.getParameter(tx),stencilBits:c.getParameter(nx),subpixelBits:c.getParameter(Q1),extensions:Object.keys(v).filter(function(ie){return!!v[ie]}),maxAnisotropic:T,maxDrawbuffers:G,maxColorAttachments:Q,pointSizeDims:c.getParameter(rx),lineWidthDims:c.getParameter(ix),maxViewportDims:c.getParameter(ax),maxCombinedTextureUnits:c.getParameter(cx),maxCubeMapSize:c.getParameter(px),maxRenderbufferSize:c.getParameter(mx),maxTextureUnits:c.getParameter(dx),maxTextureSize:c.getParameter(ox),maxAttributes:c.getParameter(sx),maxVertexUniforms:c.getParameter(lx),maxVertexTextureUnits:c.getParameter(fx),maxVaryingVectors:c.getParameter(ux),maxFragmentUniforms:c.getParameter(hx),glsl:c.getParameter(xx),renderer:c.getParameter(gx),vendor:c.getParameter(vx),version:c.getParameter(yx),readFloat:B,npotTextureCube:fe}};function jn(c){return!!c&&typeof c=="object"&&Array.isArray(c.shape)&&Array.isArray(c.stride)&&typeof c.offset=="number"&&c.shape.length===c.stride.length&&(Array.isArray(c.data)||n(c.data))}var wn=function(c){return Object.keys(c).map(function(v){return c[v]})},us={shape:Lx,flatten:Px};function Nx(c,v,T){for(var G=0;G<v;++G)T[G]=c[G]}function Fx(c,v,T,G){for(var Q=0,B=0;B<v;++B)for(var U=c[B],re=0;re<T;++re)G[Q++]=U[re]}function Gh(c,v,T,G,Q,B){for(var U=B,re=0;re<v;++re)for(var ne=c[re],ue=0;ue<T;++ue)for(var fe=ne[ue],ce=0;ce<G;++ce)Q[U++]=fe[ce]}function jh(c,v,T,G,Q){for(var B=1,U=T+1;U<v.length;++U)B*=v[U];var re=v[T];if(v.length-T===4){var ne=v[T+1],ue=v[T+2],fe=v[T+3];for(U=0;U<re;++U)Gh(c[U],ne,ue,fe,G,Q),Q+=B}else for(U=0;U<re;++U)jh(c[U],v,T+1,G,Q),Q+=B}function Px(c,v,T,G){var Q=1;if(v.length)for(var B=0;B<v.length;++B)Q*=v[B];else Q=0;var U=G||At.allocType(T,Q);switch(v.length){case 0:break;case 1:Nx(c,v[0],U);break;case 2:Fx(c,v[0],v[1],U);break;case 3:Gh(c,v[0],v[1],v[2],U,0);break;default:jh(c,v,0,U,0)}return U}function Lx(c){for(var v=[],T=c;T.length;T=T[0])v.push(T.length);return v}var Nu={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},zx=5120,Ix=5122,Mx=5124,Rx=5121,Dx=5123,Ox=5125,Bx=5126,Gx=5126,oi={int8:zx,int16:Ix,int32:Mx,uint8:Rx,uint16:Dx,uint32:Ox,float:Bx,float32:Gx},jx=35048,Vx=35040,cs={dynamic:jx,stream:Vx,static:35044},Fu=us.flatten,Vh=us.shape,$h=35044,$x=35040,Pu=5121,Lu=5126,Cr=[];Cr[5120]=1,Cr[5122]=2,Cr[5124]=4,Cr[5121]=1,Cr[5123]=2,Cr[5125]=4,Cr[5126]=4;function fs(c){return Nu[Object.prototype.toString.call(c)]|0}function Uh(c,v){for(var T=0;T<v.length;++T)c[T]=v[T]}function Hh(c,v,T,G,Q,B,U){for(var re=0,ne=0;ne<T;++ne)for(var ue=0;ue<G;++ue)c[re++]=v[Q*ne+B*ue+U]}function Ux(c,v,T,G){var Q=0,B={};function U(z){this.id=Q++,this.buffer=c.createBuffer(),this.type=z,this.usage=$h,this.byteLength=0,this.dimension=1,this.dtype=Pu,this.persistentData=null,T.profile&&(this.stats={size:0})}U.prototype.bind=function(){c.bindBuffer(this.type,this.buffer)},U.prototype.destroy=function(){ge(this)};var re=[];function ne(z,$){var ae=re.pop();return ae||(ae=new U(z)),ae.bind(),ce(ae,$,$x,0,1,!1),ae}function ue(z){re.push(z)}function fe(z,$,ae){z.byteLength=$.byteLength,c.bufferData(z.type,$,ae)}function ce(z,$,ae,Ce,te,Te){var Se;if(z.usage=ae,Array.isArray($)){if(z.dtype=Ce||Lu,$.length>0){var Oe;if(Array.isArray($[0])){Se=Vh($);for(var K=1,q=1;q<Se.length;++q)K*=Se[q];z.dimension=K,Oe=Fu($,Se,z.dtype),fe(z,Oe,ae),Te?z.persistentData=Oe:At.freeType(Oe)}else if(typeof $[0]=="number"){z.dimension=te;var Pe=At.allocType(z.dtype,$.length);Uh(Pe,$),fe(z,Pe,ae),Te?z.persistentData=Pe:At.freeType(Pe)}else n($[0])?(z.dimension=$[0].length,z.dtype=Ce||fs($[0])||Lu,Oe=Fu($,[$.length,$[0].length],z.dtype),fe(z,Oe,ae),Te?z.persistentData=Oe:At.freeType(Oe)):g.raise("invalid buffer data")}}else if(n($))z.dtype=Ce||fs($),z.dimension=te,fe(z,$,ae),Te&&(z.persistentData=new Uint8Array(new Uint8Array($.buffer)));else if(jn($)){Se=$.shape;var ye=$.stride,oe=$.offset,xe=0,_e=0,Xe=0,We=0;Se.length===1?(xe=Se[0],_e=1,Xe=ye[0],We=0):Se.length===2?(xe=Se[0],_e=Se[1],Xe=ye[0],We=ye[1]):g.raise("invalid shape"),z.dtype=Ce||fs($.data)||Lu,z.dimension=_e;var we=At.allocType(z.dtype,xe*_e);Hh(we,$.data,xe,_e,Xe,We,oe),fe(z,we,ae),Te?z.persistentData=we:At.freeType(we)}else $ instanceof ArrayBuffer?(z.dtype=Pu,z.dimension=te,fe(z,$,ae),Te&&(z.persistentData=new Uint8Array(new Uint8Array($)))):g.raise("invalid buffer data")}function ge(z){v.bufferCount--,G(z);var $=z.buffer;g($,"buffer must not be deleted already"),c.deleteBuffer($),z.buffer=null,delete B[z.id]}function ie(z,$,ae,Ce){v.bufferCount++;var te=new U($);B[te.id]=te;function Te(K){var q=$h,Pe=null,ye=0,oe=0,xe=1;return Array.isArray(K)||n(K)||jn(K)||K instanceof ArrayBuffer?Pe=K:typeof K=="number"?ye=K|0:K&&(g.type(K,"object","buffer arguments must be an object, a number or an array"),"data"in K&&(g(Pe===null||Array.isArray(Pe)||n(Pe)||jn(Pe),"invalid data for buffer"),Pe=K.data),"usage"in K&&(g.parameter(K.usage,cs,"invalid buffer usage"),q=cs[K.usage]),"type"in K&&(g.parameter(K.type,oi,"invalid buffer type"),oe=oi[K.type]),"dimension"in K&&(g.type(K.dimension,"number","invalid dimension"),xe=K.dimension|0),"length"in K&&(g.nni(ye,"buffer length must be a nonnegative integer"),ye=K.length|0)),te.bind(),Pe?ce(te,Pe,q,oe,xe,Ce):(ye&&c.bufferData(te.type,ye,q),te.dtype=oe||Pu,te.usage=q,te.dimension=xe,te.byteLength=ye),T.profile&&(te.stats.size=te.byteLength*Cr[te.dtype]),Te}function Se(K,q){g(q+K.byteLength<=te.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+K.byteLength+" starting from offset "+q+" to a buffer of size "+te.byteLength),c.bufferSubData(te.type,q,K)}function Oe(K,q){var Pe=(q||0)|0,ye;if(te.bind(),n(K)||K instanceof ArrayBuffer)Se(K,Pe);else if(Array.isArray(K)){if(K.length>0)if(typeof K[0]=="number"){var oe=At.allocType(te.dtype,K.length);Uh(oe,K),Se(oe,Pe),At.freeType(oe)}else if(Array.isArray(K[0])||n(K[0])){ye=Vh(K);var xe=Fu(K,ye,te.dtype);Se(xe,Pe),At.freeType(xe)}else g.raise("invalid buffer data")}else if(jn(K)){ye=K.shape;var _e=K.stride,Xe=0,We=0,we=0,ke=0;ye.length===1?(Xe=ye[0],We=1,we=_e[0],ke=0):ye.length===2?(Xe=ye[0],We=ye[1],we=_e[0],ke=_e[1]):g.raise("invalid shape");var $e=Array.isArray(K.data)?te.dtype:fs(K.data),Ye=At.allocType($e,Xe*We);Hh(Ye,K.data,Xe,We,we,ke,K.offset),Se(Ye,Pe),At.freeType(Ye)}else g.raise("invalid data for buffer subdata");return Te}return ae||Te(z),Te._reglType="buffer",Te._buffer=te,Te.subdata=Oe,T.profile&&(Te.stats=te.stats),Te.destroy=function(){ge(te)},Te}function le(){wn(B).forEach(function(z){z.buffer=c.createBuffer(),c.bindBuffer(z.type,z.buffer),c.bufferData(z.type,z.persistentData||z.byteLength,z.usage)})}return T.profile&&(v.getTotalBufferSize=function(){var z=0;return Object.keys(B).forEach(function($){z+=B[$].stats.size}),z}),{create:ie,createStream:ne,destroyStream:ue,clear:function(){wn(B).forEach(ge),re.forEach(ge)},getBuffer:function(z){return z&&z._buffer instanceof U?z._buffer:null},restore:le,_initBuffer:ce}}var Hx=0,Wx=0,Xx=1,Yx=1,qx=4,Qx=4,Nr={points:Hx,point:Wx,lines:Xx,line:Yx,triangles:qx,triangle:Qx,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},Kx=0,Zx=1,Bo=4,Jx=5120,Bi=5121,Wh=5122,Gi=5123,Xh=5124,ai=5125,zu=34963,e_=35040,t_=35044;function n_(c,v,T,G){var Q={},B=0,U={uint8:Bi,uint16:Gi};v.oes_element_index_uint&&(U.uint32=ai);function re(le){this.id=B++,Q[this.id]=this,this.buffer=le,this.primType=Bo,this.vertCount=0,this.type=0}re.prototype.bind=function(){this.buffer.bind()};var ne=[];function ue(le){var z=ne.pop();return z||(z=new re(T.create(null,zu,!0,!1)._buffer)),ce(z,le,e_,-1,-1,0,0),z}function fe(le){ne.push(le)}function ce(le,z,$,ae,Ce,te,Te){le.buffer.bind();var Se;if(z){var Oe=Te;!Te&&(!n(z)||jn(z)&&!n(z.data))&&(Oe=v.oes_element_index_uint?ai:Gi),T._initBuffer(le.buffer,z,$,Oe,3)}else c.bufferData(zu,te,$),le.buffer.dtype=Se||Bi,le.buffer.usage=$,le.buffer.dimension=3,le.buffer.byteLength=te;if(Se=Te,!Te){switch(le.buffer.dtype){case Bi:case Jx:Se=Bi;break;case Gi:case Wh:Se=Gi;break;case ai:case Xh:Se=ai;break;default:g.raise("unsupported type for element array")}le.buffer.dtype=Se}le.type=Se,g(Se!==ai||!!v.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var K=Ce;K<0&&(K=le.buffer.byteLength,Se===Gi?K>>=1:Se===ai&&(K>>=2)),le.vertCount=K;var q=ae;if(ae<0){q=Bo;var Pe=le.buffer.dimension;Pe===1&&(q=Kx),Pe===2&&(q=Zx),Pe===3&&(q=Bo)}le.primType=q}function ge(le){G.elementsCount--,g(le.buffer!==null,"must not double destroy elements"),delete Q[le.id],le.buffer.destroy(),le.buffer=null}function ie(le,z){var $=T.create(null,zu,!0),ae=new re($._buffer);G.elementsCount++;function Ce(te){if(!te)$(),ae.primType=Bo,ae.vertCount=0,ae.type=Bi;else if(typeof te=="number")$(te),ae.primType=Bo,ae.vertCount=te|0,ae.type=Bi;else{var Te=null,Se=t_,Oe=-1,K=-1,q=0,Pe=0;Array.isArray(te)||n(te)||jn(te)?Te=te:(g.type(te,"object","invalid arguments for elements"),"data"in te&&(Te=te.data,g(Array.isArray(Te)||n(Te)||jn(Te),"invalid data for element buffer")),"usage"in te&&(g.parameter(te.usage,cs,"invalid element buffer usage"),Se=cs[te.usage]),"primitive"in te&&(g.parameter(te.primitive,Nr,"invalid element buffer primitive"),Oe=Nr[te.primitive]),"count"in te&&(g(typeof te.count=="number"&&te.count>=0,"invalid vertex count for elements"),K=te.count|0),"type"in te&&(g.parameter(te.type,U,"invalid buffer type"),Pe=U[te.type]),"length"in te?q=te.length|0:(q=K,Pe===Gi||Pe===Wh?q*=2:(Pe===ai||Pe===Xh)&&(q*=4))),ce(ae,Te,Se,Oe,K,q,Pe)}return Ce}return Ce(le),Ce._reglType="elements",Ce._elements=ae,Ce.subdata=function(te,Te){return $.subdata(te,Te),Ce},Ce.destroy=function(){ge(ae)},Ce}return{create:ie,createStream:ue,destroyStream:fe,getElements:function(le){return typeof le=="function"&&le._elements instanceof re?le._elements:null},clear:function(){wn(Q).forEach(ge)}}}var Yh=new Float32Array(1),r_=new Uint32Array(Yh.buffer),i_=5123;function qh(c){for(var v=At.allocType(i_,c.length),T=0;T<c.length;++T)if(isNaN(c[T]))v[T]=65535;else if(c[T]===1/0)v[T]=31744;else if(c[T]===-1/0)v[T]=64512;else{Yh[0]=c[T];var G=r_[0],Q=G>>>31<<15,B=(G<<1>>>24)-127,U=G>>13&(1<<10)-1;if(B<-24)v[T]=Q;else if(B<-14){var re=-14-B;v[T]=Q+(U+(1<<10)>>re)}else B>15?v[T]=Q+31744:v[T]=Q+(B+15<<10)+U}return v}function mt(c){return Array.isArray(c)||n(c)}var Qh=function(c){return!(c&c-1)&&!!c},o_=34467,tr=3553,Iu=34067,ds=34069,si=6408,Mu=6406,hs=6407,Go=6409,ps=6410,Kh=32854,Ru=32855,Zh=36194,a_=32819,s_=32820,l_=33635,u_=34042,Du=6402,ms=34041,Ou=35904,Bu=35906,ji=36193,Gu=33776,ju=33777,Vu=33778,$u=33779,Jh=35986,ep=35987,tp=34798,np=35840,rp=35841,ip=35842,op=35843,ap=36196,Vi=5121,Uu=5123,Hu=5125,jo=5126,c_=10242,f_=10243,d_=10497,Wu=33071,h_=33648,p_=10240,m_=10241,Xu=9728,v_=9729,Yu=9984,sp=9985,lp=9986,qu=9987,g_=33170,vs=4352,y_=4353,x_=4354,__=34046,S_=3317,w_=37440,E_=37441,T_=37443,up=37444,Vo=33984,b_=[Yu,lp,sp,qu],gs=[0,Go,ps,hs,si],Ln={};Ln[Go]=Ln[Mu]=Ln[Du]=1,Ln[ms]=Ln[ps]=2,Ln[hs]=Ln[Ou]=3,Ln[si]=Ln[Bu]=4;function $i(c){return"[object "+c+"]"}var cp=$i("HTMLCanvasElement"),fp=$i("OffscreenCanvas"),dp=$i("CanvasRenderingContext2D"),hp=$i("ImageBitmap"),pp=$i("HTMLImageElement"),mp=$i("HTMLVideoElement"),k_=Object.keys(Nu).concat([cp,fp,dp,hp,pp,mp]),Ui=[];Ui[Vi]=1,Ui[jo]=4,Ui[ji]=2,Ui[Uu]=2,Ui[Hu]=4;var $t=[];$t[Kh]=2,$t[Ru]=2,$t[Zh]=2,$t[ms]=4,$t[Gu]=.5,$t[ju]=.5,$t[Vu]=1,$t[$u]=1,$t[Jh]=.5,$t[ep]=1,$t[tp]=1,$t[np]=.5,$t[rp]=.25,$t[ip]=.5,$t[op]=.25,$t[ap]=.5;function vp(c){return Array.isArray(c)&&(c.length===0||typeof c[0]=="number")}function gp(c){if(!Array.isArray(c))return!1;var v=c.length;return!(v===0||!mt(c[0]))}function li(c){return Object.prototype.toString.call(c)}function yp(c){return li(c)===cp}function xp(c){return li(c)===fp}function A_(c){return li(c)===dp}function C_(c){return li(c)===hp}function N_(c){return li(c)===pp}function F_(c){return li(c)===mp}function Qu(c){if(!c)return!1;var v=li(c);return k_.indexOf(v)>=0?!0:vp(c)||gp(c)||jn(c)}function _p(c){return Nu[Object.prototype.toString.call(c)]|0}function P_(c,v){var T=v.length;switch(c.type){case Vi:case Uu:case Hu:case jo:var G=At.allocType(c.type,T);G.set(v),c.data=G;break;case ji:c.data=qh(v);break;default:g.raise("unsupported texture type, must specify a typed array")}}function Sp(c,v){return At.allocType(c.type===ji?jo:c.type,v)}function wp(c,v){c.type===ji?(c.data=qh(v),At.freeType(v)):c.data=v}function L_(c,v,T,G,Q,B){for(var U=c.width,re=c.height,ne=c.channels,ue=U*re*ne,fe=Sp(c,ue),ce=0,ge=0;ge<re;++ge)for(var ie=0;ie<U;++ie)for(var le=0;le<ne;++le)fe[ce++]=v[T*ie+G*ge+Q*le+B];wp(c,fe)}function ys(c,v,T,G,Q,B){var U;if(typeof $t[c]<"u"?U=$t[c]:U=Ln[c]*Ui[v],B&&(U*=6),Q){for(var re=0,ne=T;ne>=1;)re+=U*ne*ne,ne/=2;return re}else return U*T*G}function z_(c,v,T,G,Q,B,U){var re={"don't care":vs,"dont care":vs,nice:x_,fast:y_},ne={repeat:d_,clamp:Wu,mirror:h_},ue={nearest:Xu,linear:v_},fe=r({mipmap:qu,"nearest mipmap nearest":Yu,"linear mipmap nearest":sp,"nearest mipmap linear":lp,"linear mipmap linear":qu},ue),ce={none:0,browser:up},ge={uint8:Vi,rgba4:a_,rgb565:l_,"rgb5 a1":s_},ie={alpha:Mu,luminance:Go,"luminance alpha":ps,rgb:hs,rgba:si,rgba4:Kh,"rgb5 a1":Ru,rgb565:Zh},le={};v.ext_srgb&&(ie.srgb=Ou,ie.srgba=Bu),v.oes_texture_float&&(ge.float32=ge.float=jo),v.oes_texture_half_float&&(ge.float16=ge["half float"]=ji),v.webgl_depth_texture&&(r(ie,{depth:Du,"depth stencil":ms}),r(ge,{uint16:Uu,uint32:Hu,"depth stencil":u_})),v.webgl_compressed_texture_s3tc&&r(le,{"rgb s3tc dxt1":Gu,"rgba s3tc dxt1":ju,"rgba s3tc dxt3":Vu,"rgba s3tc dxt5":$u}),v.webgl_compressed_texture_atc&&r(le,{"rgb atc":Jh,"rgba atc explicit alpha":ep,"rgba atc interpolated alpha":tp}),v.webgl_compressed_texture_pvrtc&&r(le,{"rgb pvrtc 4bppv1":np,"rgb pvrtc 2bppv1":rp,"rgba pvrtc 4bppv1":ip,"rgba pvrtc 2bppv1":op}),v.webgl_compressed_texture_etc1&&(le["rgb etc1"]=ap);var z=Array.prototype.slice.call(c.getParameter(o_));Object.keys(le).forEach(function(w){var j=le[w];z.indexOf(j)>=0&&(ie[w]=j)});var $=Object.keys(ie);T.textureFormats=$;var ae=[];Object.keys(ie).forEach(function(w){var j=ie[w];ae[j]=w});var Ce=[];Object.keys(ge).forEach(function(w){var j=ge[w];Ce[j]=w});var te=[];Object.keys(ue).forEach(function(w){var j=ue[w];te[j]=w});var Te=[];Object.keys(fe).forEach(function(w){var j=fe[w];Te[j]=w});var Se=[];Object.keys(ne).forEach(function(w){var j=ne[w];Se[j]=w});var Oe=$.reduce(function(w,j){var O=ie[j];return O===Go||O===Mu||O===Go||O===ps||O===Du||O===ms||v.ext_srgb&&(O===Ou||O===Bu)?w[O]=O:O===Ru||j.indexOf("rgba")>=0?w[O]=si:w[O]=hs,w},{});function K(){this.internalformat=si,this.format=si,this.type=Vi,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=up,this.width=0,this.height=0,this.channels=0}function q(w,j){w.internalformat=j.internalformat,w.format=j.format,w.type=j.type,w.compressed=j.compressed,w.premultiplyAlpha=j.premultiplyAlpha,w.flipY=j.flipY,w.unpackAlignment=j.unpackAlignment,w.colorSpace=j.colorSpace,w.width=j.width,w.height=j.height,w.channels=j.channels}function Pe(w,j){if(!(typeof j!="object"||!j)){if("premultiplyAlpha"in j&&(g.type(j.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),w.premultiplyAlpha=j.premultiplyAlpha),"flipY"in j&&(g.type(j.flipY,"boolean","invalid texture flip"),w.flipY=j.flipY),"alignment"in j&&(g.oneOf(j.alignment,[1,2,4,8],"invalid texture unpack alignment"),w.unpackAlignment=j.alignment),"colorSpace"in j&&(g.parameter(j.colorSpace,ce,"invalid colorSpace"),w.colorSpace=ce[j.colorSpace]),"type"in j){var O=j.type;g(v.oes_texture_float||!(O==="float"||O==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),g(v.oes_texture_half_float||!(O==="half float"||O==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),g(v.webgl_depth_texture||!(O==="uint16"||O==="uint32"||O==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),g.parameter(O,ge,"invalid texture type"),w.type=ge[O]}var Fe=w.width,Ze=w.height,y=w.channels,p=!1;"shape"in j?(g(Array.isArray(j.shape)&&j.shape.length>=2,"shape must be an array"),Fe=j.shape[0],Ze=j.shape[1],j.shape.length===3&&(y=j.shape[2],g(y>0&&y<=4,"invalid number of channels"),p=!0),g(Fe>=0&&Fe<=T.maxTextureSize,"invalid width"),g(Ze>=0&&Ze<=T.maxTextureSize,"invalid height")):("radius"in j&&(Fe=Ze=j.radius,g(Fe>=0&&Fe<=T.maxTextureSize,"invalid radius")),"width"in j&&(Fe=j.width,g(Fe>=0&&Fe<=T.maxTextureSize,"invalid width")),"height"in j&&(Ze=j.height,g(Ze>=0&&Ze<=T.maxTextureSize,"invalid height")),"channels"in j&&(y=j.channels,g(y>0&&y<=4,"invalid number of channels"),p=!0)),w.width=Fe|0,w.height=Ze|0,w.channels=y|0;var A=!1;if("format"in j){var L=j.format;g(v.webgl_depth_texture||!(L==="depth"||L==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),g.parameter(L,ie,"invalid texture format");var I=w.internalformat=ie[L];w.format=Oe[I],L in ge&&("type"in j||(w.type=ge[L])),L in le&&(w.compressed=!0),A=!0}!p&&A?w.channels=Ln[w.format]:p&&!A?w.channels!==gs[w.format]&&(w.format=w.internalformat=gs[w.channels]):A&&p&&g(w.channels===Ln[w.format],"number of channels inconsistent with specified format")}}function ye(w){c.pixelStorei(w_,w.flipY),c.pixelStorei(E_,w.premultiplyAlpha),c.pixelStorei(T_,w.colorSpace),c.pixelStorei(S_,w.unpackAlignment)}function oe(){K.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function xe(w,j){var O=null;if(Qu(j)?O=j:j&&(g.type(j,"object","invalid pixel data type"),Pe(w,j),"x"in j&&(w.xOffset=j.x|0),"y"in j&&(w.yOffset=j.y|0),Qu(j.data)&&(O=j.data)),g(!w.compressed||O instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),j.copy){g(!O,"can not specify copy and data field for the same texture");var Fe=Q.viewportWidth,Ze=Q.viewportHeight;w.width=w.width||Fe-w.xOffset,w.height=w.height||Ze-w.yOffset,w.needsCopy=!0,g(w.xOffset>=0&&w.xOffset<Fe&&w.yOffset>=0&&w.yOffset<Ze&&w.width>0&&w.width<=Fe&&w.height>0&&w.height<=Ze,"copy texture read out of bounds")}else if(!O)w.width=w.width||1,w.height=w.height||1,w.channels=w.channels||4;else if(n(O))w.channels=w.channels||4,w.data=O,!("type"in j)&&w.type===Vi&&(w.type=_p(O));else if(vp(O))w.channels=w.channels||4,P_(w,O),w.alignment=1,w.needsFree=!0;else if(jn(O)){var y=O.data;!Array.isArray(y)&&w.type===Vi&&(w.type=_p(y));var p=O.shape,A=O.stride,L,I,N,C,P,x;p.length===3?(N=p[2],x=A[2]):(g(p.length===2,"invalid ndarray pixel data, must be 2 or 3D"),N=1,x=1),L=p[0],I=p[1],C=A[0],P=A[1],w.alignment=1,w.width=L,w.height=I,w.channels=N,w.format=w.internalformat=gs[N],w.needsFree=!0,L_(w,y,C,P,x,O.offset)}else if(yp(O)||xp(O)||A_(O))yp(O)||xp(O)?w.element=O:w.element=O.canvas,w.width=w.element.width,w.height=w.element.height,w.channels=4;else if(C_(O))w.element=O,w.width=O.width,w.height=O.height,w.channels=4;else if(N_(O))w.element=O,w.width=O.naturalWidth,w.height=O.naturalHeight,w.channels=4;else if(F_(O))w.element=O,w.width=O.videoWidth,w.height=O.videoHeight,w.channels=4;else if(gp(O)){var E=w.width||O[0].length,S=w.height||O.length,D=w.channels;mt(O[0][0])?D=D||O[0][0].length:D=D||1;for(var M=us.shape(O),Y=1,Z=0;Z<M.length;++Z)Y*=M[Z];var ve=Sp(w,Y);us.flatten(O,M,"",ve),wp(w,ve),w.alignment=1,w.width=E,w.height=S,w.channels=D,w.format=w.internalformat=gs[D],w.needsFree=!0}w.type===jo?g(T.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):w.type===ji&&g(T.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function _e(w,j,O){var Fe=w.element,Ze=w.data,y=w.internalformat,p=w.format,A=w.type,L=w.width,I=w.height;ye(w),Fe?c.texImage2D(j,O,p,p,A,Fe):w.compressed?c.compressedTexImage2D(j,O,y,L,I,0,Ze):w.needsCopy?(G(),c.copyTexImage2D(j,O,p,w.xOffset,w.yOffset,L,I,0)):c.texImage2D(j,O,p,L,I,0,p,A,Ze||null)}function Xe(w,j,O,Fe,Ze){var y=w.element,p=w.data,A=w.internalformat,L=w.format,I=w.type,N=w.width,C=w.height;ye(w),y?c.texSubImage2D(j,Ze,O,Fe,L,I,y):w.compressed?c.compressedTexSubImage2D(j,Ze,O,Fe,A,N,C,p):w.needsCopy?(G(),c.copyTexSubImage2D(j,Ze,O,Fe,w.xOffset,w.yOffset,N,C)):c.texSubImage2D(j,Ze,O,Fe,N,C,L,I,p)}var We=[];function we(){return We.pop()||new oe}function ke(w){w.needsFree&&At.freeType(w.data),oe.call(w),We.push(w)}function $e(){K.call(this),this.genMipmaps=!1,this.mipmapHint=vs,this.mipmask=0,this.images=Array(16)}function Ye(w,j,O){var Fe=w.images[0]=we();w.mipmask=1,Fe.width=w.width=j,Fe.height=w.height=O,Fe.channels=w.channels=4}function Je(w,j){var O=null;if(Qu(j))O=w.images[0]=we(),q(O,w),xe(O,j),w.mipmask=1;else if(Pe(w,j),Array.isArray(j.mipmap))for(var Fe=j.mipmap,Ze=0;Ze<Fe.length;++Ze)O=w.images[Ze]=we(),q(O,w),O.width>>=Ze,O.height>>=Ze,xe(O,Fe[Ze]),w.mipmask|=1<<Ze;else O=w.images[0]=we(),q(O,w),xe(O,j),w.mipmask=1;q(w,w.images[0]),w.compressed&&(w.internalformat===Gu||w.internalformat===ju||w.internalformat===Vu||w.internalformat===$u)&&g(w.width%4===0&&w.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function vt(w,j){for(var O=w.images,Fe=0;Fe<O.length;++Fe){if(!O[Fe])return;_e(O[Fe],j,Fe)}}var yt=[];function tt(){var w=yt.pop()||new $e;K.call(w),w.mipmask=0;for(var j=0;j<16;++j)w.images[j]=null;return w}function Pt(w){for(var j=w.images,O=0;O<j.length;++O)j[O]&&ke(j[O]),j[O]=null;yt.push(w)}function ht(){this.minFilter=Xu,this.magFilter=Xu,this.wrapS=Wu,this.wrapT=Wu,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=vs}function Nt(w,j){if("min"in j){var O=j.min;g.parameter(O,fe),w.minFilter=fe[O],b_.indexOf(w.minFilter)>=0&&!("faces"in j)&&(w.genMipmaps=!0)}if("mag"in j){var Fe=j.mag;g.parameter(Fe,ue),w.magFilter=ue[Fe]}var Ze=w.wrapS,y=w.wrapT;if("wrap"in j){var p=j.wrap;typeof p=="string"?(g.parameter(p,ne),Ze=y=ne[p]):Array.isArray(p)&&(g.parameter(p[0],ne),g.parameter(p[1],ne),Ze=ne[p[0]],y=ne[p[1]])}else{if("wrapS"in j){var A=j.wrapS;g.parameter(A,ne),Ze=ne[A]}if("wrapT"in j){var L=j.wrapT;g.parameter(L,ne),y=ne[L]}}if(w.wrapS=Ze,w.wrapT=y,"anisotropic"in j){var I=j.anisotropic;g(typeof I=="number"&&I>=1&&I<=T.maxAnisotropic,"aniso samples must be between 1 and "),w.anisotropic=j.anisotropic}if("mipmap"in j){var N=!1;switch(typeof j.mipmap){case"string":g.parameter(j.mipmap,re,"invalid mipmap hint"),w.mipmapHint=re[j.mipmap],w.genMipmaps=!0,N=!0;break;case"boolean":N=w.genMipmaps=j.mipmap;break;case"object":g(Array.isArray(j.mipmap),"invalid mipmap type"),w.genMipmaps=!1,N=!0;break;default:g.raise("invalid mipmap type")}N&&!("min"in j)&&(w.minFilter=Yu)}}function Lt(w,j){c.texParameteri(j,m_,w.minFilter),c.texParameteri(j,p_,w.magFilter),c.texParameteri(j,c_,w.wrapS),c.texParameteri(j,f_,w.wrapT),v.ext_texture_filter_anisotropic&&c.texParameteri(j,__,w.anisotropic),w.genMipmaps&&(c.hint(g_,w.mipmapHint),c.generateMipmap(j))}var zt=0,Ot={},Ut=T.maxTextureUnits,wt=Array(Ut).map(function(){return null});function Qe(w){K.call(this),this.mipmask=0,this.internalformat=si,this.id=zt++,this.refCount=1,this.target=w,this.texture=c.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new ht,U.profile&&(this.stats={size:0})}function Ht(w){c.activeTexture(Vo),c.bindTexture(w.target,w.texture)}function st(){var w=wt[0];w?c.bindTexture(w.target,w.texture):c.bindTexture(tr,null)}function Ve(w){var j=w.texture;g(j,"must not double destroy texture");var O=w.unit,Fe=w.target;O>=0&&(c.activeTexture(Vo+O),c.bindTexture(Fe,null),wt[O]=null),c.deleteTexture(j),w.texture=null,w.params=null,w.pixels=null,w.refCount=0,delete Ot[w.id],B.textureCount--}r(Qe.prototype,{bind:function(){var w=this;w.bindCount+=1;var j=w.unit;if(j<0){for(var O=0;O<Ut;++O){var Fe=wt[O];if(Fe){if(Fe.bindCount>0)continue;Fe.unit=-1}wt[O]=w,j=O;break}j>=Ut&&g.raise("insufficient number of texture units"),U.profile&&B.maxTextureUnits<j+1&&(B.maxTextureUnits=j+1),w.unit=j,c.activeTexture(Vo+j),c.bindTexture(w.target,w.texture)}return j},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Ve(this)}});function et(w,j){var O=new Qe(tr);Ot[O.id]=O,B.textureCount++;function Fe(p,A){var L=O.texInfo;ht.call(L);var I=tt();return typeof p=="number"?typeof A=="number"?Ye(I,p|0,A|0):Ye(I,p|0,p|0):p?(g.type(p,"object","invalid arguments to regl.texture"),Nt(L,p),Je(I,p)):Ye(I,1,1),L.genMipmaps&&(I.mipmask=(I.width<<1)-1),O.mipmask=I.mipmask,q(O,I),g.texture2D(L,I,T),O.internalformat=I.internalformat,Fe.width=I.width,Fe.height=I.height,Ht(O),vt(I,tr),Lt(L,tr),st(),Pt(I),U.profile&&(O.stats.size=ys(O.internalformat,O.type,I.width,I.height,L.genMipmaps,!1)),Fe.format=ae[O.internalformat],Fe.type=Ce[O.type],Fe.mag=te[L.magFilter],Fe.min=Te[L.minFilter],Fe.wrapS=Se[L.wrapS],Fe.wrapT=Se[L.wrapT],Fe}function Ze(p,A,L,I){g(!!p,"must specify image data");var N=A|0,C=L|0,P=I|0,x=we();return q(x,O),x.width=0,x.height=0,xe(x,p),x.width=x.width||(O.width>>P)-N,x.height=x.height||(O.height>>P)-C,g(O.type===x.type&&O.format===x.format&&O.internalformat===x.internalformat,"incompatible format for texture.subimage"),g(N>=0&&C>=0&&N+x.width<=O.width&&C+x.height<=O.height,"texture.subimage write out of bounds"),g(O.mipmask&1<<P,"missing mipmap data"),g(x.data||x.element||x.needsCopy,"missing image data"),Ht(O),Xe(x,tr,N,C,P),st(),ke(x),Fe}function y(p,A){var L=p|0,I=A|0||L;if(L===O.width&&I===O.height)return Fe;Fe.width=O.width=L,Fe.height=O.height=I,Ht(O);for(var N=0;O.mipmask>>N;++N){var C=L>>N,P=I>>N;if(!C||!P)break;c.texImage2D(tr,N,O.format,C,P,0,O.format,O.type,null)}return st(),U.profile&&(O.stats.size=ys(O.internalformat,O.type,L,I,!1,!1)),Fe}return Fe(w,j),Fe.subimage=Ze,Fe.resize=y,Fe._reglType="texture2d",Fe._texture=O,U.profile&&(Fe.stats=O.stats),Fe.destroy=function(){O.decRef()},Fe}function rt(w,j,O,Fe,Ze,y){var p=new Qe(Iu);Ot[p.id]=p,B.cubeCount++;var A=new Array(6);function L(C,P,x,E,S,D){var M,Y=p.texInfo;for(ht.call(Y),M=0;M<6;++M)A[M]=tt();if(typeof C=="number"||!C){var Z=C|0||1;for(M=0;M<6;++M)Ye(A[M],Z,Z)}else if(typeof C=="object")if(P)Je(A[0],C),Je(A[1],P),Je(A[2],x),Je(A[3],E),Je(A[4],S),Je(A[5],D);else if(Nt(Y,C),Pe(p,C),"faces"in C){var ve=C.faces;for(g(Array.isArray(ve)&&ve.length===6,"cube faces must be a length 6 array"),M=0;M<6;++M)g(typeof ve[M]=="object"&&!!ve[M],"invalid input for cube map face"),q(A[M],p),Je(A[M],ve[M])}else for(M=0;M<6;++M)Je(A[M],C);else g.raise("invalid arguments to cube map");for(q(p,A[0]),g.optional(function(){T.npotTextureCube||g(Qh(p.width)&&Qh(p.height),"your browser does not support non power or two texture dimensions")}),Y.genMipmaps?p.mipmask=(A[0].width<<1)-1:p.mipmask=A[0].mipmask,g.textureCube(p,Y,A,T),p.internalformat=A[0].internalformat,L.width=A[0].width,L.height=A[0].height,Ht(p),M=0;M<6;++M)vt(A[M],ds+M);for(Lt(Y,Iu),st(),U.profile&&(p.stats.size=ys(p.internalformat,p.type,L.width,L.height,Y.genMipmaps,!0)),L.format=ae[p.internalformat],L.type=Ce[p.type],L.mag=te[Y.magFilter],L.min=Te[Y.minFilter],L.wrapS=Se[Y.wrapS],L.wrapT=Se[Y.wrapT],M=0;M<6;++M)Pt(A[M]);return L}function I(C,P,x,E,S){g(!!P,"must specify image data"),g(typeof C=="number"&&C===(C|0)&&C>=0&&C<6,"invalid face");var D=x|0,M=E|0,Y=S|0,Z=we();return q(Z,p),Z.width=0,Z.height=0,xe(Z,P),Z.width=Z.width||(p.width>>Y)-D,Z.height=Z.height||(p.height>>Y)-M,g(p.type===Z.type&&p.format===Z.format&&p.internalformat===Z.internalformat,"incompatible format for texture.subimage"),g(D>=0&&M>=0&&D+Z.width<=p.width&&M+Z.height<=p.height,"texture.subimage write out of bounds"),g(p.mipmask&1<<Y,"missing mipmap data"),g(Z.data||Z.element||Z.needsCopy,"missing image data"),Ht(p),Xe(Z,ds+C,D,M,Y),st(),ke(Z),L}function N(C){var P=C|0;if(P!==p.width){L.width=p.width=P,L.height=p.height=P,Ht(p);for(var x=0;x<6;++x)for(var E=0;p.mipmask>>E;++E)c.texImage2D(ds+x,E,p.format,P>>E,P>>E,0,p.format,p.type,null);return st(),U.profile&&(p.stats.size=ys(p.internalformat,p.type,L.width,L.height,!1,!0)),L}}return L(w,j,O,Fe,Ze,y),L.subimage=I,L.resize=N,L._reglType="textureCube",L._texture=p,U.profile&&(L.stats=p.stats),L.destroy=function(){p.decRef()},L}function Et(){for(var w=0;w<Ut;++w)c.activeTexture(Vo+w),c.bindTexture(tr,null),wt[w]=null;wn(Ot).forEach(Ve),B.cubeCount=0,B.textureCount=0}U.profile&&(B.getTotalTextureSize=function(){var w=0;return Object.keys(Ot).forEach(function(j){w+=Ot[j].stats.size}),w});function rr(){for(var w=0;w<Ut;++w){var j=wt[w];j&&(j.bindCount=0,j.unit=-1,wt[w]=null)}wn(Ot).forEach(function(O){O.texture=c.createTexture(),c.bindTexture(O.target,O.texture);for(var Fe=0;Fe<32;++Fe)if(O.mipmask&1<<Fe)if(O.target===tr)c.texImage2D(tr,Fe,O.internalformat,O.width>>Fe,O.height>>Fe,0,O.internalformat,O.type,null);else for(var Ze=0;Ze<6;++Ze)c.texImage2D(ds+Ze,Fe,O.internalformat,O.width>>Fe,O.height>>Fe,0,O.internalformat,O.type,null);Lt(O.texInfo,O.target)})}function mi(){for(var w=0;w<Ut;++w){var j=wt[w];j&&(j.bindCount=0,j.unit=-1,wt[w]=null),c.activeTexture(Vo+w),c.bindTexture(tr,null),c.bindTexture(Iu,null)}}return{create2D:et,createCube:rt,clear:Et,getTexture:function(w){return null},restore:rr,refresh:mi}}var Fr=36161,xs=32854,Ep=32855,Tp=36194,bp=33189,kp=36168,Ap=34041,Cp=35907,Np=34836,Fp=34842,Pp=34843,Vn=[];Vn[xs]=2,Vn[Ep]=2,Vn[Tp]=2,Vn[bp]=2,Vn[kp]=1,Vn[Ap]=4,Vn[Cp]=4,Vn[Np]=16,Vn[Fp]=8,Vn[Pp]=6;function Lp(c,v,T){return Vn[c]*v*T}var I_=function(c,v,T,G,Q){var B={rgba4:xs,rgb565:Tp,"rgb5 a1":Ep,depth:bp,stencil:kp,"depth stencil":Ap};v.ext_srgb&&(B.srgba=Cp),v.ext_color_buffer_half_float&&(B.rgba16f=Fp,B.rgb16f=Pp),v.webgl_color_buffer_float&&(B.rgba32f=Np);var U=[];Object.keys(B).forEach(function(ie){var le=B[ie];U[le]=ie});var re=0,ne={};function ue(ie){this.id=re++,this.refCount=1,this.renderbuffer=ie,this.format=xs,this.width=0,this.height=0,Q.profile&&(this.stats={size:0})}ue.prototype.decRef=function(){--this.refCount<=0&&fe(this)};function fe(ie){var le=ie.renderbuffer;g(le,"must not double destroy renderbuffer"),c.bindRenderbuffer(Fr,null),c.deleteRenderbuffer(le),ie.renderbuffer=null,ie.refCount=0,delete ne[ie.id],G.renderbufferCount--}function ce(ie,le){var z=new ue(c.createRenderbuffer());ne[z.id]=z,G.renderbufferCount++;function $(Ce,te){var Te=0,Se=0,Oe=xs;if(typeof Ce=="object"&&Ce){var K=Ce;if("shape"in K){var q=K.shape;g(Array.isArray(q)&&q.length>=2,"invalid renderbuffer shape"),Te=q[0]|0,Se=q[1]|0}else"radius"in K&&(Te=Se=K.radius|0),"width"in K&&(Te=K.width|0),"height"in K&&(Se=K.height|0);"format"in K&&(g.parameter(K.format,B,"invalid renderbuffer format"),Oe=B[K.format])}else typeof Ce=="number"?(Te=Ce|0,typeof te=="number"?Se=te|0:Se=Te):Ce?g.raise("invalid arguments to renderbuffer constructor"):Te=Se=1;if(g(Te>0&&Se>0&&Te<=T.maxRenderbufferSize&&Se<=T.maxRenderbufferSize,"invalid renderbuffer size"),!(Te===z.width&&Se===z.height&&Oe===z.format))return $.width=z.width=Te,$.height=z.height=Se,z.format=Oe,c.bindRenderbuffer(Fr,z.renderbuffer),c.renderbufferStorage(Fr,Oe,Te,Se),g(c.getError()===0,"invalid render buffer format"),Q.profile&&(z.stats.size=Lp(z.format,z.width,z.height)),$.format=U[z.format],$}function ae(Ce,te){var Te=Ce|0,Se=te|0||Te;return Te===z.width&&Se===z.height||(g(Te>0&&Se>0&&Te<=T.maxRenderbufferSize&&Se<=T.maxRenderbufferSize,"invalid renderbuffer size"),$.width=z.width=Te,$.height=z.height=Se,c.bindRenderbuffer(Fr,z.renderbuffer),c.renderbufferStorage(Fr,z.format,Te,Se),g(c.getError()===0,"invalid render buffer format"),Q.profile&&(z.stats.size=Lp(z.format,z.width,z.height))),$}return $(ie,le),$.resize=ae,$._reglType="renderbuffer",$._renderbuffer=z,Q.profile&&($.stats=z.stats),$.destroy=function(){z.decRef()},$}Q.profile&&(G.getTotalRenderbufferSize=function(){var ie=0;return Object.keys(ne).forEach(function(le){ie+=ne[le].stats.size}),ie});function ge(){wn(ne).forEach(function(ie){ie.renderbuffer=c.createRenderbuffer(),c.bindRenderbuffer(Fr,ie.renderbuffer),c.renderbufferStorage(Fr,ie.format,ie.width,ie.height)}),c.bindRenderbuffer(Fr,null)}return{create:ce,clear:function(){wn(ne).forEach(fe)},restore:ge}},dr=36160,Ku=36161,ui=3553,_s=34069,zp=36064,Ip=36096,Mp=36128,Rp=33306,Dp=36053,M_=36054,R_=36055,D_=36057,O_=36061,B_=36193,G_=5121,j_=5126,Op=6407,Bp=6408,V_=6402,$_=[Op,Bp],Zu=[];Zu[Bp]=4,Zu[Op]=3;var Ss=[];Ss[G_]=1,Ss[j_]=4,Ss[B_]=2;var U_=32854,H_=32855,W_=36194,X_=33189,Y_=36168,Gp=34041,q_=35907,Q_=34836,K_=34842,Z_=34843,J_=[U_,H_,W_,q_,K_,Z_,Q_],Hi={};Hi[Dp]="complete",Hi[M_]="incomplete attachment",Hi[D_]="incomplete dimensions",Hi[R_]="incomplete, missing attachment",Hi[O_]="unsupported";function eS(c,v,T,G,Q,B){var U={cur:null,next:null,dirty:!1,setFBO:null},re=["rgba"],ne=["rgba4","rgb565","rgb5 a1"];v.ext_srgb&&ne.push("srgba"),v.ext_color_buffer_half_float&&ne.push("rgba16f","rgb16f"),v.webgl_color_buffer_float&&ne.push("rgba32f");var ue=["uint8"];v.oes_texture_half_float&&ue.push("half float","float16"),v.oes_texture_float&&ue.push("float","float32");function fe(oe,xe,_e){this.target=oe,this.texture=xe,this.renderbuffer=_e;var Xe=0,We=0;xe?(Xe=xe.width,We=xe.height):_e&&(Xe=_e.width,We=_e.height),this.width=Xe,this.height=We}function ce(oe){oe&&(oe.texture&&oe.texture._texture.decRef(),oe.renderbuffer&&oe.renderbuffer._renderbuffer.decRef())}function ge(oe,xe,_e){if(oe)if(oe.texture){var Xe=oe.texture._texture,We=Math.max(1,Xe.width),we=Math.max(1,Xe.height);g(We===xe&&we===_e,"inconsistent width/height for supplied texture"),Xe.refCount+=1}else{var ke=oe.renderbuffer._renderbuffer;g(ke.width===xe&&ke.height===_e,"inconsistent width/height for renderbuffer"),ke.refCount+=1}}function ie(oe,xe){xe&&(xe.texture?c.framebufferTexture2D(dr,oe,xe.target,xe.texture._texture.texture,0):c.framebufferRenderbuffer(dr,oe,Ku,xe.renderbuffer._renderbuffer.renderbuffer))}function le(oe){var xe=ui,_e=null,Xe=null,We=oe;typeof oe=="object"&&(We=oe.data,"target"in oe&&(xe=oe.target|0)),g.type(We,"function","invalid attachment data");var we=We._reglType;return we==="texture2d"?(_e=We,g(xe===ui)):we==="textureCube"?(_e=We,g(xe>=_s&&xe<_s+6,"invalid cube map target")):we==="renderbuffer"?(Xe=We,xe=Ku):g.raise("invalid regl object for attachment"),new fe(xe,_e,Xe)}function z(oe,xe,_e,Xe,We){if(_e){var we=G.create2D({width:oe,height:xe,format:Xe,type:We});return we._texture.refCount=0,new fe(ui,we,null)}else{var ke=Q.create({width:oe,height:xe,format:Xe});return ke._renderbuffer.refCount=0,new fe(Ku,null,ke)}}function $(oe){return oe&&(oe.texture||oe.renderbuffer)}function ae(oe,xe,_e){oe&&(oe.texture?oe.texture.resize(xe,_e):oe.renderbuffer&&oe.renderbuffer.resize(xe,_e),oe.width=xe,oe.height=_e)}var Ce=0,te={};function Te(){this.id=Ce++,te[this.id]=this,this.framebuffer=c.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Se(oe){oe.colorAttachments.forEach(ce),ce(oe.depthAttachment),ce(oe.stencilAttachment),ce(oe.depthStencilAttachment)}function Oe(oe){var xe=oe.framebuffer;g(xe,"must not double destroy framebuffer"),c.deleteFramebuffer(xe),oe.framebuffer=null,B.framebufferCount--,delete te[oe.id]}function K(oe){var xe;c.bindFramebuffer(dr,oe.framebuffer);var _e=oe.colorAttachments;for(xe=0;xe<_e.length;++xe)ie(zp+xe,_e[xe]);for(xe=_e.length;xe<T.maxColorAttachments;++xe)c.framebufferTexture2D(dr,zp+xe,ui,null,0);c.framebufferTexture2D(dr,Rp,ui,null,0),c.framebufferTexture2D(dr,Ip,ui,null,0),c.framebufferTexture2D(dr,Mp,ui,null,0),ie(Ip,oe.depthAttachment),ie(Mp,oe.stencilAttachment),ie(Rp,oe.depthStencilAttachment);var Xe=c.checkFramebufferStatus(dr);!c.isContextLost()&&Xe!==Dp&&g.raise("framebuffer configuration not supported, status = "+Hi[Xe]),c.bindFramebuffer(dr,U.next?U.next.framebuffer:null),U.cur=U.next,c.getError()}function q(oe,xe){var _e=new Te;B.framebufferCount++;function Xe(we,ke){var $e;g(U.next!==_e,"can not update framebuffer which is currently in use");var Ye=0,Je=0,vt=!0,yt=!0,tt=null,Pt=!0,ht="rgba",Nt="uint8",Lt=1,zt=null,Ot=null,Ut=null,wt=!1;if(typeof we=="number")Ye=we|0,Je=ke|0||Ye;else if(!we)Ye=Je=1;else{g.type(we,"object","invalid arguments for framebuffer");var Qe=we;if("shape"in Qe){var Ht=Qe.shape;g(Array.isArray(Ht)&&Ht.length>=2,"invalid shape for framebuffer"),Ye=Ht[0],Je=Ht[1]}else"radius"in Qe&&(Ye=Je=Qe.radius),"width"in Qe&&(Ye=Qe.width),"height"in Qe&&(Je=Qe.height);("color"in Qe||"colors"in Qe)&&(tt=Qe.color||Qe.colors,Array.isArray(tt)&&g(tt.length===1||v.webgl_draw_buffers,"multiple render targets not supported")),tt||("colorCount"in Qe&&(Lt=Qe.colorCount|0,g(Lt>0,"invalid color buffer count")),"colorTexture"in Qe&&(Pt=!!Qe.colorTexture,ht="rgba4"),"colorType"in Qe&&(Nt=Qe.colorType,Pt?(g(v.oes_texture_float||!(Nt==="float"||Nt==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),g(v.oes_texture_half_float||!(Nt==="half float"||Nt==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):Nt==="half float"||Nt==="float16"?(g(v.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),ht="rgba16f"):(Nt==="float"||Nt==="float32")&&(g(v.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),ht="rgba32f"),g.oneOf(Nt,ue,"invalid color type")),"colorFormat"in Qe&&(ht=Qe.colorFormat,re.indexOf(ht)>=0?Pt=!0:ne.indexOf(ht)>=0?Pt=!1:g.optional(function(){Pt?g.oneOf(Qe.colorFormat,re,"invalid color format for texture"):g.oneOf(Qe.colorFormat,ne,"invalid color format for renderbuffer")}))),("depthTexture"in Qe||"depthStencilTexture"in Qe)&&(wt=!!(Qe.depthTexture||Qe.depthStencilTexture),g(!wt||v.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in Qe&&(typeof Qe.depth=="boolean"?vt=Qe.depth:(zt=Qe.depth,yt=!1)),"stencil"in Qe&&(typeof Qe.stencil=="boolean"?yt=Qe.stencil:(Ot=Qe.stencil,vt=!1)),"depthStencil"in Qe&&(typeof Qe.depthStencil=="boolean"?vt=yt=Qe.depthStencil:(Ut=Qe.depthStencil,vt=!1,yt=!1))}var st=null,Ve=null,et=null,rt=null;if(Array.isArray(tt))st=tt.map(le);else if(tt)st=[le(tt)];else for(st=new Array(Lt),$e=0;$e<Lt;++$e)st[$e]=z(Ye,Je,Pt,ht,Nt);g(v.webgl_draw_buffers||st.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),g(st.length<=T.maxColorAttachments,"too many color attachments, not supported"),Ye=Ye||st[0].width,Je=Je||st[0].height,zt?Ve=le(zt):vt&&!yt&&(Ve=z(Ye,Je,wt,"depth","uint32")),Ot?et=le(Ot):yt&&!vt&&(et=z(Ye,Je,!1,"stencil","uint8")),Ut?rt=le(Ut):!zt&&!Ot&&yt&&vt&&(rt=z(Ye,Je,wt,"depth stencil","depth stencil")),g(!!zt+!!Ot+!!Ut<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var Et=null;for($e=0;$e<st.length;++$e)if(ge(st[$e],Ye,Je),g(!st[$e]||st[$e].texture&&$_.indexOf(st[$e].texture._texture.format)>=0||st[$e].renderbuffer&&J_.indexOf(st[$e].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+$e+" is invalid"),st[$e]&&st[$e].texture){var rr=Zu[st[$e].texture._texture.format]*Ss[st[$e].texture._texture.type];Et===null?Et=rr:g(Et===rr,"all color attachments much have the same number of bits per pixel.")}return ge(Ve,Ye,Je),g(!Ve||Ve.texture&&Ve.texture._texture.format===V_||Ve.renderbuffer&&Ve.renderbuffer._renderbuffer.format===X_,"invalid depth attachment for framebuffer object"),ge(et,Ye,Je),g(!et||et.renderbuffer&&et.renderbuffer._renderbuffer.format===Y_,"invalid stencil attachment for framebuffer object"),ge(rt,Ye,Je),g(!rt||rt.texture&&rt.texture._texture.format===Gp||rt.renderbuffer&&rt.renderbuffer._renderbuffer.format===Gp,"invalid depth-stencil attachment for framebuffer object"),Se(_e),_e.width=Ye,_e.height=Je,_e.colorAttachments=st,_e.depthAttachment=Ve,_e.stencilAttachment=et,_e.depthStencilAttachment=rt,Xe.color=st.map($),Xe.depth=$(Ve),Xe.stencil=$(et),Xe.depthStencil=$(rt),Xe.width=_e.width,Xe.height=_e.height,K(_e),Xe}function We(we,ke){g(U.next!==_e,"can not resize a framebuffer which is currently in use");var $e=Math.max(we|0,1),Ye=Math.max(ke|0||$e,1);if($e===_e.width&&Ye===_e.height)return Xe;for(var Je=_e.colorAttachments,vt=0;vt<Je.length;++vt)ae(Je[vt],$e,Ye);return ae(_e.depthAttachment,$e,Ye),ae(_e.stencilAttachment,$e,Ye),ae(_e.depthStencilAttachment,$e,Ye),_e.width=Xe.width=$e,_e.height=Xe.height=Ye,K(_e),Xe}return Xe(oe,xe),r(Xe,{resize:We,_reglType:"framebuffer",_framebuffer:_e,destroy:function(){Oe(_e),Se(_e)},use:function(we){U.setFBO({framebuffer:Xe},we)}})}function Pe(oe){var xe=Array(6);function _e(We){var we;g(xe.indexOf(U.next)<0,"can not update framebuffer which is currently in use");var ke={color:null},$e=0,Ye=null,Je="rgba",vt="uint8",yt=1;if(typeof We=="number")$e=We|0;else if(!We)$e=1;else{g.type(We,"object","invalid arguments for framebuffer");var tt=We;if("shape"in tt){var Pt=tt.shape;g(Array.isArray(Pt)&&Pt.length>=2,"invalid shape for framebuffer"),g(Pt[0]===Pt[1],"cube framebuffer must be square"),$e=Pt[0]}else"radius"in tt&&($e=tt.radius|0),"width"in tt?($e=tt.width|0,"height"in tt&&g(tt.height===$e,"must be square")):"height"in tt&&($e=tt.height|0);("color"in tt||"colors"in tt)&&(Ye=tt.color||tt.colors,Array.isArray(Ye)&&g(Ye.length===1||v.webgl_draw_buffers,"multiple render targets not supported")),Ye||("colorCount"in tt&&(yt=tt.colorCount|0,g(yt>0,"invalid color buffer count")),"colorType"in tt&&(g.oneOf(tt.colorType,ue,"invalid color type"),vt=tt.colorType),"colorFormat"in tt&&(Je=tt.colorFormat,g.oneOf(tt.colorFormat,re,"invalid color format for texture"))),"depth"in tt&&(ke.depth=tt.depth),"stencil"in tt&&(ke.stencil=tt.stencil),"depthStencil"in tt&&(ke.depthStencil=tt.depthStencil)}var ht;if(Ye)if(Array.isArray(Ye))for(ht=[],we=0;we<Ye.length;++we)ht[we]=Ye[we];else ht=[Ye];else{ht=Array(yt);var Nt={radius:$e,format:Je,type:vt};for(we=0;we<yt;++we)ht[we]=G.createCube(Nt)}for(ke.color=Array(ht.length),we=0;we<ht.length;++we){var Lt=ht[we];g(typeof Lt=="function"&&Lt._reglType==="textureCube","invalid cube map"),$e=$e||Lt.width,g(Lt.width===$e&&Lt.height===$e,"invalid cube map shape"),ke.color[we]={target:_s,data:ht[we]}}for(we=0;we<6;++we){for(var zt=0;zt<ht.length;++zt)ke.color[zt].target=_s+we;we>0&&(ke.depth=xe[0].depth,ke.stencil=xe[0].stencil,ke.depthStencil=xe[0].depthStencil),xe[we]?xe[we](ke):xe[we]=q(ke)}return r(_e,{width:$e,height:$e,color:ht})}function Xe(We){var we,ke=We|0;if(g(ke>0&&ke<=T.maxCubeMapSize,"invalid radius for cube fbo"),ke===_e.width)return _e;var $e=_e.color;for(we=0;we<$e.length;++we)$e[we].resize(ke);for(we=0;we<6;++we)xe[we].resize(ke);return _e.width=_e.height=ke,_e}return _e(oe),r(_e,{faces:xe,resize:Xe,_reglType:"framebufferCube",destroy:function(){xe.forEach(function(We){We.destroy()})}})}function ye(){U.cur=null,U.next=null,U.dirty=!0,wn(te).forEach(function(oe){oe.framebuffer=c.createFramebuffer(),K(oe)})}return r(U,{getFramebuffer:function(oe){if(typeof oe=="function"&&oe._reglType==="framebuffer"){var xe=oe._framebuffer;if(xe instanceof Te)return xe}return null},create:q,createCube:Pe,clear:function(){wn(te).forEach(Oe)},restore:ye})}var tS=5126,jp=34962,ws=34963,Vp=["attributes","elements","offset","count","primitive","instances"];function Ju(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=tS,this.offset=0,this.stride=0,this.divisor=0}function nS(c,v,T,G,Q,B,U){for(var re=T.maxAttributes,ne=new Array(re),ue=0;ue<re;++ue)ne[ue]=new Ju;var fe=0,ce={},ge={Record:Ju,scope:{},state:ne,currentVAO:null,targetVAO:null,restore:le()?Se:function(){},createVAO:Oe,getVAO:$,destroyBuffer:ie,setVAO:le()?ae:Ce,clear:le()?te:function(){}};function ie(K){for(var q=0;q<ne.length;++q){var Pe=ne[q];Pe.buffer===K&&(c.disableVertexAttribArray(q),Pe.buffer=null)}}function le(){return v.oes_vertex_array_object}function z(){return v.angle_instanced_arrays}function $(K){return typeof K=="function"&&K._vao?K._vao:null}function ae(K){if(K!==ge.currentVAO){var q=le();K?q.bindVertexArrayOES(K.vao):q.bindVertexArrayOES(null),ge.currentVAO=K}}function Ce(K){if(K!==ge.currentVAO){if(K)K.bindAttrs();else{for(var q=z(),Pe=0;Pe<ne.length;++Pe){var ye=ne[Pe];ye.buffer?(c.enableVertexAttribArray(Pe),ye.buffer.bind(),c.vertexAttribPointer(Pe,ye.size,ye.type,ye.normalized,ye.stride,ye.offfset),q&&ye.divisor&&q.vertexAttribDivisorANGLE(Pe,ye.divisor)):(c.disableVertexAttribArray(Pe),c.vertexAttrib4f(Pe,ye.x,ye.y,ye.z,ye.w))}U.elements?c.bindBuffer(ws,U.elements.buffer.buffer):c.bindBuffer(ws,null)}ge.currentVAO=K}}function te(){wn(ce).forEach(function(K){K.destroy()})}function Te(){this.id=++fe,this.attributes=[],this.elements=null,this.ownsElements=!1,this.count=0,this.offset=0,this.instances=-1,this.primitive=4;var K=le();K?this.vao=K.createVertexArrayOES():this.vao=null,ce[this.id]=this,this.buffers=[]}Te.prototype.bindAttrs=function(){for(var K=z(),q=this.attributes,Pe=0;Pe<q.length;++Pe){var ye=q[Pe];ye.buffer?(c.enableVertexAttribArray(Pe),c.bindBuffer(jp,ye.buffer.buffer),c.vertexAttribPointer(Pe,ye.size,ye.type,ye.normalized,ye.stride,ye.offset),K&&ye.divisor&&K.vertexAttribDivisorANGLE(Pe,ye.divisor)):(c.disableVertexAttribArray(Pe),c.vertexAttrib4f(Pe,ye.x,ye.y,ye.z,ye.w))}for(var oe=q.length;oe<re;++oe)c.disableVertexAttribArray(oe);var xe=B.getElements(this.elements);xe?c.bindBuffer(ws,xe.buffer.buffer):c.bindBuffer(ws,null)},Te.prototype.refresh=function(){var K=le();K&&(K.bindVertexArrayOES(this.vao),this.bindAttrs(),ge.currentVAO=null,K.bindVertexArrayOES(null))},Te.prototype.destroy=function(){if(this.vao){var K=le();this===ge.currentVAO&&(ge.currentVAO=null,K.bindVertexArrayOES(null)),K.deleteVertexArrayOES(this.vao),this.vao=null}this.ownsElements&&(this.elements.destroy(),this.elements=null,this.ownsElements=!1),ce[this.id]&&(delete ce[this.id],G.vaoCount-=1)};function Se(){var K=le();K&&wn(ce).forEach(function(q){q.refresh()})}function Oe(K){var q=new Te;G.vaoCount+=1;function Pe(ye){var oe;if(Array.isArray(ye))oe=ye,q.elements&&q.ownsElements&&q.elements.destroy(),q.elements=null,q.ownsElements=!1,q.offset=0,q.count=0,q.instances=-1,q.primitive=4;else{if(g(typeof ye=="object","invalid arguments for create vao"),g("attributes"in ye,"must specify attributes for vao"),ye.elements){var xe=ye.elements;q.ownsElements?typeof xe=="function"&&xe._reglType==="elements"?(q.elements.destroy(),q.ownsElements=!1):(q.elements(xe),q.ownsElements=!1):B.getElements(ye.elements)?(q.elements=ye.elements,q.ownsElements=!1):(q.elements=B.create(ye.elements),q.ownsElements=!0)}else q.elements=null,q.ownsElements=!1;oe=ye.attributes,q.offset=0,q.count=-1,q.instances=-1,q.primitive=4,q.elements&&(q.count=q.elements._elements.vertCount,q.primitive=q.elements._elements.primType),"offset"in ye&&(q.offset=ye.offset|0),"count"in ye&&(q.count=ye.count|0),"instances"in ye&&(q.instances=ye.instances|0),"primitive"in ye&&(g(ye.primitive in Nr,"bad primitive type: "+ye.primitive),q.primitive=Nr[ye.primitive]),g.optional(()=>{for(var vt=Object.keys(ye),yt=0;yt<vt.length;++yt)g(Vp.indexOf(vt[yt])>=0,'invalid option for vao: "'+vt[yt]+'" valid options are '+Vp)}),g(Array.isArray(oe),"attributes must be an array")}g(oe.length<re,"too many attributes"),g(oe.length>0,"must specify at least one attribute");var _e={},Xe=q.attributes;Xe.length=oe.length;for(var We=0;We<oe.length;++We){var we=oe[We],ke=Xe[We]=new Ju,$e=we.data||we;if(Array.isArray($e)||n($e)||jn($e)){var Ye;q.buffers[We]&&(Ye=q.buffers[We],n($e)&&Ye._buffer.byteLength>=$e.byteLength?Ye.subdata($e):(Ye.destroy(),q.buffers[We]=null)),q.buffers[We]||(Ye=q.buffers[We]=Q.create(we,jp,!1,!0)),ke.buffer=Q.getBuffer(Ye),ke.size=ke.buffer.dimension|0,ke.normalized=!1,ke.type=ke.buffer.dtype,ke.offset=0,ke.stride=0,ke.divisor=0,ke.state=1,_e[We]=1}else Q.getBuffer(we)?(ke.buffer=Q.getBuffer(we),ke.size=ke.buffer.dimension|0,ke.normalized=!1,ke.type=ke.buffer.dtype,ke.offset=0,ke.stride=0,ke.divisor=0,ke.state=1):Q.getBuffer(we.buffer)?(ke.buffer=Q.getBuffer(we.buffer),ke.size=(+we.size||ke.buffer.dimension)|0,ke.normalized=!!we.normalized||!1,"type"in we?(g.parameter(we.type,oi,"invalid buffer type"),ke.type=oi[we.type]):ke.type=ke.buffer.dtype,ke.offset=(we.offset||0)|0,ke.stride=(we.stride||0)|0,ke.divisor=(we.divisor||0)|0,ke.state=1,g(ke.size>=1&&ke.size<=4,"size must be between 1 and 4"),g(ke.offset>=0,"invalid offset"),g(ke.stride>=0&&ke.stride<=255,"stride must be between 0 and 255"),g(ke.divisor>=0,"divisor must be positive"),g(!ke.divisor||!!v.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in we?(g(We>0,"first attribute must not be a constant"),ke.x=+we.x||0,ke.y=+we.y||0,ke.z=+we.z||0,ke.w=+we.w||0,ke.state=2):g(!1,"invalid attribute spec for location "+We)}for(var Je=0;Je<q.buffers.length;++Je)!_e[Je]&&q.buffers[Je]&&(q.buffers[Je].destroy(),q.buffers[Je]=null);return q.refresh(),Pe}return Pe.destroy=function(){for(var ye=0;ye<q.buffers.length;++ye)q.buffers[ye]&&q.buffers[ye].destroy();q.buffers.length=0,q.ownsElements&&(q.elements.destroy(),q.elements=null,q.ownsElements=!1),q.destroy()},Pe._vao=q,Pe._reglType="vao",Pe(K)}return ge}var $p=35632,rS=35633,iS=35718,oS=35721;function aS(c,v,T,G){var Q={},B={};function U(z,$,ae,Ce){this.name=z,this.id=$,this.location=ae,this.info=Ce}function re(z,$){for(var ae=0;ae<z.length;++ae)if(z[ae].id===$.id){z[ae].location=$.location;return}z.push($)}function ne(z,$,ae){var Ce=z===$p?Q:B,te=Ce[$];if(!te){var Te=v.str($);te=c.createShader(z),c.shaderSource(te,Te),c.compileShader(te),g.shaderError(c,te,Te,z,ae),Ce[$]=te}return te}var ue={},fe=[],ce=0;function ge(z,$){this.id=ce++,this.fragId=z,this.vertId=$,this.program=null,this.uniforms=[],this.attributes=[],this.refCount=1,G.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function ie(z,$,ae){var Ce,te,Te=ne($p,z.fragId),Se=ne(rS,z.vertId),Oe=z.program=c.createProgram();if(c.attachShader(Oe,Te),c.attachShader(Oe,Se),ae)for(Ce=0;Ce<ae.length;++Ce){var K=ae[Ce];c.bindAttribLocation(Oe,K[0],K[1])}c.linkProgram(Oe),g.linkError(c,Oe,v.str(z.fragId),v.str(z.vertId),$);var q=c.getProgramParameter(Oe,iS);G.profile&&(z.stats.uniformsCount=q);var Pe=z.uniforms;for(Ce=0;Ce<q;++Ce)if(te=c.getActiveUniform(Oe,Ce),te){if(te.size>1)for(var ye=0;ye<te.size;++ye){var oe=te.name.replace("[0]","["+ye+"]");re(Pe,new U(oe,v.id(oe),c.getUniformLocation(Oe,oe),te))}var xe=te.name;te.size>1&&(xe=xe.replace("[0]","")),re(Pe,new U(xe,v.id(xe),c.getUniformLocation(Oe,xe),te))}var _e=c.getProgramParameter(Oe,oS);G.profile&&(z.stats.attributesCount=_e);var Xe=z.attributes;for(Ce=0;Ce<_e;++Ce)te=c.getActiveAttrib(Oe,Ce),te&&re(Xe,new U(te.name,v.id(te.name),c.getAttribLocation(Oe,te.name),te))}G.profile&&(T.getMaxUniformsCount=function(){var z=0;return fe.forEach(function($){$.stats.uniformsCount>z&&(z=$.stats.uniformsCount)}),z},T.getMaxAttributesCount=function(){var z=0;return fe.forEach(function($){$.stats.attributesCount>z&&(z=$.stats.attributesCount)}),z});function le(){Q={},B={};for(var z=0;z<fe.length;++z)ie(fe[z],null,fe[z].attributes.map(function($){return[$.location,$.name]}))}return{clear:function(){var z=c.deleteShader.bind(c);wn(Q).forEach(z),Q={},wn(B).forEach(z),B={},fe.forEach(function($){c.deleteProgram($.program)}),fe.length=0,ue={},T.shaderCount=0},program:function(z,$,ae,Ce){g.command(z>=0,"missing vertex shader",ae),g.command($>=0,"missing fragment shader",ae);var te=ue[$];te||(te=ue[$]={});var Te=te[z];if(Te&&(Te.refCount++,!Ce))return Te;var Se=new ge($,z);return T.shaderCount++,ie(Se,ae,Ce),Te||(te[z]=Se),fe.push(Se),r(Se,{destroy:function(){if(Se.refCount--,Se.refCount<=0){c.deleteProgram(Se.program);var Oe=fe.indexOf(Se);fe.splice(Oe,1),T.shaderCount--}te[Se.vertId].refCount<=0&&(c.deleteShader(B[Se.vertId]),delete B[Se.vertId],delete ue[Se.fragId][Se.vertId]),Object.keys(ue[Se.fragId]).length||(c.deleteShader(Q[Se.fragId]),delete Q[Se.fragId],delete ue[Se.fragId])}})},restore:le,shader:ne,frag:-1,vert:-1}}var sS=6408,$o=5121,lS=3333,Es=5126;function uS(c,v,T,G,Q,B,U){function re(fe){var ce;v.next===null?(g(Q.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),ce=$o):(g(v.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),ce=v.next.colorAttachments[0].texture._texture.type,g.optional(function(){B.oes_texture_float?(g(ce===$o||ce===Es,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),ce===Es&&g(U.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):g(ce===$o,"Reading from a framebuffer is only allowed for the type 'uint8'")}));var ge=0,ie=0,le=G.framebufferWidth,z=G.framebufferHeight,$=null;n(fe)?$=fe:fe&&(g.type(fe,"object","invalid arguments to regl.read()"),ge=fe.x|0,ie=fe.y|0,g(ge>=0&&ge<G.framebufferWidth,"invalid x offset for regl.read"),g(ie>=0&&ie<G.framebufferHeight,"invalid y offset for regl.read"),le=(fe.width||G.framebufferWidth-ge)|0,z=(fe.height||G.framebufferHeight-ie)|0,$=fe.data||null),$&&(ce===$o?g($ instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):ce===Es&&g($ instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),g(le>0&&le+ge<=G.framebufferWidth,"invalid width for read pixels"),g(z>0&&z+ie<=G.framebufferHeight,"invalid height for read pixels"),T();var ae=le*z*4;return $||(ce===$o?$=new Uint8Array(ae):ce===Es&&($=$||new Float32Array(ae))),g.isTypedArray($,"data buffer for regl.read() must be a typedarray"),g($.byteLength>=ae,"data buffer for regl.read() too small"),c.pixelStorei(lS,4),c.readPixels(ge,ie,le,z,sS,ce,$),$}function ne(fe){var ce;return v.setFBO({framebuffer:fe.framebuffer},function(){ce=re(fe)}),ce}function ue(fe){return!fe||!("framebuffer"in fe)?re(fe):ne(fe)}return ue}function Wi(c){return Array.prototype.slice.call(c)}function Xi(c){return Wi(c).join("")}function cS(){var c=0,v=[],T=[];function G(ce){for(var ge=0;ge<T.length;++ge)if(T[ge]===ce)return v[ge];var ie="g"+c++;return v.push(ie),T.push(ce),ie}function Q(){var ce=[];function ge(){ce.push.apply(ce,Wi(arguments))}var ie=[];function le(){var z="v"+c++;return ie.push(z),arguments.length>0&&(ce.push(z,"="),ce.push.apply(ce,Wi(arguments)),ce.push(";")),z}return r(ge,{def:le,toString:function(){return Xi([ie.length>0?"var "+ie.join(",")+";":"",Xi(ce)])}})}function B(){var ce=Q(),ge=Q(),ie=ce.toString,le=ge.toString;function z($,ae){ge($,ae,"=",ce.def($,ae),";")}return r(function(){ce.apply(ce,Wi(arguments))},{def:ce.def,entry:ce,exit:ge,save:z,set:function($,ae,Ce){z($,ae),ce($,ae,"=",Ce,";")},toString:function(){return ie()+le()}})}function U(){var ce=Xi(arguments),ge=B(),ie=B(),le=ge.toString,z=ie.toString;return r(ge,{then:function(){return ge.apply(ge,Wi(arguments)),this},else:function(){return ie.apply(ie,Wi(arguments)),this},toString:function(){var $=z();return $&&($="else{"+$+"}"),Xi(["if(",ce,"){",le(),"}",$])}})}var re=Q(),ne={};function ue(ce,ge){var ie=[];function le(){var te="a"+ie.length;return ie.push(te),te}ge=ge||0;for(var z=0;z<ge;++z)le();var $=B(),ae=$.toString,Ce=ne[ce]=r($,{arg:le,toString:function(){return Xi(["function(",ie.join(),"){",ae(),"}"])}});return Ce}function fe(){var ce=['"use strict";',re,"return {"];Object.keys(ne).forEach(function(le){ce.push('"',le,'":',ne[le].toString(),",")}),ce.push("}");var ge=Xi(ce).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),ie=Function.apply(null,v.concat(ge));return ie.apply(null,T)}return{global:re,link:G,block:Q,proc:ue,scope:B,cond:U,compile:fe}}var Yi="xyzw".split(""),Up=5121,qi=1,ec=2,tc=0,nc=1,rc=2,ic=3,Ts=4,Hp=5,Wp=6,Xp="dither",Yp="blend.enable",qp="blend.color",oc="blend.equation",ac="blend.func",Qp="depth.enable",Kp="depth.func",Zp="depth.range",Jp="depth.mask",sc="colorMask",em="cull.enable",tm="cull.face",lc="frontFace",uc="lineWidth",nm="polygonOffset.enable",cc="polygonOffset.offset",rm="sample.alpha",im="sample.enable",fc="sample.coverage",om="stencil.enable",am="stencil.mask",dc="stencil.func",hc="stencil.opFront",Uo="stencil.opBack",sm="scissor.enable",bs="scissor.box",hr="viewport",Ho="profile",ci="framebuffer",Wo="vert",Xo="frag",fi="elements",di="primitive",hi="count",ks="offset",As="instances",Yo="vao",pc="Width",mc="Height",Qi=ci+pc,Ki=ci+mc,fS=hr+pc,dS=hr+mc,lm="drawingBuffer",um=lm+pc,cm=lm+mc,hS=[ac,oc,dc,hc,Uo,fc,hr,bs,cc],Zi=34962,vc=34963,pS=35632,mS=35633,fm=3553,vS=34067,gS=2884,yS=3042,xS=3024,_S=2960,SS=2929,wS=3089,ES=32823,TS=32926,bS=32928,gc=5126,Cs=35664,Ns=35665,Fs=35666,yc=5124,Ps=35667,Ls=35668,zs=35669,xc=35670,Is=35671,Ms=35672,Rs=35673,qo=35674,Qo=35675,Ko=35676,Zo=35678,Jo=35680,_c=4,ea=1028,pi=1029,dm=2304,Sc=2305,kS=32775,AS=32776,CS=519,Pr=7680,hm=0,pm=1,mm=32774,NS=513,vm=36160,FS=36064,nr={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},gm=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],Ji={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Lr={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},ym={frag:pS,vert:mS},wc={cw:dm,ccw:Sc};function Ds(c){return Array.isArray(c)||n(c)||jn(c)}function xm(c){return c.sort(function(v,T){return v===hr?-1:T===hr?1:v<T?-1:1})}function Mt(c,v,T,G){this.thisDep=c,this.contextDep=v,this.propDep=T,this.append=G}function zr(c){return c&&!(c.thisDep||c.contextDep||c.propDep)}function Ct(c){return new Mt(!1,!1,!1,c)}function fn(c,v){var T=c.type;if(T===tc){var G=c.data.length;return new Mt(!0,G>=1,G>=2,v)}else if(T===Ts){var Q=c.data;return new Mt(Q.thisDep,Q.contextDep,Q.propDep,v)}else{if(T===Hp)return new Mt(!1,!1,!1,v);if(T===Wp){for(var B=!1,U=!1,re=!1,ne=0;ne<c.data.length;++ne){var ue=c.data[ne];if(ue.type===nc)re=!0;else if(ue.type===rc)U=!0;else if(ue.type===ic)B=!0;else if(ue.type===tc){B=!0;var fe=ue.data;fe>=1&&(U=!0),fe>=2&&(re=!0)}else ue.type===Ts&&(B=B||ue.data.thisDep,U=U||ue.data.contextDep,re=re||ue.data.propDep)}return new Mt(B,U,re,v)}else return new Mt(T===ic,T===rc,T===nc,v)}}var _m=new Mt(!1,!1,!1,function(){});function PS(c,v,T,G,Q,B,U,re,ne,ue,fe,ce,ge,ie,le){var z=ue.Record,$={add:32774,subtract:32778,"reverse subtract":32779};T.ext_blend_minmax&&($.min=kS,$.max=AS);var ae=T.angle_instanced_arrays,Ce=T.webgl_draw_buffers,te=T.oes_vertex_array_object,Te={dirty:!0,profile:le.profile},Se={},Oe=[],K={},q={};function Pe(y){return y.replace(".","_")}function ye(y,p,A){var L=Pe(y);Oe.push(y),Se[L]=Te[L]=!!A,K[L]=p}function oe(y,p,A){var L=Pe(y);Oe.push(y),Array.isArray(A)?(Te[L]=A.slice(),Se[L]=A.slice()):Te[L]=Se[L]=A,q[L]=p}ye(Xp,xS),ye(Yp,yS),oe(qp,"blendColor",[0,0,0,0]),oe(oc,"blendEquationSeparate",[mm,mm]),oe(ac,"blendFuncSeparate",[pm,hm,pm,hm]),ye(Qp,SS,!0),oe(Kp,"depthFunc",NS),oe(Zp,"depthRange",[0,1]),oe(Jp,"depthMask",!0),oe(sc,sc,[!0,!0,!0,!0]),ye(em,gS),oe(tm,"cullFace",pi),oe(lc,lc,Sc),oe(uc,uc,1),ye(nm,ES),oe(cc,"polygonOffset",[0,0]),ye(rm,TS),ye(im,bS),oe(fc,"sampleCoverage",[1,!1]),ye(om,_S),oe(am,"stencilMask",-1),oe(dc,"stencilFunc",[CS,0,-1]),oe(hc,"stencilOpSeparate",[ea,Pr,Pr,Pr]),oe(Uo,"stencilOpSeparate",[pi,Pr,Pr,Pr]),ye(sm,wS),oe(bs,"scissor",[0,0,c.drawingBufferWidth,c.drawingBufferHeight]),oe(hr,hr,[0,0,c.drawingBufferWidth,c.drawingBufferHeight]);var xe={gl:c,context:ge,strings:v,next:Se,current:Te,draw:ce,elements:B,buffer:Q,shader:fe,attributes:ue.state,vao:ue,uniforms:ne,framebuffer:re,extensions:T,timer:ie,isBufferArgs:Ds},_e={primTypes:Nr,compareFuncs:Ji,blendFuncs:nr,blendEquations:$,stencilOps:Lr,glTypes:oi,orientationType:wc};g.optional(function(){xe.isArrayLike=mt}),Ce&&(_e.backBuffer=[pi],_e.drawBuffer=Sn(G.maxDrawbuffers,function(y){return y===0?[0]:Sn(y,function(p){return FS+p})}));var Xe=0;function We(){var y=cS(),p=y.link,A=y.global;y.id=Xe++,y.batchId="0";var L=p(xe),I=y.shared={props:"a0"};Object.keys(xe).forEach(function(E){I[E]=A.def(L,".",E)}),g.optional(function(){y.CHECK=p(g),y.commandStr=g.guessCommand(),y.command=p(y.commandStr),y.assert=function(E,S,D){E("if(!(",S,"))",this.CHECK,".commandRaise(",p(D),",",this.command,");")},_e.invalidBlendCombinations=gm});var N=y.next={},C=y.current={};Object.keys(q).forEach(function(E){Array.isArray(Te[E])&&(N[E]=A.def(I.next,".",E),C[E]=A.def(I.current,".",E))});var P=y.constants={};Object.keys(_e).forEach(function(E){P[E]=A.def(JSON.stringify(_e[E]))}),y.invoke=function(E,S){switch(S.type){case tc:var D=["this",I.context,I.props,y.batchId];return E.def(p(S.data),".call(",D.slice(0,Math.max(S.data.length+1,4)),")");case nc:return E.def(I.props,S.data);case rc:return E.def(I.context,S.data);case ic:return E.def("this",S.data);case Ts:return S.data.append(y,E),S.data.ref;case Hp:return S.data.toString();case Wp:return S.data.map(function(M){return y.invoke(E,M)})}},y.attribCache={};var x={};return y.scopeAttrib=function(E){var S=v.id(E);if(S in x)return x[S];var D=ue.scope[S];D||(D=ue.scope[S]=new z);var M=x[S]=p(D);return M},y}function we(y){var p=y.static,A=y.dynamic,L;if(Ho in p){var I=!!p[Ho];L=Ct(function(C,P){return I}),L.enable=I}else if(Ho in A){var N=A[Ho];L=fn(N,function(C,P){return C.invoke(P,N)})}return L}function ke(y,p){var A=y.static,L=y.dynamic;if(ci in A){var I=A[ci];return I?(I=re.getFramebuffer(I),g.command(I,"invalid framebuffer object"),Ct(function(C,P){var x=C.link(I),E=C.shared;P.set(E.framebuffer,".next",x);var S=E.context;return P.set(S,"."+Qi,x+".width"),P.set(S,"."+Ki,x+".height"),x})):Ct(function(C,P){var x=C.shared;P.set(x.framebuffer,".next","null");var E=x.context;return P.set(E,"."+Qi,E+"."+um),P.set(E,"."+Ki,E+"."+cm),"null"})}else if(ci in L){var N=L[ci];return fn(N,function(C,P){var x=C.invoke(P,N),E=C.shared,S=E.framebuffer,D=P.def(S,".getFramebuffer(",x,")");g.optional(function(){C.assert(P,"!"+x+"||"+D,"invalid framebuffer object")}),P.set(S,".next",D);var M=E.context;return P.set(M,"."+Qi,D+"?"+D+".width:"+M+"."+um),P.set(M,"."+Ki,D+"?"+D+".height:"+M+"."+cm),D})}else return null}function $e(y,p,A){var L=y.static,I=y.dynamic;function N(x){if(x in L){var E=L[x];g.commandType(E,"object","invalid "+x,A.commandStr);var S=!0,D=E.x|0,M=E.y|0,Y,Z;return"width"in E?(Y=E.width|0,g.command(Y>=0,"invalid "+x,A.commandStr)):S=!1,"height"in E?(Z=E.height|0,g.command(Z>=0,"invalid "+x,A.commandStr)):S=!1,new Mt(!S&&p&&p.thisDep,!S&&p&&p.contextDep,!S&&p&&p.propDep,function(Re,Ne){var J=Re.shared.context,X=Y;"width"in E||(X=Ne.def(J,".",Qi,"-",D));var Ie=Z;return"height"in E||(Ie=Ne.def(J,".",Ki,"-",M)),[D,M,X,Ie]})}else if(x in I){var ve=I[x],He=fn(ve,function(Re,Ne){var J=Re.invoke(Ne,ve);g.optional(function(){Re.assert(Ne,J+"&&typeof "+J+'==="object"',"invalid "+x)});var X=Re.shared.context,Ie=Ne.def(J,".x|0"),Le=Ne.def(J,".y|0"),Ue=Ne.def('"width" in ',J,"?",J,".width|0:","(",X,".",Qi,"-",Ie,")"),ut=Ne.def('"height" in ',J,"?",J,".height|0:","(",X,".",Ki,"-",Le,")");return g.optional(function(){Re.assert(Ne,Ue+">=0&&"+ut+">=0","invalid "+x)}),[Ie,Le,Ue,ut]});return p&&(He.thisDep=He.thisDep||p.thisDep,He.contextDep=He.contextDep||p.contextDep,He.propDep=He.propDep||p.propDep),He}else return p?new Mt(p.thisDep,p.contextDep,p.propDep,function(Re,Ne){var J=Re.shared.context;return[0,0,Ne.def(J,".",Qi),Ne.def(J,".",Ki)]}):null}var C=N(hr);if(C){var P=C;C=new Mt(C.thisDep,C.contextDep,C.propDep,function(x,E){var S=P.append(x,E),D=x.shared.context;return E.set(D,"."+fS,S[2]),E.set(D,"."+dS,S[3]),S})}return{viewport:C,scissor_box:N(bs)}}function Ye(y,p){var A=y.static,L=typeof A[Xo]=="string"&&typeof A[Wo]=="string";if(L){if(Object.keys(p.dynamic).length>0)return null;var I=p.static,N=Object.keys(I);if(N.length>0&&typeof I[N[0]]=="number"){for(var C=[],P=0;P<N.length;++P)g(typeof I[N[P]]=="number","must specify all vertex attribute locations when using vaos"),C.push([I[N[P]]|0,N[P]]);return C}}return null}function Je(y,p,A){var L=y.static,I=y.dynamic;function N(S){if(S in L){var D=v.id(L[S]);g.optional(function(){fe.shader(ym[S],D,g.guessCommand())});var M=Ct(function(){return D});return M.id=D,M}else if(S in I){var Y=I[S];return fn(Y,function(Z,ve){var He=Z.invoke(ve,Y),Re=ve.def(Z.shared.strings,".id(",He,")");return g.optional(function(){ve(Z.shared.shader,".shader(",ym[S],",",Re,",",Z.command,");")}),Re})}return null}var C=N(Xo),P=N(Wo),x=null,E;return zr(C)&&zr(P)?(x=fe.program(P.id,C.id,null,A),E=Ct(function(S,D){return S.link(x)})):E=new Mt(C&&C.thisDep||P&&P.thisDep,C&&C.contextDep||P&&P.contextDep,C&&C.propDep||P&&P.propDep,function(S,D){var M=S.shared.shader,Y;C?Y=C.append(S,D):Y=D.def(M,".",Xo);var Z;P?Z=P.append(S,D):Z=D.def(M,".",Wo);var ve=M+".program("+Z+","+Y;return g.optional(function(){ve+=","+S.command}),D.def(ve+")")}),{frag:C,vert:P,progVar:E,program:x}}function vt(y,p){var A=y.static,L=y.dynamic,I={},N=!1;function C(){if(Yo in A){var Ne=A[Yo];return Ne!==null&&ue.getVAO(Ne)===null&&(Ne=ue.createVAO(Ne)),N=!0,I.vao=Ne,Ct(function(X){var Ie=ue.getVAO(Ne);return Ie?X.link(Ie):"null"})}else if(Yo in L){N=!0;var J=L[Yo];return fn(J,function(X,Ie){var Le=X.invoke(Ie,J);return Ie.def(X.shared.vao+".getVAO("+Le+")")})}return null}var P=C(),x=!1;function E(){if(fi in A){var Ne=A[fi];if(I.elements=Ne,Ds(Ne)){var J=I.elements=B.create(Ne,!0);Ne=B.getElements(J),x=!0}else Ne&&(Ne=B.getElements(Ne),x=!0,g.command(Ne,"invalid elements",p.commandStr));var X=Ct(function(Le,Ue){if(Ne){var ut=Le.link(Ne);return Le.ELEMENTS=ut,ut}return Le.ELEMENTS=null,null});return X.value=Ne,X}else if(fi in L){x=!0;var Ie=L[fi];return fn(Ie,function(Le,Ue){var ut=Le.shared,Wt=ut.isBufferArgs,vi=ut.elements,pr=Le.invoke(Ue,Ie),ir=Ue.def("null"),Ir=Ue.def(Wt,"(",pr,")"),gi=Le.cond(Ir).then(ir,"=",vi,".createStream(",pr,");").else(ir,"=",vi,".getElements(",pr,");");return g.optional(function(){Le.assert(gi.else,"!"+pr+"||"+ir,"invalid elements")}),Ue.entry(gi),Ue.exit(Le.cond(Ir).then(vi,".destroyStream(",ir,");")),Le.ELEMENTS=ir,ir})}else if(N)return new Mt(P.thisDep,P.contextDep,P.propDep,function(Le,Ue){return Ue.def(Le.shared.vao+".currentVAO?"+Le.shared.elements+".getElements("+Le.shared.vao+".currentVAO.elements):null")});return null}var S=E();function D(){if(di in A){var Ne=A[di];return I.primitive=Ne,g.commandParameter(Ne,Nr,"invalid primitve",p.commandStr),Ct(function(X,Ie){return Nr[Ne]})}else if(di in L){var J=L[di];return fn(J,function(X,Ie){var Le=X.constants.primTypes,Ue=X.invoke(Ie,J);return g.optional(function(){X.assert(Ie,Ue+" in "+Le,"invalid primitive, must be one of "+Object.keys(Nr))}),Ie.def(Le,"[",Ue,"]")})}else{if(x)return zr(S)?S.value?Ct(function(X,Ie){return Ie.def(X.ELEMENTS,".primType")}):Ct(function(){return _c}):new Mt(S.thisDep,S.contextDep,S.propDep,function(X,Ie){var Le=X.ELEMENTS;return Ie.def(Le,"?",Le,".primType:",_c)});if(N)return new Mt(P.thisDep,P.contextDep,P.propDep,function(X,Ie){return Ie.def(X.shared.vao+".currentVAO?"+X.shared.vao+".currentVAO.primitive:"+_c)})}return null}function M(Ne,J){if(Ne in A){var X=A[Ne]|0;return J?I.offset=X:I.instances=X,g.command(!J||X>=0,"invalid "+Ne,p.commandStr),Ct(function(Le,Ue){return J&&(Le.OFFSET=X),X})}else if(Ne in L){var Ie=L[Ne];return fn(Ie,function(Le,Ue){var ut=Le.invoke(Ue,Ie);return J&&(Le.OFFSET=ut,g.optional(function(){Le.assert(Ue,ut+">=0","invalid "+Ne)})),ut})}else if(J){if(x)return Ct(function(Le,Ue){return Le.OFFSET=0,0});if(N)return new Mt(P.thisDep,P.contextDep,P.propDep,function(Le,Ue){return Ue.def(Le.shared.vao+".currentVAO?"+Le.shared.vao+".currentVAO.offset:0")})}else if(N)return new Mt(P.thisDep,P.contextDep,P.propDep,function(Le,Ue){return Ue.def(Le.shared.vao+".currentVAO?"+Le.shared.vao+".currentVAO.instances:-1")});return null}var Y=M(ks,!0);function Z(){if(hi in A){var Ne=A[hi]|0;return I.count=Ne,g.command(typeof Ne=="number"&&Ne>=0,"invalid vertex count",p.commandStr),Ct(function(){return Ne})}else if(hi in L){var J=L[hi];return fn(J,function(Ue,ut){var Wt=Ue.invoke(ut,J);return g.optional(function(){Ue.assert(ut,"typeof "+Wt+'==="number"&&'+Wt+">=0&&"+Wt+"===("+Wt+"|0)","invalid vertex count")}),Wt})}else if(x)if(zr(S)){if(S)return Y?new Mt(Y.thisDep,Y.contextDep,Y.propDep,function(Ue,ut){var Wt=ut.def(Ue.ELEMENTS,".vertCount-",Ue.OFFSET);return g.optional(function(){Ue.assert(ut,Wt+">=0","invalid vertex offset/element buffer too small")}),Wt}):Ct(function(Ue,ut){return ut.def(Ue.ELEMENTS,".vertCount")});var X=Ct(function(){return-1});return g.optional(function(){X.MISSING=!0}),X}else{var Ie=new Mt(S.thisDep||Y.thisDep,S.contextDep||Y.contextDep,S.propDep||Y.propDep,function(Ue,ut){var Wt=Ue.ELEMENTS;return Ue.OFFSET?ut.def(Wt,"?",Wt,".vertCount-",Ue.OFFSET,":-1"):ut.def(Wt,"?",Wt,".vertCount:-1")});return g.optional(function(){Ie.DYNAMIC=!0}),Ie}else if(N){var Le=new Mt(P.thisDep,P.contextDep,P.propDep,function(Ue,ut){return ut.def(Ue.shared.vao,".currentVAO?",Ue.shared.vao,".currentVAO.count:-1")});return Le}return null}var ve=D(),He=Z(),Re=M(As,!1);return{elements:S,primitive:ve,count:He,instances:Re,offset:Y,vao:P,vaoActive:N,elementsActive:x,static:I}}function yt(y,p){var A=y.static,L=y.dynamic,I={};return Oe.forEach(function(N){var C=Pe(N);function P(x,E){if(N in A){var S=x(A[N]);I[C]=Ct(function(){return S})}else if(N in L){var D=L[N];I[C]=fn(D,function(M,Y){return E(M,Y,M.invoke(Y,D))})}}switch(N){case em:case Yp:case Xp:case om:case Qp:case sm:case nm:case rm:case im:case Jp:return P(function(x){return g.commandType(x,"boolean",N,p.commandStr),x},function(x,E,S){return g.optional(function(){x.assert(E,"typeof "+S+'==="boolean"',"invalid flag "+N,x.commandStr)}),S});case Kp:return P(function(x){return g.commandParameter(x,Ji,"invalid "+N,p.commandStr),Ji[x]},function(x,E,S){var D=x.constants.compareFuncs;return g.optional(function(){x.assert(E,S+" in "+D,"invalid "+N+", must be one of "+Object.keys(Ji))}),E.def(D,"[",S,"]")});case Zp:return P(function(x){return g.command(mt(x)&&x.length===2&&typeof x[0]=="number"&&typeof x[1]=="number"&&x[0]<=x[1],"depth range is 2d array",p.commandStr),x},function(x,E,S){g.optional(function(){x.assert(E,x.shared.isArrayLike+"("+S+")&&"+S+".length===2&&typeof "+S+'[0]==="number"&&typeof '+S+'[1]==="number"&&'+S+"[0]<="+S+"[1]","depth range must be a 2d array")});var D=E.def("+",S,"[0]"),M=E.def("+",S,"[1]");return[D,M]});case ac:return P(function(x){g.commandType(x,"object","blend.func",p.commandStr);var E="srcRGB"in x?x.srcRGB:x.src,S="srcAlpha"in x?x.srcAlpha:x.src,D="dstRGB"in x?x.dstRGB:x.dst,M="dstAlpha"in x?x.dstAlpha:x.dst;return g.commandParameter(E,nr,C+".srcRGB",p.commandStr),g.commandParameter(S,nr,C+".srcAlpha",p.commandStr),g.commandParameter(D,nr,C+".dstRGB",p.commandStr),g.commandParameter(M,nr,C+".dstAlpha",p.commandStr),g.command(gm.indexOf(E+", "+D)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+E+", "+D+")",p.commandStr),[nr[E],nr[D],nr[S],nr[M]]},function(x,E,S){var D=x.constants.blendFuncs;g.optional(function(){x.assert(E,S+"&&typeof "+S+'==="object"',"invalid blend func, must be an object")});function M(J,X){var Ie=E.def('"',J,X,'" in ',S,"?",S,".",J,X,":",S,".",J);return g.optional(function(){x.assert(E,Ie+" in "+D,"invalid "+N+"."+J+X+", must be one of "+Object.keys(nr))}),Ie}var Y=M("src","RGB"),Z=M("dst","RGB");g.optional(function(){var J=x.constants.invalidBlendCombinations;x.assert(E,J+".indexOf("+Y+'+", "+'+Z+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var ve=E.def(D,"[",Y,"]"),He=E.def(D,"[",M("src","Alpha"),"]"),Re=E.def(D,"[",Z,"]"),Ne=E.def(D,"[",M("dst","Alpha"),"]");return[ve,Re,He,Ne]});case oc:return P(function(x){if(typeof x=="string")return g.commandParameter(x,$,"invalid "+N,p.commandStr),[$[x],$[x]];if(typeof x=="object")return g.commandParameter(x.rgb,$,N+".rgb",p.commandStr),g.commandParameter(x.alpha,$,N+".alpha",p.commandStr),[$[x.rgb],$[x.alpha]];g.commandRaise("invalid blend.equation",p.commandStr)},function(x,E,S){var D=x.constants.blendEquations,M=E.def(),Y=E.def(),Z=x.cond("typeof ",S,'==="string"');return g.optional(function(){function ve(He,Re,Ne){x.assert(He,Ne+" in "+D,"invalid "+Re+", must be one of "+Object.keys($))}ve(Z.then,N,S),x.assert(Z.else,S+"&&typeof "+S+'==="object"',"invalid "+N),ve(Z.else,N+".rgb",S+".rgb"),ve(Z.else,N+".alpha",S+".alpha")}),Z.then(M,"=",Y,"=",D,"[",S,"];"),Z.else(M,"=",D,"[",S,".rgb];",Y,"=",D,"[",S,".alpha];"),E(Z),[M,Y]});case qp:return P(function(x){return g.command(mt(x)&&x.length===4,"blend.color must be a 4d array",p.commandStr),Sn(4,function(E){return+x[E]})},function(x,E,S){return g.optional(function(){x.assert(E,x.shared.isArrayLike+"("+S+")&&"+S+".length===4","blend.color must be a 4d array")}),Sn(4,function(D){return E.def("+",S,"[",D,"]")})});case am:return P(function(x){return g.commandType(x,"number",C,p.commandStr),x|0},function(x,E,S){return g.optional(function(){x.assert(E,"typeof "+S+'==="number"',"invalid stencil.mask")}),E.def(S,"|0")});case dc:return P(function(x){g.commandType(x,"object",C,p.commandStr);var E=x.cmp||"keep",S=x.ref||0,D="mask"in x?x.mask:-1;return g.commandParameter(E,Ji,N+".cmp",p.commandStr),g.commandType(S,"number",N+".ref",p.commandStr),g.commandType(D,"number",N+".mask",p.commandStr),[Ji[E],S,D]},function(x,E,S){var D=x.constants.compareFuncs;g.optional(function(){function ve(){x.assert(E,Array.prototype.join.call(arguments,""),"invalid stencil.func")}ve(S+"&&typeof ",S,'==="object"'),ve('!("cmp" in ',S,")||(",S,".cmp in ",D,")")});var M=E.def('"cmp" in ',S,"?",D,"[",S,".cmp]",":",Pr),Y=E.def(S,".ref|0"),Z=E.def('"mask" in ',S,"?",S,".mask|0:-1");return[M,Y,Z]});case hc:case Uo:return P(function(x){g.commandType(x,"object",C,p.commandStr);var E=x.fail||"keep",S=x.zfail||"keep",D=x.zpass||"keep";return g.commandParameter(E,Lr,N+".fail",p.commandStr),g.commandParameter(S,Lr,N+".zfail",p.commandStr),g.commandParameter(D,Lr,N+".zpass",p.commandStr),[N===Uo?pi:ea,Lr[E],Lr[S],Lr[D]]},function(x,E,S){var D=x.constants.stencilOps;g.optional(function(){x.assert(E,S+"&&typeof "+S+'==="object"',"invalid "+N)});function M(Y){return g.optional(function(){x.assert(E,'!("'+Y+'" in '+S+")||("+S+"."+Y+" in "+D+")","invalid "+N+"."+Y+", must be one of "+Object.keys(Lr))}),E.def('"',Y,'" in ',S,"?",D,"[",S,".",Y,"]:",Pr)}return[N===Uo?pi:ea,M("fail"),M("zfail"),M("zpass")]});case cc:return P(function(x){g.commandType(x,"object",C,p.commandStr);var E=x.factor|0,S=x.units|0;return g.commandType(E,"number",C+".factor",p.commandStr),g.commandType(S,"number",C+".units",p.commandStr),[E,S]},function(x,E,S){g.optional(function(){x.assert(E,S+"&&typeof "+S+'==="object"',"invalid "+N)});var D=E.def(S,".factor|0"),M=E.def(S,".units|0");return[D,M]});case tm:return P(function(x){var E=0;return x==="front"?E=ea:x==="back"&&(E=pi),g.command(!!E,C,p.commandStr),E},function(x,E,S){return g.optional(function(){x.assert(E,S+'==="front"||'+S+'==="back"',"invalid cull.face")}),E.def(S,'==="front"?',ea,":",pi)});case uc:return P(function(x){return g.command(typeof x=="number"&&x>=G.lineWidthDims[0]&&x<=G.lineWidthDims[1],"invalid line width, must be a positive number between "+G.lineWidthDims[0]+" and "+G.lineWidthDims[1],p.commandStr),x},function(x,E,S){return g.optional(function(){x.assert(E,"typeof "+S+'==="number"&&'+S+">="+G.lineWidthDims[0]+"&&"+S+"<="+G.lineWidthDims[1],"invalid line width")}),S});case lc:return P(function(x){return g.commandParameter(x,wc,C,p.commandStr),wc[x]},function(x,E,S){return g.optional(function(){x.assert(E,S+'==="cw"||'+S+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),E.def(S+'==="cw"?'+dm+":"+Sc)});case sc:return P(function(x){return g.command(mt(x)&&x.length===4,"color.mask must be length 4 array",p.commandStr),x.map(function(E){return!!E})},function(x,E,S){return g.optional(function(){x.assert(E,x.shared.isArrayLike+"("+S+")&&"+S+".length===4","invalid color.mask")}),Sn(4,function(D){return"!!"+S+"["+D+"]"})});case fc:return P(function(x){g.command(typeof x=="object"&&x,C,p.commandStr);var E="value"in x?x.value:1,S=!!x.invert;return g.command(typeof E=="number"&&E>=0&&E<=1,"sample.coverage.value must be a number between 0 and 1",p.commandStr),[E,S]},function(x,E,S){g.optional(function(){x.assert(E,S+"&&typeof "+S+'==="object"',"invalid sample.coverage")});var D=E.def('"value" in ',S,"?+",S,".value:1"),M=E.def("!!",S,".invert");return[D,M]})}}),I}function tt(y,p){var A=y.static,L=y.dynamic,I={};return Object.keys(A).forEach(function(N){var C=A[N],P;if(typeof C=="number"||typeof C=="boolean")P=Ct(function(){return C});else if(typeof C=="function"){var x=C._reglType;x==="texture2d"||x==="textureCube"?P=Ct(function(E){return E.link(C)}):x==="framebuffer"||x==="framebufferCube"?(g.command(C.color.length>0,'missing color attachment for framebuffer sent to uniform "'+N+'"',p.commandStr),P=Ct(function(E){return E.link(C.color[0])})):g.commandRaise('invalid data for uniform "'+N+'"',p.commandStr)}else mt(C)?P=Ct(function(E){var S=E.global.def("[",Sn(C.length,function(D){return g.command(typeof C[D]=="number"||typeof C[D]=="boolean","invalid uniform "+N,E.commandStr),C[D]}),"]");return S}):g.commandRaise('invalid or missing data for uniform "'+N+'"',p.commandStr);P.value=C,I[N]=P}),Object.keys(L).forEach(function(N){var C=L[N];I[N]=fn(C,function(P,x){return P.invoke(x,C)})}),I}function Pt(y,p){var A=y.static,L=y.dynamic,I={};return Object.keys(A).forEach(function(N){var C=A[N],P=v.id(N),x=new z;if(Ds(C))x.state=qi,x.buffer=Q.getBuffer(Q.create(C,Zi,!1,!0)),x.type=0;else{var E=Q.getBuffer(C);if(E)x.state=qi,x.buffer=E,x.type=0;else if(g.command(typeof C=="object"&&C,"invalid data for attribute "+N,p.commandStr),"constant"in C){var S=C.constant;x.buffer="null",x.state=ec,typeof S=="number"?x.x=S:(g.command(mt(S)&&S.length>0&&S.length<=4,"invalid constant for attribute "+N,p.commandStr),Yi.forEach(function(Re,Ne){Ne<S.length&&(x[Re]=S[Ne])}))}else{Ds(C.buffer)?E=Q.getBuffer(Q.create(C.buffer,Zi,!1,!0)):E=Q.getBuffer(C.buffer),g.command(!!E,'missing buffer for attribute "'+N+'"',p.commandStr);var D=C.offset|0;g.command(D>=0,'invalid offset for attribute "'+N+'"',p.commandStr);var M=C.stride|0;g.command(M>=0&&M<256,'invalid stride for attribute "'+N+'", must be integer betweeen [0, 255]',p.commandStr);var Y=C.size|0;g.command(!("size"in C)||Y>0&&Y<=4,'invalid size for attribute "'+N+'", must be 1,2,3,4',p.commandStr);var Z=!!C.normalized,ve=0;"type"in C&&(g.commandParameter(C.type,oi,"invalid type for attribute "+N,p.commandStr),ve=oi[C.type]);var He=C.divisor|0;g.optional(function(){"divisor"in C&&(g.command(He===0||ae,'cannot specify divisor for attribute "'+N+'", instancing not supported',p.commandStr),g.command(He>=0,'invalid divisor for attribute "'+N+'"',p.commandStr));var Re=p.commandStr,Ne=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(C).forEach(function(J){g.command(Ne.indexOf(J)>=0,'unknown parameter "'+J+'" for attribute pointer "'+N+'" (valid parameters are '+Ne+")",Re)})}),x.buffer=E,x.state=qi,x.size=Y,x.normalized=Z,x.type=ve||E.dtype,x.offset=D,x.stride=M,x.divisor=He}}I[N]=Ct(function(Re,Ne){var J=Re.attribCache;if(P in J)return J[P];var X={isStream:!1};return Object.keys(x).forEach(function(Ie){X[Ie]=x[Ie]}),x.buffer&&(X.buffer=Re.link(x.buffer),X.type=X.type||X.buffer+".dtype"),J[P]=X,X})}),Object.keys(L).forEach(function(N){var C=L[N];function P(x,E){var S=x.invoke(E,C),D=x.shared,M=x.constants,Y=D.isBufferArgs,Z=D.buffer;g.optional(function(){x.assert(E,S+"&&(typeof "+S+'==="object"||typeof '+S+'==="function")&&('+Y+"("+S+")||"+Z+".getBuffer("+S+")||"+Z+".getBuffer("+S+".buffer)||"+Y+"("+S+'.buffer)||("constant" in '+S+"&&(typeof "+S+'.constant==="number"||'+D.isArrayLike+"("+S+".constant))))",'invalid dynamic attribute "'+N+'"')});var ve={isStream:E.def(!1)},He=new z;He.state=qi,Object.keys(He).forEach(function(X){ve[X]=E.def(""+He[X])});var Re=ve.buffer,Ne=ve.type;E("if(",Y,"(",S,")){",ve.isStream,"=true;",Re,"=",Z,".createStream(",Zi,",",S,");",Ne,"=",Re,".dtype;","}else{",Re,"=",Z,".getBuffer(",S,");","if(",Re,"){",Ne,"=",Re,".dtype;",'}else if("constant" in ',S,"){",ve.state,"=",ec,";","if(typeof "+S+'.constant === "number"){',ve[Yi[0]],"=",S,".constant;",Yi.slice(1).map(function(X){return ve[X]}).join("="),"=0;","}else{",Yi.map(function(X,Ie){return ve[X]+"="+S+".constant.length>"+Ie+"?"+S+".constant["+Ie+"]:0;"}).join(""),"}}else{","if(",Y,"(",S,".buffer)){",Re,"=",Z,".createStream(",Zi,",",S,".buffer);","}else{",Re,"=",Z,".getBuffer(",S,".buffer);","}",Ne,'="type" in ',S,"?",M.glTypes,"[",S,".type]:",Re,".dtype;",ve.normalized,"=!!",S,".normalized;");function J(X){E(ve[X],"=",S,".",X,"|0;")}return J("size"),J("offset"),J("stride"),J("divisor"),E("}}"),E.exit("if(",ve.isStream,"){",Z,".destroyStream(",Re,");","}"),ve}I[N]=fn(C,P)}),I}function ht(y){var p=y.static,A=y.dynamic,L={};return Object.keys(p).forEach(function(I){var N=p[I];L[I]=Ct(function(C,P){return typeof N=="number"||typeof N=="boolean"?""+N:C.link(N)})}),Object.keys(A).forEach(function(I){var N=A[I];L[I]=fn(N,function(C,P){return C.invoke(P,N)})}),L}function Nt(y,p,A,L,I){var N=y.static,C=y.dynamic;g.optional(function(){var J=[ci,Wo,Xo,fi,di,ks,hi,As,Ho,Yo].concat(Oe);function X(Ie){Object.keys(Ie).forEach(function(Le){g.command(J.indexOf(Le)>=0,'unknown parameter "'+Le+'"',I.commandStr)})}X(N),X(C)});var P=Ye(y,p),x=ke(y),E=$e(y,x,I),S=vt(y,I),D=yt(y,I),M=Je(y,I,P);function Y(J){var X=E[J];X&&(D[J]=X)}Y(hr),Y(Pe(bs));var Z=Object.keys(D).length>0,ve={framebuffer:x,draw:S,shader:M,state:D,dirty:Z,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(ve.profile=we(y),ve.uniforms=tt(A,I),ve.drawVAO=ve.scopeVAO=S.vao,!ve.drawVAO&&M.program&&!P&&T.angle_instanced_arrays&&S.static.elements){var He=!0,Re=M.program.attributes.map(function(J){var X=p.static[J];return He=He&&!!X,X});if(He&&Re.length>0){var Ne=ue.getVAO(ue.createVAO({attributes:Re,elements:S.static.elements}));ve.drawVAO=new Mt(null,null,null,function(J,X){return J.link(Ne)}),ve.useVAO=!0}}return P?ve.useVAO=!0:ve.attributes=Pt(p,I),ve.context=ht(L),ve}function Lt(y,p,A){var L=y.shared,I=L.context,N=y.scope();Object.keys(A).forEach(function(C){p.save(I,"."+C);var P=A[C],x=P.append(y,p);Array.isArray(x)?N(I,".",C,"=[",x.join(),"];"):N(I,".",C,"=",x,";")}),p(N)}function zt(y,p,A,L){var I=y.shared,N=I.gl,C=I.framebuffer,P;Ce&&(P=p.def(I.extensions,".webgl_draw_buffers"));var x=y.constants,E=x.drawBuffer,S=x.backBuffer,D;A?D=A.append(y,p):D=p.def(C,".next"),L||p("if(",D,"!==",C,".cur){"),p("if(",D,"){",N,".bindFramebuffer(",vm,",",D,".framebuffer);"),Ce&&p(P,".drawBuffersWEBGL(",E,"[",D,".colorAttachments.length]);"),p("}else{",N,".bindFramebuffer(",vm,",null);"),Ce&&p(P,".drawBuffersWEBGL(",S,");"),p("}",C,".cur=",D,";"),L||p("}")}function Ot(y,p,A){var L=y.shared,I=L.gl,N=y.current,C=y.next,P=L.current,x=L.next,E=y.cond(P,".dirty");Oe.forEach(function(S){var D=Pe(S);if(!(D in A.state)){var M,Y;if(D in C){M=C[D],Y=N[D];var Z=Sn(Te[D].length,function(He){return E.def(M,"[",He,"]")});E(y.cond(Z.map(function(He,Re){return He+"!=="+Y+"["+Re+"]"}).join("||")).then(I,".",q[D],"(",Z,");",Z.map(function(He,Re){return Y+"["+Re+"]="+He}).join(";"),";"))}else{M=E.def(x,".",D);var ve=y.cond(M,"!==",P,".",D);E(ve),D in K?ve(y.cond(M).then(I,".enable(",K[D],");").else(I,".disable(",K[D],");"),P,".",D,"=",M,";"):ve(I,".",q[D],"(",M,");",P,".",D,"=",M,";")}}}),Object.keys(A.state).length===0&&E(P,".dirty=false;"),p(E)}function Ut(y,p,A,L){var I=y.shared,N=y.current,C=I.current,P=I.gl;xm(Object.keys(A)).forEach(function(x){var E=A[x];if(!(L&&!L(E))){var S=E.append(y,p);if(K[x]){var D=K[x];zr(E)?S?p(P,".enable(",D,");"):p(P,".disable(",D,");"):p(y.cond(S).then(P,".enable(",D,");").else(P,".disable(",D,");")),p(C,".",x,"=",S,";")}else if(mt(S)){var M=N[x];p(P,".",q[x],"(",S,");",S.map(function(Y,Z){return M+"["+Z+"]="+Y}).join(";"),";")}else p(P,".",q[x],"(",S,");",C,".",x,"=",S,";")}})}function wt(y,p){ae&&(y.instancing=p.def(y.shared.extensions,".angle_instanced_arrays"))}function Qe(y,p,A,L,I){var N=y.shared,C=y.stats,P=N.current,x=N.timer,E=A.profile;function S(){return typeof performance>"u"?"Date.now()":"performance.now()"}var D,M;function Y(J){D=p.def(),J(D,"=",S(),";"),typeof I=="string"?J(C,".count+=",I,";"):J(C,".count++;"),ie&&(L?(M=p.def(),J(M,"=",x,".getNumPendingQueries();")):J(x,".beginQuery(",C,");"))}function Z(J){J(C,".cpuTime+=",S(),"-",D,";"),ie&&(L?J(x,".pushScopeStats(",M,",",x,".getNumPendingQueries(),",C,");"):J(x,".endQuery();"))}function ve(J){var X=p.def(P,".profile");p(P,".profile=",J,";"),p.exit(P,".profile=",X,";")}var He;if(E){if(zr(E)){E.enable?(Y(p),Z(p.exit),ve("true")):ve("false");return}He=E.append(y,p),ve(He)}else He=p.def(P,".profile");var Re=y.block();Y(Re),p("if(",He,"){",Re,"}");var Ne=y.block();Z(Ne),p.exit("if(",He,"){",Ne,"}")}function Ht(y,p,A,L,I){var N=y.shared;function C(x){switch(x){case Cs:case Ps:case Is:return 2;case Ns:case Ls:case Ms:return 3;case Fs:case zs:case Rs:return 4;default:return 1}}function P(x,E,S){var D=N.gl,M=p.def(x,".location"),Y=p.def(N.attributes,"[",M,"]"),Z=S.state,ve=S.buffer,He=[S.x,S.y,S.z,S.w],Re=["buffer","normalized","offset","stride"];function Ne(){p("if(!",Y,".buffer){",D,".enableVertexAttribArray(",M,");}");var X=S.type,Ie;if(S.size?Ie=p.def(S.size,"||",E):Ie=E,p("if(",Y,".type!==",X,"||",Y,".size!==",Ie,"||",Re.map(function(Ue){return Y+"."+Ue+"!=="+S[Ue]}).join("||"),"){",D,".bindBuffer(",Zi,",",ve,".buffer);",D,".vertexAttribPointer(",[M,Ie,X,S.normalized,S.stride,S.offset],");",Y,".type=",X,";",Y,".size=",Ie,";",Re.map(function(Ue){return Y+"."+Ue+"="+S[Ue]+";"}).join(""),"}"),ae){var Le=S.divisor;p("if(",Y,".divisor!==",Le,"){",y.instancing,".vertexAttribDivisorANGLE(",[M,Le],");",Y,".divisor=",Le,";}")}}function J(){p("if(",Y,".buffer){",D,".disableVertexAttribArray(",M,");",Y,".buffer=null;","}if(",Yi.map(function(X,Ie){return Y+"."+X+"!=="+He[Ie]}).join("||"),"){",D,".vertexAttrib4f(",M,",",He,");",Yi.map(function(X,Ie){return Y+"."+X+"="+He[Ie]+";"}).join(""),"}")}Z===qi?Ne():Z===ec?J():(p("if(",Z,"===",qi,"){"),Ne(),p("}else{"),J(),p("}"))}L.forEach(function(x){var E=x.name,S=A.attributes[E],D;if(S){if(!I(S))return;D=S.append(y,p)}else{if(!I(_m))return;var M=y.scopeAttrib(E);g.optional(function(){y.assert(p,M+".state","missing attribute "+E)}),D={},Object.keys(new z).forEach(function(Y){D[Y]=p.def(M,".",Y)})}P(y.link(x),C(x.info.type),D)})}function st(y,p,A,L,I,N){for(var C=y.shared,P=C.gl,x={},E,S=0;S<L.length;++S){var D=L[S],M=D.name,Y=D.info.type,Z=D.info.size,ve=A.uniforms[M];if(Z>1){if(!ve)continue;var He=M.replace("[0]","");if(x[He])continue;x[He]=1}var Re=y.link(D),Ne=Re+".location",J;if(ve){if(!I(ve))continue;if(zr(ve)){var X=ve.value;if(g.command(X!==null&&typeof X<"u",'missing uniform "'+M+'"',y.commandStr),Y===Zo||Y===Jo){g.command(typeof X=="function"&&(Y===Zo&&(X._reglType==="texture2d"||X._reglType==="framebuffer")||Y===Jo&&(X._reglType==="textureCube"||X._reglType==="framebufferCube")),"invalid texture for uniform "+M,y.commandStr);var Ie=y.link(X._texture||X.color[0]._texture);p(P,".uniform1i(",Ne,",",Ie+".bind());"),p.exit(Ie,".unbind();")}else if(Y===qo||Y===Qo||Y===Ko){g.optional(function(){g.command(mt(X),"invalid matrix for uniform "+M,y.commandStr),g.command(Y===qo&&X.length===4||Y===Qo&&X.length===9||Y===Ko&&X.length===16,"invalid length for matrix uniform "+M,y.commandStr)});var Le=y.global.def("new Float32Array(["+Array.prototype.slice.call(X)+"])"),Ue=2;Y===Qo?Ue=3:Y===Ko&&(Ue=4),p(P,".uniformMatrix",Ue,"fv(",Ne,",false,",Le,");")}else{switch(Y){case gc:Z===1?g.commandType(X,"number","uniform "+M,y.commandStr):g.command(mt(X)&&X.length===Z,"uniform "+M,y.commandStr),E="1f";break;case Cs:g.command(mt(X)&&X.length&&X.length%2===0&&X.length<=Z*2,"uniform "+M,y.commandStr),E="2f";break;case Ns:g.command(mt(X)&&X.length&&X.length%3===0&&X.length<=Z*3,"uniform "+M,y.commandStr),E="3f";break;case Fs:g.command(mt(X)&&X.length&&X.length%4===0&&X.length<=Z*4,"uniform "+M,y.commandStr),E="4f";break;case xc:Z===1?g.commandType(X,"boolean","uniform "+M,y.commandStr):g.command(mt(X)&&X.length===Z,"uniform "+M,y.commandStr),E="1i";break;case yc:Z===1?g.commandType(X,"number","uniform "+M,y.commandStr):g.command(mt(X)&&X.length===Z,"uniform "+M,y.commandStr),E="1i";break;case Is:g.command(mt(X)&&X.length&&X.length%2===0&&X.length<=Z*2,"uniform "+M,y.commandStr),E="2i";break;case Ps:g.command(mt(X)&&X.length&&X.length%2===0&&X.length<=Z*2,"uniform "+M,y.commandStr),E="2i";break;case Ms:g.command(mt(X)&&X.length&&X.length%3===0&&X.length<=Z*3,"uniform "+M,y.commandStr),E="3i";break;case Ls:g.command(mt(X)&&X.length&&X.length%3===0&&X.length<=Z*3,"uniform "+M,y.commandStr),E="3i";break;case Rs:g.command(mt(X)&&X.length&&X.length%4===0&&X.length<=Z*4,"uniform "+M,y.commandStr),E="4i";break;case zs:g.command(mt(X)&&X.length&&X.length%4===0&&X.length<=Z*4,"uniform "+M,y.commandStr),E="4i";break}Z>1?(E+="v",X=y.global.def("["+Array.prototype.slice.call(X)+"]")):X=mt(X)?Array.prototype.slice.call(X):X,p(P,".uniform",E,"(",Ne,",",X,");")}continue}else J=ve.append(y,p)}else{if(!I(_m))continue;J=p.def(C.uniforms,"[",v.id(M),"]")}Y===Zo?(g(!Array.isArray(J),"must specify a scalar prop for textures"),p("if(",J,"&&",J,'._reglType==="framebuffer"){',J,"=",J,".color[0];","}")):Y===Jo&&(g(!Array.isArray(J),"must specify a scalar prop for cube maps"),p("if(",J,"&&",J,'._reglType==="framebufferCube"){',J,"=",J,".color[0];","}")),g.optional(function(){function En(dn,Os){y.assert(p,dn,'bad data or missing for uniform "'+M+'".  '+Os)}function yi(dn,Os){Os===1&&g(!Array.isArray(J),"must not specify an array type for uniform"),En("Array.isArray("+J+") && typeof "+J+'[0]===" '+dn+'" || typeof '+J+'==="'+dn+'"',"invalid type, expected "+dn)}function zn(dn,Os,Bs){Array.isArray(J)?g(J.length&&J.length%dn===0&&J.length<=dn*Bs,"must have length of "+(Bs===1?"":"n * ")+dn):En(C.isArrayLike+"("+J+")&&"+J+".length && "+J+".length % "+dn+" === 0 && "+J+".length<="+dn*Bs,"invalid vector, should have length of "+(Bs===1?"":"n * ")+dn,y.commandStr)}function Am(dn){g(!Array.isArray(J),"must not specify a value type"),En("typeof "+J+'==="function"&&'+J+'._reglType==="texture'+(dn===fm?"2d":"Cube")+'"',"invalid texture type",y.commandStr)}switch(Y){case yc:yi("number",Z);break;case Ps:zn(2,"number",Z);break;case Ls:zn(3,"number",Z);break;case zs:zn(4,"number",Z);break;case gc:yi("number",Z);break;case Cs:zn(2,"number",Z);break;case Ns:zn(3,"number",Z);break;case Fs:zn(4,"number",Z);break;case xc:yi("boolean",Z);break;case Is:zn(2,"boolean",Z);break;case Ms:zn(3,"boolean",Z);break;case Rs:zn(4,"boolean",Z);break;case qo:zn(4,"number",Z);break;case Qo:zn(9,"number",Z);break;case Ko:zn(16,"number",Z);break;case Zo:Am(fm);break;case Jo:Am(vS);break}});var ut=1;switch(Y){case Zo:case Jo:var Wt=p.def(J,"._texture");p(P,".uniform1i(",Ne,",",Wt,".bind());"),p.exit(Wt,".unbind();");continue;case yc:case xc:E="1i";break;case Ps:case Is:E="2i",ut=2;break;case Ls:case Ms:E="3i",ut=3;break;case zs:case Rs:E="4i",ut=4;break;case gc:E="1f";break;case Cs:E="2f",ut=2;break;case Ns:E="3f",ut=3;break;case Fs:E="4f",ut=4;break;case qo:E="Matrix2fv";break;case Qo:E="Matrix3fv";break;case Ko:E="Matrix4fv";break}if(E.indexOf("Matrix")===-1&&Z>1&&(E+="v",ut=1),E.charAt(0)==="M"){p(P,".uniform",E,"(",Ne,",");var vi=Math.pow(Y-qo+2,2),pr=y.global.def("new Float32Array(",vi,")");Array.isArray(J)?p("false,(",Sn(vi,function(En){return pr+"["+En+"]="+J[En]}),",",pr,")"):p("false,(Array.isArray(",J,")||",J," instanceof Float32Array)?",J,":(",Sn(vi,function(En){return pr+"["+En+"]="+J+"["+En+"]"}),",",pr,")"),p(");")}else if(ut>1){for(var ir=[],Ir=[],gi=0;gi<ut;++gi)Array.isArray(J)?Ir.push(J[gi]):Ir.push(p.def(J+"["+gi+"]")),N&&ir.push(p.def());N&&p("if(!",y.batchId,"||",ir.map(function(En,yi){return En+"!=="+Ir[yi]}).join("||"),"){",ir.map(function(En,yi){return En+"="+Ir[yi]+";"}).join("")),p(P,".uniform",E,"(",Ne,",",Ir.join(","),");"),N&&p("}")}else{if(g(!Array.isArray(J),"uniform value must not be an array"),N){var km=p.def();p("if(!",y.batchId,"||",km,"!==",J,"){",km,"=",J,";")}p(P,".uniform",E,"(",Ne,",",J,");"),N&&p("}")}}}function Ve(y,p,A,L){var I=y.shared,N=I.gl,C=I.draw,P=L.draw;function x(){var Ie=P.elements,Le,Ue=p;return Ie?((Ie.contextDep&&L.contextDynamic||Ie.propDep)&&(Ue=A),Le=Ie.append(y,Ue),P.elementsActive&&Ue("if("+Le+")"+N+".bindBuffer("+vc+","+Le+".buffer.buffer);")):(Le=Ue.def(),Ue(Le,"=",C,".",fi,";","if(",Le,"){",N,".bindBuffer(",vc,",",Le,".buffer.buffer);}","else if(",I.vao,".currentVAO){",Le,"=",y.shared.elements+".getElements("+I.vao,".currentVAO.elements);",te?"":"if("+Le+")"+N+".bindBuffer("+vc+","+Le+".buffer.buffer);","}")),Le}function E(){var Ie=P.count,Le,Ue=p;return Ie?((Ie.contextDep&&L.contextDynamic||Ie.propDep)&&(Ue=A),Le=Ie.append(y,Ue),g.optional(function(){Ie.MISSING&&y.assert(p,"false","missing vertex count"),Ie.DYNAMIC&&y.assert(Ue,Le+">=0","missing vertex count")})):(Le=Ue.def(C,".",hi),g.optional(function(){y.assert(Ue,Le+">=0","missing vertex count")})),Le}var S=x();function D(Ie){var Le=P[Ie];return Le?Le.contextDep&&L.contextDynamic||Le.propDep?Le.append(y,A):Le.append(y,p):p.def(C,".",Ie)}var M=D(di),Y=D(ks),Z=E();if(typeof Z=="number"){if(Z===0)return}else A("if(",Z,"){"),A.exit("}");var ve,He;ae&&(ve=D(As),He=y.instancing);var Re=S+".type",Ne=P.elements&&zr(P.elements)&&!P.vaoActive;function J(){function Ie(){A(He,".drawElementsInstancedANGLE(",[M,Z,Re,Y+"<<(("+Re+"-"+Up+")>>1)",ve],");")}function Le(){A(He,".drawArraysInstancedANGLE(",[M,Y,Z,ve],");")}S&&S!=="null"?Ne?Ie():(A("if(",S,"){"),Ie(),A("}else{"),Le(),A("}")):Le()}function X(){function Ie(){A(N+".drawElements("+[M,Z,Re,Y+"<<(("+Re+"-"+Up+")>>1)"]+");")}function Le(){A(N+".drawArrays("+[M,Y,Z]+");")}S&&S!=="null"?Ne?Ie():(A("if(",S,"){"),Ie(),A("}else{"),Le(),A("}")):Le()}ae&&(typeof ve!="number"||ve>=0)?typeof ve=="string"?(A("if(",ve,">0){"),J(),A("}else if(",ve,"<0){"),X(),A("}")):J():X()}function et(y,p,A,L,I){var N=We(),C=N.proc("body",I);return g.optional(function(){N.commandStr=p.commandStr,N.command=N.link(p.commandStr)}),ae&&(N.instancing=C.def(N.shared.extensions,".angle_instanced_arrays")),y(N,C,A,L),N.compile().body}function rt(y,p,A,L){wt(y,p),A.useVAO?A.drawVAO?p(y.shared.vao,".setVAO(",A.drawVAO.append(y,p),");"):p(y.shared.vao,".setVAO(",y.shared.vao,".targetVAO);"):(p(y.shared.vao,".setVAO(null);"),Ht(y,p,A,L.attributes,function(){return!0})),st(y,p,A,L.uniforms,function(){return!0},!1),Ve(y,p,p,A)}function Et(y,p){var A=y.proc("draw",1);wt(y,A),Lt(y,A,p.context),zt(y,A,p.framebuffer),Ot(y,A,p),Ut(y,A,p.state),Qe(y,A,p,!1,!0);var L=p.shader.progVar.append(y,A);if(A(y.shared.gl,".useProgram(",L,".program);"),p.shader.program)rt(y,A,p,p.shader.program);else{A(y.shared.vao,".setVAO(null);");var I=y.global.def("{}"),N=A.def(L,".id"),C=A.def(I,"[",N,"]");A(y.cond(C).then(C,".call(this,a0);").else(C,"=",I,"[",N,"]=",y.link(function(P){return et(rt,y,p,P,1)}),"(",L,");",C,".call(this,a0);"))}Object.keys(p.state).length>0&&A(y.shared.current,".dirty=true;"),y.shared.vao&&A(y.shared.vao,".setVAO(null);")}function rr(y,p,A,L){y.batchId="a1",wt(y,p);function I(){return!0}Ht(y,p,A,L.attributes,I),st(y,p,A,L.uniforms,I,!1),Ve(y,p,p,A)}function mi(y,p,A,L){wt(y,p);var I=A.contextDep,N=p.def(),C="a0",P="a1",x=p.def();y.shared.props=x,y.batchId=N;var E=y.scope(),S=y.scope();p(E.entry,"for(",N,"=0;",N,"<",P,";++",N,"){",x,"=",C,"[",N,"];",S,"}",E.exit);function D(Re){return Re.contextDep&&I||Re.propDep}function M(Re){return!D(Re)}if(A.needsContext&&Lt(y,S,A.context),A.needsFramebuffer&&zt(y,S,A.framebuffer),Ut(y,S,A.state,D),A.profile&&D(A.profile)&&Qe(y,S,A,!1,!0),L)A.useVAO?A.drawVAO?D(A.drawVAO)?S(y.shared.vao,".setVAO(",A.drawVAO.append(y,S),");"):E(y.shared.vao,".setVAO(",A.drawVAO.append(y,E),");"):E(y.shared.vao,".setVAO(",y.shared.vao,".targetVAO);"):(E(y.shared.vao,".setVAO(null);"),Ht(y,E,A,L.attributes,M),Ht(y,S,A,L.attributes,D)),st(y,E,A,L.uniforms,M,!1),st(y,S,A,L.uniforms,D,!0),Ve(y,E,S,A);else{var Y=y.global.def("{}"),Z=A.shader.progVar.append(y,S),ve=S.def(Z,".id"),He=S.def(Y,"[",ve,"]");S(y.shared.gl,".useProgram(",Z,".program);","if(!",He,"){",He,"=",Y,"[",ve,"]=",y.link(function(Re){return et(rr,y,A,Re,2)}),"(",Z,");}",He,".call(this,a0[",N,"],",N,");")}}function w(y,p){var A=y.proc("batch",2);y.batchId="0",wt(y,A);var L=!1,I=!0;Object.keys(p.context).forEach(function(Y){L=L||p.context[Y].propDep}),L||(Lt(y,A,p.context),I=!1);var N=p.framebuffer,C=!1;N?(N.propDep?L=C=!0:N.contextDep&&L&&(C=!0),C||zt(y,A,N)):zt(y,A,null),p.state.viewport&&p.state.viewport.propDep&&(L=!0);function P(Y){return Y.contextDep&&L||Y.propDep}Ot(y,A,p),Ut(y,A,p.state,function(Y){return!P(Y)}),(!p.profile||!P(p.profile))&&Qe(y,A,p,!1,"a1"),p.contextDep=L,p.needsContext=I,p.needsFramebuffer=C;var x=p.shader.progVar;if(x.contextDep&&L||x.propDep)mi(y,A,p,null);else{var E=x.append(y,A);if(A(y.shared.gl,".useProgram(",E,".program);"),p.shader.program)mi(y,A,p,p.shader.program);else{A(y.shared.vao,".setVAO(null);");var S=y.global.def("{}"),D=A.def(E,".id"),M=A.def(S,"[",D,"]");A(y.cond(M).then(M,".call(this,a0,a1);").else(M,"=",S,"[",D,"]=",y.link(function(Y){return et(mi,y,p,Y,2)}),"(",E,");",M,".call(this,a0,a1);"))}}Object.keys(p.state).length>0&&A(y.shared.current,".dirty=true;"),y.shared.vao&&A(y.shared.vao,".setVAO(null);")}function j(y,p){var A=y.proc("scope",3);y.batchId="a2";var L=y.shared,I=L.current;Lt(y,A,p.context),p.framebuffer&&p.framebuffer.append(y,A),xm(Object.keys(p.state)).forEach(function(C){var P=p.state[C],x=P.append(y,A);mt(x)?x.forEach(function(E,S){A.set(y.next[C],"["+S+"]",E)}):A.set(L.next,"."+C,x)}),Qe(y,A,p,!0,!0),[fi,ks,hi,As,di].forEach(function(C){var P=p.draw[C];P&&A.set(L.draw,"."+C,""+P.append(y,A))}),Object.keys(p.uniforms).forEach(function(C){var P=p.uniforms[C].append(y,A);Array.isArray(P)&&(P="["+P.join()+"]"),A.set(L.uniforms,"["+v.id(C)+"]",P)}),Object.keys(p.attributes).forEach(function(C){var P=p.attributes[C].append(y,A),x=y.scopeAttrib(C);Object.keys(new z).forEach(function(E){A.set(x,"."+E,P[E])})}),p.scopeVAO&&A.set(L.vao,".targetVAO",p.scopeVAO.append(y,A));function N(C){var P=p.shader[C];P&&A.set(L.shader,"."+C,P.append(y,A))}N(Wo),N(Xo),Object.keys(p.state).length>0&&(A(I,".dirty=true;"),A.exit(I,".dirty=true;")),A("a1(",y.shared.context,",a0,",y.batchId,");")}function O(y){if(!(typeof y!="object"||mt(y))){for(var p=Object.keys(y),A=0;A<p.length;++A)if(_n.isDynamic(y[p[A]]))return!0;return!1}}function Fe(y,p,A){var L=p.static[A];if(!L||!O(L))return;var I=y.global,N=Object.keys(L),C=!1,P=!1,x=!1,E=y.global.def("{}");N.forEach(function(D){var M=L[D];if(_n.isDynamic(M)){typeof M=="function"&&(M=L[D]=_n.unbox(M));var Y=fn(M,null);C=C||Y.thisDep,x=x||Y.propDep,P=P||Y.contextDep}else{switch(I(E,".",D,"="),typeof M){case"number":I(M);break;case"string":I('"',M,'"');break;case"object":Array.isArray(M)&&I("[",M.join(),"]");break;default:I(y.link(M));break}I(";")}});function S(D,M){N.forEach(function(Y){var Z=L[Y];if(_n.isDynamic(Z)){var ve=D.invoke(M,Z);M(E,".",Y,"=",ve,";")}})}p.dynamic[A]=new _n.DynamicVariable(Ts,{thisDep:C,contextDep:P,propDep:x,ref:E,append:S}),delete p.static[A]}function Ze(y,p,A,L,I){var N=We();N.stats=N.link(I),Object.keys(p.static).forEach(function(P){Fe(N,p,P)}),hS.forEach(function(P){Fe(N,y,P)});var C=Nt(y,p,A,L,N);return Et(N,C),j(N,C),w(N,C),r(N.compile(),{destroy:function(){C.shader.program.destroy()}})}return{next:Se,current:Te,procs:function(){var y=We(),p=y.proc("poll"),A=y.proc("refresh"),L=y.block();p(L),A(L);var I=y.shared,N=I.gl,C=I.next,P=I.current;L(P,".dirty=false;"),zt(y,p),zt(y,A,null,!0);var x;ae&&(x=y.link(ae)),T.oes_vertex_array_object&&A(y.link(T.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var E=0;E<G.maxAttributes;++E){var S=A.def(I.attributes,"[",E,"]"),D=y.cond(S,".buffer");D.then(N,".enableVertexAttribArray(",E,");",N,".bindBuffer(",Zi,",",S,".buffer.buffer);",N,".vertexAttribPointer(",E,",",S,".size,",S,".type,",S,".normalized,",S,".stride,",S,".offset);").else(N,".disableVertexAttribArray(",E,");",N,".vertexAttrib4f(",E,",",S,".x,",S,".y,",S,".z,",S,".w);",S,".buffer=null;"),A(D),ae&&A(x,".vertexAttribDivisorANGLE(",E,",",S,".divisor);")}return A(y.shared.vao,".currentVAO=null;",y.shared.vao,".setVAO(",y.shared.vao,".targetVAO);"),Object.keys(K).forEach(function(M){var Y=K[M],Z=L.def(C,".",M),ve=y.block();ve("if(",Z,"){",N,".enable(",Y,")}else{",N,".disable(",Y,")}",P,".",M,"=",Z,";"),A(ve),p("if(",Z,"!==",P,".",M,"){",ve,"}")}),Object.keys(q).forEach(function(M){var Y=q[M],Z=Te[M],ve,He,Re=y.block();if(Re(N,".",Y,"("),mt(Z)){var Ne=Z.length;ve=y.global.def(C,".",M),He=y.global.def(P,".",M),Re(Sn(Ne,function(J){return ve+"["+J+"]"}),");",Sn(Ne,function(J){return He+"["+J+"]="+ve+"["+J+"];"}).join("")),p("if(",Sn(Ne,function(J){return ve+"["+J+"]!=="+He+"["+J+"]"}).join("||"),"){",Re,"}")}else ve=L.def(C,".",M),He=L.def(P,".",M),Re(ve,");",P,".",M,"=",ve,";"),p("if(",ve,"!==",He,"){",Re,"}");A(Re)}),y.compile()}(),compile:Ze}}function LS(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var zS=34918,IS=34919,Sm=35007,MS=function(c,v){if(!v.ext_disjoint_timer_query)return null;var T=[];function G(){return T.pop()||v.ext_disjoint_timer_query.createQueryEXT()}function Q(ae){T.push(ae)}var B=[];function U(ae){var Ce=G();v.ext_disjoint_timer_query.beginQueryEXT(Sm,Ce),B.push(Ce),ie(B.length-1,B.length,ae)}function re(){v.ext_disjoint_timer_query.endQueryEXT(Sm)}function ne(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var ue=[];function fe(){return ue.pop()||new ne}function ce(ae){ue.push(ae)}var ge=[];function ie(ae,Ce,te){var Te=fe();Te.startQueryIndex=ae,Te.endQueryIndex=Ce,Te.sum=0,Te.stats=te,ge.push(Te)}var le=[],z=[];function $(){var ae,Ce,te=B.length;if(te!==0){z.length=Math.max(z.length,te+1),le.length=Math.max(le.length,te+1),le[0]=0,z[0]=0;var Te=0;for(ae=0,Ce=0;Ce<B.length;++Ce){var Se=B[Ce];v.ext_disjoint_timer_query.getQueryObjectEXT(Se,IS)?(Te+=v.ext_disjoint_timer_query.getQueryObjectEXT(Se,zS),Q(Se)):B[ae++]=Se,le[Ce+1]=Te,z[Ce+1]=ae}for(B.length=ae,ae=0,Ce=0;Ce<ge.length;++Ce){var Oe=ge[Ce],K=Oe.startQueryIndex,q=Oe.endQueryIndex;Oe.sum+=le[q]-le[K];var Pe=z[K],ye=z[q];ye===Pe?(Oe.stats.gpuTime+=Oe.sum/1e6,ce(Oe)):(Oe.startQueryIndex=Pe,Oe.endQueryIndex=ye,ge[ae++]=Oe)}ge.length=ae}}return{beginQuery:U,endQuery:re,pushScopeStats:ie,update:$,getNumPendingQueries:function(){return B.length},clear:function(){T.push.apply(T,B);for(var ae=0;ae<T.length;ae++)v.ext_disjoint_timer_query.deleteQueryEXT(T[ae]);B.length=0,T.length=0},restore:function(){B.length=0,T.length=0}}},RS=16384,DS=256,OS=1024,BS=34962,wm="webglcontextlost",Em="webglcontextrestored",Tm=1,GS=2,jS=3;function bm(c,v){for(var T=0;T<c.length;++T)if(c[T]===v)return T;return-1}function VS(c){var v=G1(c);if(!v)return null;var T=v.gl,G=T.getContextAttributes(),Q=T.isContextLost(),B=j1(T,v);if(!B)return null;var U=M1(),re=LS(),ne=B.extensions,ue=MS(T,ne),fe=zh(),ce=T.drawingBufferWidth,ge=T.drawingBufferHeight,ie={tick:0,time:0,viewportWidth:ce,viewportHeight:ge,framebufferWidth:ce,framebufferHeight:ge,drawingBufferWidth:ce,drawingBufferHeight:ge,pixelRatio:v.pixelRatio},le={},z={elements:null,primitive:4,count:-1,offset:0,instances:-1},$=Cx(T,ne),ae=Ux(T,re,v,Te),Ce=n_(T,ne,ae,re),te=nS(T,ne,$,re,ae,Ce,z);function Te(Ve){return te.destroyBuffer(Ve)}var Se=aS(T,U,re,v),Oe=z_(T,ne,$,function(){Pe.procs.poll()},ie,re,v),K=I_(T,ne,$,re,v),q=eS(T,ne,$,Oe,K,re),Pe=PS(T,U,ne,$,ae,Ce,Oe,q,le,te,Se,z,ie,ue,v),ye=uS(T,q,Pe.procs.poll,ie,G,ne,$),oe=Pe.next,xe=T.canvas,_e=[],Xe=[],We=[],we=[v.onDestroy],ke=null;function $e(){if(_e.length===0){ue&&ue.update(),ke=null;return}ke=ku.next($e),Ut();for(var Ve=_e.length-1;Ve>=0;--Ve){var et=_e[Ve];et&&et(ie,null,0)}T.flush(),ue&&ue.update()}function Ye(){!ke&&_e.length>0&&(ke=ku.next($e))}function Je(){ke&&(ku.cancel($e),ke=null)}function vt(Ve){Ve.preventDefault(),Q=!0,Je(),Xe.forEach(function(et){et()})}function yt(Ve){T.getError(),Q=!1,B.restore(),Se.restore(),ae.restore(),Oe.restore(),K.restore(),q.restore(),te.restore(),ue&&ue.restore(),Pe.procs.refresh(),Ye(),We.forEach(function(et){et()})}xe&&(xe.addEventListener(wm,vt,!1),xe.addEventListener(Em,yt,!1));function tt(){_e.length=0,Je(),xe&&(xe.removeEventListener(wm,vt),xe.removeEventListener(Em,yt)),Se.clear(),q.clear(),K.clear(),te.clear(),Oe.clear(),Ce.clear(),ae.clear(),ue&&ue.clear(),we.forEach(function(Ve){Ve()})}function Pt(Ve){g(!!Ve,"invalid args to regl({...})"),g.type(Ve,"object","invalid args to regl({...})");function et(I){var N=r({},I);delete N.uniforms,delete N.attributes,delete N.context,delete N.vao,"stencil"in N&&N.stencil.op&&(N.stencil.opBack=N.stencil.opFront=N.stencil.op,delete N.stencil.op);function C(P){if(P in N){var x=N[P];delete N[P],Object.keys(x).forEach(function(E){N[P+"."+E]=x[E]})}}return C("blend"),C("depth"),C("cull"),C("stencil"),C("polygonOffset"),C("scissor"),C("sample"),"vao"in I&&(N.vao=I.vao),N}function rt(I,N){var C={},P={};return Object.keys(I).forEach(function(x){var E=I[x];if(_n.isDynamic(E)){P[x]=_n.unbox(E,x);return}else if(N&&Array.isArray(E)){for(var S=0;S<E.length;++S)if(_n.isDynamic(E[S])){P[x]=_n.unbox(E,x);return}}C[x]=E}),{dynamic:P,static:C}}var Et=rt(Ve.context||{},!0),rr=rt(Ve.uniforms||{},!0),mi=rt(Ve.attributes||{},!1),w=rt(et(Ve),!1),j={gpuTime:0,cpuTime:0,count:0},O=Pe.compile(w,mi,rr,Et,j),Fe=O.draw,Ze=O.batch,y=O.scope,p=[];function A(I){for(;p.length<I;)p.push(null);return p}function L(I,N){var C;if(Q&&g.raise("context lost"),typeof I=="function")return y.call(this,null,I,0);if(typeof N=="function")if(typeof I=="number")for(C=0;C<I;++C)y.call(this,null,N,C);else if(Array.isArray(I))for(C=0;C<I.length;++C)y.call(this,I[C],N,C);else return y.call(this,I,N,0);else if(typeof I=="number"){if(I>0)return Ze.call(this,A(I|0),I|0)}else if(Array.isArray(I)){if(I.length)return Ze.call(this,I,I.length)}else return Fe.call(this,I)}return r(L,{stats:j,destroy:function(){O.destroy()}})}var ht=q.setFBO=Pt({framebuffer:_n.define.call(null,Tm,"framebuffer")});function Nt(Ve,et){var rt=0;Pe.procs.poll();var Et=et.color;Et&&(T.clearColor(+Et[0]||0,+Et[1]||0,+Et[2]||0,+Et[3]||0),rt|=RS),"depth"in et&&(T.clearDepth(+et.depth),rt|=DS),"stencil"in et&&(T.clearStencil(et.stencil|0),rt|=OS),g(!!rt,"called regl.clear with no buffer specified"),T.clear(rt)}function Lt(Ve){if(g(typeof Ve=="object"&&Ve,"regl.clear() takes an object as input"),"framebuffer"in Ve)if(Ve.framebuffer&&Ve.framebuffer_reglType==="framebufferCube")for(var et=0;et<6;++et)ht(r({framebuffer:Ve.framebuffer.faces[et]},Ve),Nt);else ht(Ve,Nt);else Nt(null,Ve)}function zt(Ve){g.type(Ve,"function","regl.frame() callback must be a function"),_e.push(Ve);function et(){var rt=bm(_e,Ve);g(rt>=0,"cannot cancel a frame twice");function Et(){var rr=bm(_e,Et);_e[rr]=_e[_e.length-1],_e.length-=1,_e.length<=0&&Je()}_e[rt]=Et}return Ye(),{cancel:et}}function Ot(){var Ve=oe.viewport,et=oe.scissor_box;Ve[0]=Ve[1]=et[0]=et[1]=0,ie.viewportWidth=ie.framebufferWidth=ie.drawingBufferWidth=Ve[2]=et[2]=T.drawingBufferWidth,ie.viewportHeight=ie.framebufferHeight=ie.drawingBufferHeight=Ve[3]=et[3]=T.drawingBufferHeight}function Ut(){ie.tick+=1,ie.time=Qe(),Ot(),Pe.procs.poll()}function wt(){Oe.refresh(),Ot(),Pe.procs.refresh(),ue&&ue.update()}function Qe(){return(zh()-fe)/1e3}wt();function Ht(Ve,et){g.type(et,"function","listener callback must be a function");var rt;switch(Ve){case"frame":return zt(et);case"lost":rt=Xe;break;case"restore":rt=We;break;case"destroy":rt=we;break;default:g.raise("invalid event, must be one of frame,lost,restore,destroy")}return rt.push(et),{cancel:function(){for(var Et=0;Et<rt.length;++Et)if(rt[Et]===et){rt[Et]=rt[rt.length-1],rt.pop();return}}}}var st=r(Pt,{clear:Lt,prop:_n.define.bind(null,Tm),context:_n.define.bind(null,GS),this:_n.define.bind(null,jS),draw:Pt({}),buffer:function(Ve){return ae.create(Ve,BS,!1,!1)},elements:function(Ve){return Ce.create(Ve,!1)},texture:Oe.create2D,cube:Oe.createCube,renderbuffer:K.create,framebuffer:q.create,framebufferCube:q.createCube,vao:te.createVAO,attributes:G,frame:zt,on:Ht,limits:$,hasExtension:function(Ve){return $.extensions.indexOf(Ve.toLowerCase())>=0},read:ye,destroy:tt,_gl:T,_refresh:wt,poll:function(){Ut(),ue&&ue.update()},now:Qe,stats:re});return v.onDone(null,st),st}return VS})})(c1);var lC=c1.exports;const uC=dd(lC);var cv=typeof Float32Array<"u"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});function cC(){var e=new cv(9);return cv!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function fv(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],u=t[6],h=t[7],f=t[8],d=n[0],m=n[1];return e[0]=r,e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=d*r+m*a+u,e[7]=d*i+m*s+h,e[8]=d*o+m*l+f,e}function rf(e,t,n){var r=n[0],i=n[1];return e[0]=r*t[0],e[1]=r*t[1],e[2]=r*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function fC(e,t,n){return e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/n,e[5]=0,e[6]=-1,e[7]=1,e[8]=1,e}var gh={exports:{}};gh.exports;(function(e){(function(t,n,r){function i(l){var u=this,h=s();u.next=function(){var f=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=f-(u.c=f|0)},u.c=1,u.s0=h(" "),u.s1=h(" "),u.s2=h(" "),u.s0-=h(l),u.s0<0&&(u.s0+=1),u.s1-=h(l),u.s1<0&&(u.s1+=1),u.s2-=h(l),u.s2<0&&(u.s2+=1),h=null}function o(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function a(l,u){var h=new i(l),f=u&&u.state,d=h.next;return d.int32=function(){return h.next()*4294967296|0},d.double=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.quick=d,f&&(typeof f=="object"&&o(f,h),d.state=function(){return o(h,{})}),d}function s(){var l=4022871197,u=function(h){h=String(h);for(var f=0;f<h.length;f++){l+=h.charCodeAt(f);var d=.02519603282416938*l;l=d>>>0,d-=l,d*=l,l=d>>>0,d-=l,l+=d*4294967296}return(l>>>0)*23283064365386963e-26};return u}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.alea=a})(Jr,e,!1)})(gh);var dC=gh.exports,yh={exports:{}};yh.exports;(function(e){(function(t,n,r){function i(s){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var f=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^f^f>>>8},s===(s|0)?l.x=s:u+=s;for(var h=0;h<u.length+64;h++)l.x^=u.charCodeAt(h)|0,l.next()}function o(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l}function a(s,l){var u=new i(s),h=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,m=(u.next()>>>0)/4294967296,k=(d+m)/(1<<21);while(k===0);return k},f.int32=u.next,f.quick=f,h&&(typeof h=="object"&&o(h,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.xor128=a})(Jr,e,!1)})(yh);var hC=yh.exports,xh={exports:{}};xh.exports;(function(e){(function(t,n,r){function i(s){var l=this,u="";l.next=function(){var f=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(f^f<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,s===(s|0)?l.x=s:u+=s;for(var h=0;h<u.length+64;h++)l.x^=u.charCodeAt(h)|0,h==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function o(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l.v=s.v,l.d=s.d,l}function a(s,l){var u=new i(s),h=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,m=(u.next()>>>0)/4294967296,k=(d+m)/(1<<21);while(k===0);return k},f.int32=u.next,f.quick=f,h&&(typeof h=="object"&&o(h,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.xorwow=a})(Jr,e,!1)})(xh);var pC=xh.exports,_h={exports:{}};_h.exports;(function(e){(function(t,n,r){function i(s){var l=this;l.next=function(){var h=l.x,f=l.i,d,m;return d=h[f],d^=d>>>7,m=d^d<<24,d=h[f+1&7],m^=d^d>>>10,d=h[f+3&7],m^=d^d>>>3,d=h[f+4&7],m^=d^d<<7,d=h[f+7&7],d=d^d<<13,m^=d^d<<9,h[f]=m,l.i=f+1&7,m};function u(h,f){var d,m=[];if(f===(f|0))m[0]=f;else for(f=""+f,d=0;d<f.length;++d)m[d&7]=m[d&7]<<15^f.charCodeAt(d)+m[d+1&7]<<13;for(;m.length<8;)m.push(0);for(d=0;d<8&&m[d]===0;++d);for(d==8?m[7]=-1:m[d],h.x=m,h.i=0,d=256;d>0;--d)h.next()}u(l,s)}function o(s,l){return l.x=s.x.slice(),l.i=s.i,l}function a(s,l){s==null&&(s=+new Date);var u=new i(s),h=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,m=(u.next()>>>0)/4294967296,k=(d+m)/(1<<21);while(k===0);return k},f.int32=u.next,f.quick=f,h&&(h.x&&o(h,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.xorshift7=a})(Jr,e,!1)})(_h);var mC=_h.exports,Sh={exports:{}};Sh.exports;(function(e){(function(t,n,r){function i(s){var l=this;l.next=function(){var h=l.w,f=l.X,d=l.i,m,k;return l.w=h=h+1640531527|0,k=f[d+34&127],m=f[d=d+1&127],k^=k<<13,m^=m<<17,k^=k>>>15,m^=m>>>12,k=f[d]=k^m,l.i=d,k+(h^h>>>16)|0};function u(h,f){var d,m,k,R,de,_=[],b=128;for(f===(f|0)?(m=f,f=null):(f=f+"\0",m=0,b=Math.max(b,f.length)),k=0,R=-32;R<b;++R)f&&(m^=f.charCodeAt((R+32)%f.length)),R===0&&(de=m),m^=m<<10,m^=m>>>15,m^=m<<4,m^=m>>>13,R>=0&&(de=de+1640531527|0,d=_[R&127]^=m+de,k=d==0?k+1:0);for(k>=128&&(_[(f&&f.length||0)&127]=-1),k=127,R=4*128;R>0;--R)m=_[k+34&127],d=_[k=k+1&127],m^=m<<13,d^=d<<17,m^=m>>>15,d^=d>>>12,_[k]=m^d;h.w=de,h.X=_,h.i=k}u(l,s)}function o(s,l){return l.i=s.i,l.w=s.w,l.X=s.X.slice(),l}function a(s,l){s==null&&(s=+new Date);var u=new i(s),h=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,m=(u.next()>>>0)/4294967296,k=(d+m)/(1<<21);while(k===0);return k},f.int32=u.next,f.quick=f,h&&(h.X&&o(h,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.xor4096=a})(Jr,e,!1)})(Sh);var vC=Sh.exports,wh={exports:{}};wh.exports;(function(e){(function(t,n,r){function i(s){var l=this,u="";l.next=function(){var f=l.b,d=l.c,m=l.d,k=l.a;return f=f<<25^f>>>7^d,d=d-m|0,m=m<<24^m>>>8^k,k=k-f|0,l.b=f=f<<20^f>>>12^d,l.c=d=d-m|0,l.d=m<<16^d>>>16^k,l.a=k-f|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,s===Math.floor(s)?(l.a=s/4294967296|0,l.b=s|0):u+=s;for(var h=0;h<u.length+20;h++)l.b^=u.charCodeAt(h)|0,l.next()}function o(s,l){return l.a=s.a,l.b=s.b,l.c=s.c,l.d=s.d,l}function a(s,l){var u=new i(s),h=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,m=(u.next()>>>0)/4294967296,k=(d+m)/(1<<21);while(k===0);return k},f.int32=u.next,f.quick=f,h&&(typeof h=="object"&&o(h,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.tychei=a})(Jr,e,!1)})(wh);var gC=wh.exports,f1={exports:{}};const yC={},xC=Object.freeze(Object.defineProperty({__proto__:null,default:yC},Symbol.toStringTag,{value:"Module"})),_C=HS(xC);(function(e){(function(t,n,r){var i=256,o=6,a=52,s="random",l=r.pow(i,o),u=r.pow(2,a),h=u*2,f=i-1,d;function m(V,W,he){var me=[];W=W==!0?{entropy:!0}:W||{};var Ae=_(de(W.entropy?[V,F(n)]:V??b(),3),me),Ke=new k(me),je=function(){for(var De=Ke.g(o),at=l,ot=0;De<u;)De=(De+ot)*i,at*=i,ot=Ke.g(1);for(;De>=h;)De/=2,at/=2,ot>>>=1;return(De+ot)/at};return je.int32=function(){return Ke.g(4)|0},je.quick=function(){return Ke.g(4)/4294967296},je.double=je,_(F(Ke.S),n),(W.pass||he||function(De,at,ot,H){return H&&(H.S&&R(H,Ke),De.state=function(){return R(Ke,{})}),ot?(r[s]=De,at):De})(je,Ae,"global"in W?W.global:this==r,W.state)}function k(V){var W,he=V.length,me=this,Ae=0,Ke=me.i=me.j=0,je=me.S=[];for(he||(V=[he++]);Ae<i;)je[Ae]=Ae++;for(Ae=0;Ae<i;Ae++)je[Ae]=je[Ke=f&Ke+V[Ae%he]+(W=je[Ae])],je[Ke]=W;(me.g=function(De){for(var at,ot=0,H=me.i,Me=me.j,pe=me.S;De--;)at=pe[H=f&H+1],ot=ot*i+pe[f&(pe[H]=pe[Me=f&Me+at])+(pe[Me]=at)];return me.i=H,me.j=Me,ot})(i)}function R(V,W){return W.i=V.i,W.j=V.j,W.S=V.S.slice(),W}function de(V,W){var he=[],me=typeof V,Ae;if(W&&me=="object")for(Ae in V)try{he.push(de(V[Ae],W-1))}catch{}return he.length?he:me=="string"?V:V+"\0"}function _(V,W){for(var he=V+"",me,Ae=0;Ae<he.length;)W[f&Ae]=f&(me^=W[f&Ae]*19)+he.charCodeAt(Ae++);return F(W)}function b(){try{var V;return d&&(V=d.randomBytes)?V=V(i):(V=new Uint8Array(i),(t.crypto||t.msCrypto).getRandomValues(V)),F(V)}catch{var W=t.navigator,he=W&&W.plugins;return[+new Date,t,he,t.screen,F(n)]}}function F(V){return String.fromCharCode.apply(0,V)}if(_(r.random(),n),e.exports){e.exports=m;try{d=_C}catch{}}else r["seed"+s]=m})(typeof self<"u"?self:Jr,[],Math)})(f1);var SC=f1.exports,wC=dC,EC=hC,TC=pC,bC=mC,kC=vC,AC=gC,Oi=SC;Oi.alea=wC;Oi.xor128=EC;Oi.xorwow=TC;Oi.xorshift7=bC;Oi.xor4096=kC;Oi.tychei=AC;var CC=Oi;const NC=dd(CC);function dv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,PC(r.key),r)}}function Eh(e,t,n){return t&&dv(e.prototype,t),n&&dv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d1(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ud(e,t)}function ud(e,t){return ud=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ud(e,t)}function FC(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PC(e){var t=FC(e,"string");return typeof t=="symbol"?t:String(t)}var bu=function(){function e(){}var t=e.prototype;return t._seed=function(r,i){if(r===(r||0))return r;for(var o=""+r,a=0,s=0;s<o.length;++s)a^=o.charCodeAt(s)|0;return a},e}(),hv=function(e){d1(t,e);function t(r,i){var o;return o=e.call(this)||this,o._rng=void 0,o.seed(r,i),o}var n=t.prototype;return n.next=function(){return this._rng()},n.seed=function(i,o){this._rng=i},n.clone=function(i,o){return new t(this._rng,o)},Eh(t,[{key:"name",get:function(){return"function"}}]),t}(bu),pv=function(){var e=[].slice.call(arguments),t=e,n=t[0],r=n===void 0?"default":n;switch(typeof r){case"object":if(r instanceof bu)return r;break;case"function":return new hv(r);case"number":case"string":default:return new hv(NC.apply(void 0,e))}throw new Error('invalid RNG "'+r+'"')},LC=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),function(){return e.next()*(n-t)+t}};function Jn(e){return new zC(e)}var zC=function(t){var n=this;this.n=void 0,this.isInt=function(){if(Number.isInteger(n.n))return n;throw new Error("Expected number to be an integer, got "+n.n)},this.isPositive=function(){if(n.n>0)return n;throw new Error("Expected number to be positive, got "+n.n)},this.lessThan=function(r){if(n.n<r)return n;throw new Error("Expected number to be less than "+r+", got "+n.n)},this.greaterThanOrEqual=function(r){if(n.n>=r)return n;throw new Error("Expected number to be greater than or equal to "+r+", got "+n.n)},this.greaterThan=function(r){if(n.n>r)return n;throw new Error("Expected number to be greater than "+r+", got "+n.n)},this.n=t},IC=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),n===void 0&&(n=t===void 0?1:t,t=0),Jn(t).isInt(),Jn(n).isInt(),function(){return Math.floor(e.next()*(n-t+1)+t)}},MC=function(e){return function(){return e.next()>=.5}},RC=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),function(){var r,i,o;do r=e.next()*2-1,i=e.next()*2-1,o=r*r+i*i;while(!o||o>1);return t+n*i*Math.sqrt(-2*Math.log(o)/o)}},DC=function(e,t,n){t===void 0&&(t=0),n===void 0&&(n=1);var r=e.normal(t,n);return function(){return Math.exp(r())}},OC=function(e,t){return t===void 0&&(t=.5),Jn(t).greaterThanOrEqual(0).lessThan(1),function(){return Math.floor(e.next()+t)}},BC=function(e,t,n){return t===void 0&&(t=1),n===void 0&&(n=.5),Jn(t).isInt().isPositive(),Jn(n).greaterThanOrEqual(0).lessThan(1),function(){for(var r=0,i=0;r++<t;)e.next()<n&&i++;return i}},GC=function(e,t){t===void 0&&(t=.5),Jn(t).greaterThan(0).lessThan(1);var n=1/Math.log(1-t);return function(){return Math.floor(1+Math.log(e.next())*n)}},jC=[0,0,.6931471805599453,1.791759469228055,3.1780538303479458,4.787491742782046,6.579251212010101,8.525161361065415,10.60460290274525,12.801827480081469],VC=function(t){return jC[t]},$C=.9189385332046727,UC=function(e,t){if(t===void 0&&(t=1),Jn(t).isPositive(),t<10){var n=Math.exp(-t);return function(){for(var l=n,u=0,h=e.next();h>l;)h=h-l,l=t*l/++u;return u}}else{var r=Math.sqrt(t),i=.931+2.53*r,o=-.059+.02483*i,a=1.1239+1.1328/(i-3.4),s=.9277-3.6224/(i-2);return function(){for(;;){var l=void 0,u=e.next();if(u<=.86*s)return l=u/s-.43,Math.floor((2*o/(.5-Math.abs(l))+i)*l+t+.445);u>=s?l=e.next()-.5:(l=u/s-.93,l=(l<0?-.5:.5)-l,u=e.next()*s);var h=.5-Math.abs(l);if(!(h<.013&&u>h)){var f=Math.floor((2*o/h+i)*l+t+.445);if(u=u*a/(o/(h*h)+i),f>=10){var d=(f+.5)*Math.log(t/f)-t-$C+f-(.08333333333333333-(.002777777777777778-1/(1260*f*f))/(f*f))/f;if(Math.log(u*r)<=d)return f}else if(f>=0){var m,k=(m=VC(f))!=null?m:0;if(Math.log(u)<=f*Math.log(t)-t-k)return f}}}}}},HC=function(e,t){return t===void 0&&(t=1),Jn(t).isPositive(),function(){return-Math.log(1-e.next())/t}},WC=function(e,t){return t===void 0&&(t=1),Jn(t).isInt().greaterThanOrEqual(0),function(){for(var n=0,r=0;r<t;++r)n+=e.next();return n}},XC=function(e,t){t===void 0&&(t=1),Jn(t).isInt().isPositive();var n=e.irwinHall(t);return function(){return n()/t}},YC=function(e,t){t===void 0&&(t=1),Jn(t).greaterThanOrEqual(0);var n=1/t;return function(){return 1/Math.pow(1-e.next(),n)}},qC=function(e){d1(t,e);function t(){return e.apply(this,arguments)||this}var n=t.prototype;return n.next=function(){return Math.random()},n.seed=function(i,o){},n.clone=function(){return new t},Eh(t,[{key:"name",get:function(){return"default"}}]),t}(bu),h1=function(){function e(n){var r=this;this._rng=void 0,this._patch=void 0,this._cache={},this.next=function(){return r._rng.next()},this.float=function(i,o){return r.uniform(i,o)()},this.int=function(i,o){return r.uniformInt(i,o)()},this.integer=function(i,o){return r.uniformInt(i,o)()},this.bool=function(){return r.uniformBoolean()()},this.boolean=function(){return r.uniformBoolean()()},this.uniform=function(i,o){return r._memoize("uniform",LC,i,o)},this.uniformInt=function(i,o){return r._memoize("uniformInt",IC,i,o)},this.uniformBoolean=function(){return r._memoize("uniformBoolean",MC)},this.normal=function(i,o){return RC(r,i,o)},this.logNormal=function(i,o){return DC(r,i,o)},this.bernoulli=function(i){return OC(r,i)},this.binomial=function(i,o){return BC(r,i,o)},this.geometric=function(i){return GC(r,i)},this.poisson=function(i){return UC(r,i)},this.exponential=function(i){return HC(r,i)},this.irwinHall=function(i){return WC(r,i)},this.bates=function(i){return XC(r,i)},this.pareto=function(i){return YC(r,i)},n&&n instanceof bu?this.use(n):this.use(new qC),this._cache={}}var t=e.prototype;return t.clone=function(){var r=[].slice.call(arguments);return r.length?new e(pv.apply(void 0,r)):new e(this.rng.clone())},t.use=function(){this._rng=pv.apply(void 0,[].slice.call(arguments))},t.patch=function(){if(this._patch)throw new Error("Math.random already patched");this._patch=Math.random,Math.random=this.uniform()},t.unpatch=function(){this._patch&&(Math.random=this._patch,delete this._patch)},t.choice=function(r){if(!Array.isArray(r))throw new Error("Random.choice expected input to be an array, got "+typeof r);var i=r==null?void 0:r.length;if(i>0){var o=this.uniformInt(0,i-1)();return r[o]}else return},t._memoize=function(r,i){var o=[].slice.call(arguments,2),a=""+o.join(";"),s=this._cache[r];return(s===void 0||s.key!==a)&&(s={key:a,distribution:i.apply(void 0,[this].concat(o))},this._cache[r]=s),s.distribution},Eh(e,[{key:"rng",get:function(){return this._rng}}]),e}();new h1;const p1="#b3b3b3",QC=.1,m1=4,v1="#666666",KC=.1,g1=1,ZC="#222222",ft={spaceSize:4096,nodeSizeScale:1,linkWidthScale:1,arrowSizeScale:1,renderLinks:!0,arrowLinks:!0,linkVisibilityDistanceRange:[50,150],linkVisibilityMinTransparency:.25,useQuadtree:!1,simulation:{decay:1e3,gravity:0,center:0,repulsion:.1,repulsionTheta:1.7,repulsionQuadtreeLevels:12,linkSpring:1,linkDistance:2,linkDistRandomVariationRange:[1,1.2],repulsionFromMouse:2,friction:.85},showFPSMonitor:!1,pixelRatio:2,scaleNodesOnZoom:!0},JC=.7,eN=.95,mv=3,y1=e=>typeof e=="function",x1=e=>Array.isArray(e),tN=e=>e instanceof Object,nN=e=>e instanceof Object?e.constructor.name!=="Function"&&e.constructor.name!=="Object":!1,vv=e=>tN(e)&&!x1(e)&&!y1(e)&&!nN(e);function ou(e,t,n){return y1(t)?t(e,n):t}function Qa(e){var t;let n;if(x1(e))n=e;else{const r=Zr(e),i=r==null?void 0:r.rgb();n=[(i==null?void 0:i.r)||0,(i==null?void 0:i.g)||0,(i==null?void 0:i.b)||0,(t=r==null?void 0:r.opacity)!==null&&t!==void 0?t:1]}return[n[0]/255,n[1]/255,n[2]/255,n[3]]}function wi(e,t){let n=new Float32Array;return e({framebuffer:t})(()=>{n=e.read()}),n}function rN(e,t,n){return Math.min(Math.max(e,t),n)}class iN{constructor(){this.backgroundColor=ZC,this.spaceSize=ft.spaceSize,this.nodeColor=p1,this.nodeGreyoutOpacity=QC,this.nodeSize=m1,this.nodeSizeScale=ft.nodeSizeScale,this.renderHighlightedNodeRing=!0,this.highlightedNodeRingColor=void 0,this.linkColor=v1,this.linkGreyoutOpacity=KC,this.linkWidth=g1,this.linkWidthScale=ft.linkWidthScale,this.renderLinks=ft.renderLinks,this.linkArrows=ft.arrowLinks,this.linkArrowsSizeScale=ft.arrowSizeScale,this.linkVisibilityDistanceRange=ft.linkVisibilityDistanceRange,this.linkVisibilityMinTransparency=ft.linkVisibilityMinTransparency,this.useQuadtree=ft.useQuadtree,this.simulation={decay:ft.simulation.decay,gravity:ft.simulation.gravity,center:ft.simulation.center,repulsion:ft.simulation.repulsion,repulsionTheta:ft.simulation.repulsionTheta,repulsionQuadtreeLevels:ft.simulation.repulsionQuadtreeLevels,linkSpring:ft.simulation.linkSpring,linkDistance:ft.simulation.linkDistance,linkDistRandomVariationRange:ft.simulation.linkDistRandomVariationRange,repulsionFromMouse:ft.simulation.repulsionFromMouse,friction:ft.simulation.friction,onStart:void 0,onTick:void 0,onEnd:void 0,onPause:void 0,onRestart:void 0},this.events={onClick:void 0,onMouseMove:void 0,onNodeMouseOver:void 0,onNodeMouseOut:void 0,onZoomStart:void 0,onZoom:void 0,onZoomEnd:void 0},this.showFPSMonitor=ft.showFPSMonitor,this.pixelRatio=ft.pixelRatio,this.scaleNodesOnZoom=ft.scaleNodesOnZoom,this.randomSeed=void 0}init(t){Object.keys(t).forEach(n=>{this.deepMergeConfig(this.getConfig(),t,n)})}deepMergeConfig(t,n,r){vv(t[r])&&vv(n[r])?Object.keys(n[r]).forEach(i=>{this.deepMergeConfig(t[r],n[r],i)}):t[r]=n[r]}getConfig(){return this}}class ri{constructor(t,n,r,i,o){this.reglInstance=t,this.config=n,this.store=r,this.data=i,o&&(this.points=o)}}var oN=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
varying vec4 rgba;void main(){gl_FragColor=rgba;}`,aN=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform float pointsTextureSize;attribute vec2 indexes;varying vec4 rgba;void main(){vec4 pointPosition=texture2D(position,indexes/pointsTextureSize);rgba=vec4(pointPosition.xy,1.0,0.0);gl_Position=vec4(0.0,0.0,0.0,1.0);gl_PointSize=1.0;}`,sN=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform sampler2D centermass;uniform float center;uniform float alpha;varying vec2 index;void main(){vec4 pointPosition=texture2D(position,index);vec4 velocity=vec4(0.0);vec4 centermassValues=texture2D(centermass,vec2(0.0));vec2 centermassPosition=centermassValues.xy/centermassValues.b;vec2 distVector=centermassPosition-pointPosition.xy;float dist=sqrt(dot(distVector,distVector));if(dist>0.0){float angle=atan(distVector.y,distVector.x);float addV=alpha*center*dist*0.01;velocity.rg+=addV*vec2(cos(angle),sin(angle));}gl_FragColor=velocity;}`;function rn(e){return{buffer:e.buffer(new Float32Array([-1,-1,1,-1,-1,1,1,1])),size:2}}function Ka(e,t){const n=new Float32Array(t*t*2);for(let i=0;i<t;i++)for(let o=0;o<t;o++){const a=i*t*2+o*2;n[a+0]=o,n[a+1]=i}return{buffer:e.buffer(n),size:2}}var Za=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
varying vec2 index;void main(){gl_FragColor=vec4(0.0);}`,sn=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
attribute vec2 quad;varying vec2 index;void main(){index=(quad+1.0)/2.0;gl_Position=vec4(quad,0,1);}`;class lN extends ri{create(){const{reglInstance:t}=this;this.centermassFbo=t.framebuffer({color:t.texture({data:new Float32Array(4).fill(0),shape:[1,1,4],type:"float"}),depth:!1,stencil:!1})}initPrograms(){const{reglInstance:t,config:n,store:r,data:i,points:o}=this;this.clearCentermassCommand=t({frag:Za,vert:sn,framebuffer:this.centermassFbo,primitive:"triangle strip",count:4,attributes:{quad:rn(t)}}),this.calculateCentermassCommand=t({frag:oN,vert:aN,framebuffer:()=>this.centermassFbo,primitive:"points",count:()=>i.nodes.length,attributes:{indexes:Ka(t,r.pointsTextureSize)},uniforms:{position:()=>o==null?void 0:o.previousPositionFbo,pointsTextureSize:()=>r.pointsTextureSize},blend:{enable:!0,func:{src:"one",dst:"one"},equation:{rgb:"add",alpha:"add"}},depth:{enable:!1,mask:!1},stencil:{enable:!1}}),this.runCommand=t({frag:sN,vert:sn,framebuffer:()=>o==null?void 0:o.velocityFbo,primitive:"triangle strip",count:4,attributes:{quad:rn(t)},uniforms:{position:()=>o==null?void 0:o.previousPositionFbo,centermass:()=>this.centermassFbo,center:()=>{var a;return(a=n.simulation)===null||a===void 0?void 0:a.center},alpha:()=>r.alpha}})}run(){var t,n,r;(t=this.clearCentermassCommand)===null||t===void 0||t.call(this),(n=this.calculateCentermassCommand)===null||n===void 0||n.call(this),(r=this.runCommand)===null||r===void 0||r.call(this)}destroy(){var t;(t=this.centermassFbo)===null||t===void 0||t.destroy()}}var uN=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform float gravity;uniform float spaceSize;uniform float alpha;varying vec2 index;void main(){vec4 pointPosition=texture2D(position,index);vec4 velocity=vec4(0.0);vec2 centerPosition=vec2(spaceSize/2.0);vec2 distVector=centerPosition-pointPosition.rg;float dist=sqrt(dot(distVector,distVector));if(dist>0.0){float angle=atan(distVector.y,distVector.x);float addV=alpha*gravity*dist*0.1;velocity.rg+=addV*vec2(cos(angle),sin(angle));}gl_FragColor=velocity;}`;class cN extends ri{initPrograms(){const{reglInstance:t,config:n,store:r,points:i}=this;this.runCommand=t({frag:uN,vert:sn,framebuffer:()=>i==null?void 0:i.velocityFbo,primitive:"triangle strip",count:4,attributes:{quad:rn(t)},uniforms:{position:()=>i==null?void 0:i.previousPositionFbo,gravity:()=>{var o;return(o=n.simulation)===null||o===void 0?void 0:o.gravity},spaceSize:()=>n.spaceSize,alpha:()=>r.alpha}})}run(){var t;(t=this.runCommand)===null||t===void 0||t.call(this)}}function fN(e){return`
#ifdef GL_ES
precision highp float;
#endif

uniform sampler2D position;
uniform float linkSpring;
uniform float linkDistance;
uniform vec2 linkDistRandomVariationRange;

uniform sampler2D linkFirstIndicesAndAmount;
uniform sampler2D linkIndices;
uniform sampler2D linkBiasAndStrength;
uniform sampler2D linkRandomDistanceFbo;

uniform float pointsTextureSize;
uniform float linksTextureSize;
uniform float alpha;

varying vec2 index;

const float MAX_LINKS = ${e}.0;

void main() {
  vec4 pointPosition = texture2D(position, index);
  vec4 velocity = vec4(0.0);

  vec4 linkFirstIJAndAmount = texture2D(linkFirstIndicesAndAmount, index);
  float iCount = linkFirstIJAndAmount.r;
  float jCount = linkFirstIJAndAmount.g;
  float linkAmount = linkFirstIJAndAmount.b;
  if (linkAmount > 0.0) {
    for (float i = 0.0; i < MAX_LINKS; i += 1.0) {
      if (i < linkAmount) {
        if (iCount >= linksTextureSize) {
          iCount = 0.0;
          jCount += 1.0;
        }
        vec2 linkTextureIndex = (vec2(iCount, jCount) + 0.5) / linksTextureSize;
        vec4 connectedPointIndex = texture2D(linkIndices, linkTextureIndex);
        vec4 biasAndStrength = texture2D(linkBiasAndStrength, linkTextureIndex);
        vec4 randomMinDistance = texture2D(linkRandomDistanceFbo, linkTextureIndex);
        float bias = biasAndStrength.r;
        float strength = biasAndStrength.g;
        float randomMinLinkDist = randomMinDistance.r * (linkDistRandomVariationRange.g - linkDistRandomVariationRange.r) + linkDistRandomVariationRange.r;
        randomMinLinkDist *= linkDistance;

        iCount += 1.0;

        vec4 connectedPointPosition = texture2D(position, (connectedPointIndex.rg + 0.5) / pointsTextureSize);
        float x = connectedPointPosition.x - (pointPosition.x + velocity.x);
        float y = connectedPointPosition.y - (pointPosition.y + velocity.y);
        float l = sqrt(x * x + y * y);
        l = max(l, randomMinLinkDist * 0.99);
        l = (l - randomMinLinkDist) / l;
        l *= linkSpring * alpha;
        l *= strength;
        l *= bias;
        x *= l;
        y *= l;
        velocity.x += x;
        velocity.y += y;
      }
    }
  }

  gl_FragColor = vec4(velocity.rg, 0.0, 0.0);
}
  `}var Ja;(function(e){e.OUTGOING="outgoing",e.INCOMING="incoming"})(Ja||(Ja={}));class gv extends ri{constructor(){super(...arguments),this.linkFirstIndicesAndAmount=new Float32Array,this.indices=new Float32Array,this.maxPointDegree=0}create(t){const{reglInstance:n,store:{pointsTextureSize:r,linksTextureSize:i},data:o}=this;this.linkFirstIndicesAndAmount=new Float32Array(r*r*4),this.indices=new Float32Array(i*i*4);const a=new Float32Array(i*i*4),s=new Float32Array(i*i*4),l=t===Ja.INCOMING?o.groupedSourceToTargetLinks:o.groupedTargetToSourceLinks;this.maxPointDegree=0;let u=0;l.forEach((h,f)=>{this.linkFirstIndicesAndAmount[f*4+0]=u%i,this.linkFirstIndicesAndAmount[f*4+1]=Math.floor(u/i),this.linkFirstIndicesAndAmount[f*4+2]=h.size,h.forEach(d=>{var m,k;this.indices[u*4+0]=d%r,this.indices[u*4+1]=Math.floor(d/r);const R=(m=o.degree[o.getInputIndexBySortedIndex(d)])!==null&&m!==void 0?m:0,de=(k=o.degree[o.getInputIndexBySortedIndex(f)])!==null&&k!==void 0?k:0,_=R/(R+de);let b=1/Math.min(R,de);b=Math.sqrt(b),a[u*4+0]=_,a[u*4+1]=b,s[u*4]=this.store.getRandomFloat(0,1),u+=1}),this.maxPointDegree=Math.max(this.maxPointDegree,h.size)}),this.linkFirstIndicesAndAmountFbo=n.framebuffer({color:n.texture({data:this.linkFirstIndicesAndAmount,shape:[r,r,4],type:"float"}),depth:!1,stencil:!1}),this.indicesFbo=n.framebuffer({color:n.texture({data:this.indices,shape:[i,i,4],type:"float"}),depth:!1,stencil:!1}),this.biasAndStrengthFbo=n.framebuffer({color:n.texture({data:a,shape:[i,i,4],type:"float"}),depth:!1,stencil:!1}),this.randomDistanceFbo=n.framebuffer({color:n.texture({data:s,shape:[i,i,4],type:"float"}),depth:!1,stencil:!1})}initPrograms(){const{reglInstance:t,config:n,store:r,points:i}=this;this.runCommand=t({frag:()=>fN(this.maxPointDegree),vert:sn,framebuffer:()=>i==null?void 0:i.velocityFbo,primitive:"triangle strip",count:4,attributes:{quad:rn(t)},uniforms:{position:()=>i==null?void 0:i.previousPositionFbo,linkSpring:()=>{var o;return(o=n.simulation)===null||o===void 0?void 0:o.linkSpring},linkDistance:()=>{var o;return(o=n.simulation)===null||o===void 0?void 0:o.linkDistance},linkDistRandomVariationRange:()=>{var o;return(o=n.simulation)===null||o===void 0?void 0:o.linkDistRandomVariationRange},linkFirstIndicesAndAmount:()=>this.linkFirstIndicesAndAmountFbo,linkIndices:()=>this.indicesFbo,linkBiasAndStrength:()=>this.biasAndStrengthFbo,linkRandomDistanceFbo:()=>this.randomDistanceFbo,pointsTextureSize:()=>r.pointsTextureSize,linksTextureSize:()=>r.linksTextureSize,alpha:()=>r.alpha}})}run(){var t;(t=this.runCommand)===null||t===void 0||t.call(this)}destroy(){var t,n,r,i;(t=this.linkFirstIndicesAndAmountFbo)===null||t===void 0||t.destroy(),(n=this.indicesFbo)===null||n===void 0||n.destroy(),(r=this.biasAndStrengthFbo)===null||r===void 0||r.destroy(),(i=this.randomDistanceFbo)===null||i===void 0||i.destroy()}}var _1=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
varying vec4 rgba;void main(){gl_FragColor=rgba;}`,S1=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform float pointsTextureSize;uniform float levelTextureSize;uniform float cellSize;attribute vec2 indexes;varying vec4 rgba;void main(){vec4 pointPosition=texture2D(position,indexes/pointsTextureSize);rgba=vec4(pointPosition.rg,1.0,0.0);float n=floor(pointPosition.x/cellSize);float m=floor(pointPosition.y/cellSize);vec2 levelPosition=2.0*(vec2(n,m)+0.5)/levelTextureSize-1.0;gl_Position=vec4(levelPosition,0.0,1.0);gl_PointSize=1.0;}`,dN=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform sampler2D levelFbo;uniform float level;uniform float levels;uniform float levelTextureSize;uniform float repulsion;uniform float alpha;uniform float spaceSize;uniform float theta;varying vec2 index;const float MAX_LEVELS_NUM=14.0;vec2 calcAdd(vec2 ij,vec2 pp){vec2 add=vec2(0.0);vec4 centermass=texture2D(levelFbo,ij);if(centermass.r>0.0&&centermass.g>0.0&&centermass.b>0.0){vec2 centermassPosition=vec2(centermass.rg/centermass.b);vec2 distVector=pp-centermassPosition;float l=dot(distVector,distVector);float dist=sqrt(l);if(l>0.0){float angle=atan(distVector.y,distVector.x);float c=alpha*repulsion*centermass.b;float distanceMin2=1.0;if(l<distanceMin2)l=sqrt(distanceMin2*l);float addV=c/sqrt(l);add=addV*vec2(cos(angle),sin(angle));}}return add;}void main(){vec4 pointPosition=texture2D(position,index);float x=pointPosition.x;float y=pointPosition.y;float left=0.0;float top=0.0;float right=spaceSize;float bottom=spaceSize;float n_left=0.0;float n_top=0.0;float n_right=0.0;float n_bottom=0.0;float cellSize=0.0;for(float i=0.0;i<MAX_LEVELS_NUM;i+=1.0){if(i<=level){left+=cellSize*n_left;top+=cellSize*n_top;right-=cellSize*n_right;bottom-=cellSize*n_bottom;cellSize=pow(2.0,levels-i-1.0);float dist_left=x-left;n_left=max(0.0,floor(dist_left/cellSize-theta));float dist_top=y-top;n_top=max(0.0,floor(dist_top/cellSize-theta));float dist_right=right-x;n_right=max(0.0,floor(dist_right/cellSize-theta));float dist_bottom=bottom-y;n_bottom=max(0.0,floor(dist_bottom/cellSize-theta));}}vec4 velocity=vec4(vec2(0.0),1.0,0.0);for(float i=0.0;i<12.0;i+=1.0){for(float j=0.0;j<4.0;j+=1.0){float n=left+cellSize*j;float m=top+cellSize*n_top+cellSize*i;if(n<(left+n_left*cellSize)&&m<bottom){velocity.xy+=calcAdd(vec2(n/cellSize,m/cellSize)/levelTextureSize,pointPosition.xy);}n=left+cellSize*i;m=top+cellSize*j;if(n<(right-n_right*cellSize)&&m<(top+n_top*cellSize)){velocity.xy+=calcAdd(vec2(n/cellSize,m/cellSize)/levelTextureSize,pointPosition.xy);}n=right-n_right*cellSize+cellSize*j;m=top+cellSize*i;if(n<right&&m<(bottom-n_bottom*cellSize)){velocity.xy+=calcAdd(vec2(n/cellSize,m/cellSize)/levelTextureSize,pointPosition.xy);}n=left+n_left*cellSize+cellSize*i;m=bottom-n_bottom*cellSize+cellSize*j;if(n<right&&m<bottom){velocity.xy+=calcAdd(vec2(n/cellSize,m/cellSize)/levelTextureSize,pointPosition.xy);}}}gl_FragColor=velocity;}`,hN=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform sampler2D levelFbo;uniform sampler2D randomValues;uniform float levelTextureSize;uniform float repulsion;uniform float alpha;varying vec2 index;vec2 calcAdd(vec2 ij,vec2 pp){vec2 add=vec2(0.0);vec4 centermass=texture2D(levelFbo,ij);if(centermass.r>0.0&&centermass.g>0.0&&centermass.b>0.0){vec2 centermassPosition=vec2(centermass.rg/centermass.b);vec2 distVector=pp-centermassPosition;float l=dot(distVector,distVector);float dist=sqrt(l);if(l>0.0){float angle=atan(distVector.y,distVector.x);float c=alpha*repulsion*centermass.b;float distanceMin2=1.0;if(l<distanceMin2)l=sqrt(distanceMin2*l);float addV=c/sqrt(l);add=addV*vec2(cos(angle),sin(angle));}}return add;}void main(){vec4 pointPosition=texture2D(position,index);vec4 random=texture2D(randomValues,index);vec4 velocity=vec4(0.0);velocity.xy+=calcAdd(pointPosition.xy/levelTextureSize,pointPosition.xy);velocity.xy+=velocity.xy*random.rg;gl_FragColor=velocity;}`;class pN extends ri{constructor(){super(...arguments),this.levelsFbos=new Map,this.quadtreeLevels=0}create(){var t;const{reglInstance:n,config:r,store:i}=this;this.quadtreeLevels=Math.log2((t=r.spaceSize)!==null&&t!==void 0?t:ft.spaceSize);for(let a=0;a<this.quadtreeLevels;a+=1){const s=Math.pow(2,a+1);this.levelsFbos.set(`level[${a}]`,n.framebuffer({shape:[s,s],colorType:"float",depth:!1,stencil:!1}))}const o=new Float32Array(i.pointsTextureSize*i.pointsTextureSize*4);for(let a=0;a<i.pointsTextureSize*i.pointsTextureSize;++a)o[a*4]=i.getRandomFloat(-1,1)*1e-5,o[a*4+1]=i.getRandomFloat(-1,1)*1e-5;this.randomValuesFbo=n.framebuffer({color:n.texture({data:o,shape:[i.pointsTextureSize,i.pointsTextureSize,4],type:"float"}),depth:!1,stencil:!1})}initPrograms(){const{reglInstance:t,config:n,store:r,data:i,points:o}=this;this.clearLevelsCommand=t({frag:Za,vert:sn,framebuffer:(a,s)=>s.levelFbo,primitive:"triangle strip",count:4,attributes:{quad:rn(t)}}),this.calculateLevelsCommand=t({frag:_1,vert:S1,framebuffer:(a,s)=>s.levelFbo,primitive:"points",count:()=>i.nodes.length,attributes:{indexes:Ka(t,r.pointsTextureSize)},uniforms:{position:()=>o==null?void 0:o.previousPositionFbo,pointsTextureSize:()=>r.pointsTextureSize,levelTextureSize:(a,s)=>s.levelTextureSize,cellSize:(a,s)=>s.cellSize},blend:{enable:!0,func:{src:"one",dst:"one"},equation:{rgb:"add",alpha:"add"}},depth:{enable:!1,mask:!1},stencil:{enable:!1}}),this.forceCommand=t({frag:dN,vert:sn,framebuffer:()=>o==null?void 0:o.velocityFbo,primitive:"triangle strip",count:4,attributes:{quad:rn(t)},uniforms:{position:()=>o==null?void 0:o.previousPositionFbo,level:(a,s)=>s.level,levels:this.quadtreeLevels,levelFbo:(a,s)=>s.levelFbo,levelTextureSize:(a,s)=>s.levelTextureSize,alpha:()=>r.alpha,repulsion:()=>{var a;return(a=n.simulation)===null||a===void 0?void 0:a.repulsion},spaceSize:()=>n.spaceSize,theta:()=>{var a;return(a=n.simulation)===null||a===void 0?void 0:a.repulsionTheta}},blend:{enable:!0,func:{src:"one",dst:"one"},equation:{rgb:"add",alpha:"add"}},depth:{enable:!1,mask:!1},stencil:{enable:!1}}),this.forceFromItsOwnCentermassCommand=t({frag:hN,vert:sn,framebuffer:()=>o==null?void 0:o.velocityFbo,primitive:"triangle strip",count:4,attributes:{quad:rn(t)},uniforms:{position:()=>o==null?void 0:o.previousPositionFbo,randomValues:()=>this.randomValuesFbo,levelFbo:(a,s)=>s.levelFbo,levelTextureSize:(a,s)=>s.levelTextureSize,alpha:()=>r.alpha,repulsion:()=>{var a;return(a=n.simulation)===null||a===void 0?void 0:a.repulsion},spaceSize:()=>n.spaceSize},blend:{enable:!0,func:{src:"one",dst:"one"},equation:{rgb:"add",alpha:"add"}},depth:{enable:!1,mask:!1},stencil:{enable:!1}}),this.clearVelocityCommand=t({frag:Za,vert:sn,framebuffer:()=>o==null?void 0:o.velocityFbo,primitive:"triangle strip",count:4,attributes:{quad:rn(t)}})}run(){var t,n,r,i,o,a;const{config:s}=this;for(let l=0;l<this.quadtreeLevels;l+=1){(t=this.clearLevelsCommand)===null||t===void 0||t.call(this,{levelFbo:this.levelsFbos.get(`level[${l}]`)});const u=Math.pow(2,l+1),h=((n=s.spaceSize)!==null&&n!==void 0?n:ft.spaceSize)/u;(r=this.calculateLevelsCommand)===null||r===void 0||r.call(this,{levelFbo:this.levelsFbos.get(`level[${l}]`),levelTextureSize:u,cellSize:h})}(i=this.clearVelocityCommand)===null||i===void 0||i.call(this);for(let l=0;l<this.quadtreeLevels;l+=1){const u=Math.pow(2,l+1);(o=this.forceCommand)===null||o===void 0||o.call(this,{levelFbo:this.levelsFbos.get(`level[${l}]`),levelTextureSize:u,level:l}),l===this.quadtreeLevels-1&&((a=this.forceFromItsOwnCentermassCommand)===null||a===void 0||a.call(this,{levelFbo:this.levelsFbos.get(`level[${l}]`),levelTextureSize:u,level:l}))}}destroy(){var t;(t=this.randomValuesFbo)===null||t===void 0||t.destroy(),this.levelsFbos.forEach(n=>{n!=null&&n._framebuffer.framebuffer&&n.destroy()}),this.levelsFbos.clear()}}function mN(e,t){e=Math.min(e,t);const n=t-e,r=`
    float dist = sqrt(l);
    if (dist > 0.0) {
      float c = alpha * repulsion * centermass.b;
      addVelocity += calcAdd(vec2(x, y), l, c);
      addVelocity += addVelocity * random.rg;
    }
  `;function i(o){if(o>=t)return r;{const a=Math.pow(2,o+1),s=new Array(o+1-n).fill(0).map((u,h)=>`pow(2.0, ${o-(h+n)}.0) * i${h+n}`).join("+"),l=new Array(o+1-n).fill(0).map((u,h)=>`pow(2.0, ${o-(h+n)}.0) * j${h+n}`).join("+");return`
      for (float ij${o} = 0.0; ij${o} < 4.0; ij${o} += 1.0) {
        float i${o} = 0.0;
        float j${o} = 0.0;
        if (ij${o} == 1.0 || ij${o} == 3.0) i${o} = 1.0;
        if (ij${o} == 2.0 || ij${o} == 3.0) j${o} = 1.0;
        float i = pow(2.0, ${e}.0) * n / width${o+1} + ${s};
        float j = pow(2.0, ${e}.0) * m / width${o+1} + ${l};
        float groupPosX = (i + 0.5) / ${a}.0;
        float groupPosY = (j + 0.5) / ${a}.0;
        
        vec4 centermass = texture2D(level[${o}], vec2(groupPosX, groupPosY));
        if (centermass.r > 0.0 && centermass.g > 0.0 && centermass.b > 0.0) {
          float x = centermass.r / centermass.b - pointPosition.r;
          float y = centermass.g / centermass.b - pointPosition.g;
          float l = x * x + y * y;
          if ((width${o+1} * width${o+1}) / theta < l) {
            ${r}
          } else {
            ${i(o+1)}
          }
        }
      }
      `}}return`
#ifdef GL_ES
precision highp float;
#endif

uniform sampler2D position;
uniform sampler2D randomValues;
uniform float spaceSize;
uniform float repulsion;
uniform float theta;
uniform float alpha;
uniform sampler2D level[${t}];
varying vec2 index;

vec2 calcAdd(vec2 xy, float l, float c) {
  float distanceMin2 = 1.0;
  if (l < distanceMin2) l = sqrt(distanceMin2 * l);
  float add = c / l;
  return add * xy;
}

void main() {
  vec4 pointPosition = texture2D(position, index);
  vec4 random = texture2D(randomValues, index);

  float width0 = spaceSize;

  vec2 velocity = vec2(0.0);
  vec2 addVelocity = vec2(0.0);

  ${new Array(t).fill(0).map((o,a)=>`float width${a+1} = width${a} / 2.0;`).join(`
`)}

  for (float n = 0.0; n < pow(2.0, ${n}.0); n += 1.0) {
    for (float m = 0.0; m < pow(2.0, ${n}.0); m += 1.0) {
      ${i(n)}
    }
  }

  velocity -= addVelocity;

  gl_FragColor = vec4(velocity, 0.0, 0.0);
}
`}class vN extends ri{constructor(){super(...arguments),this.levelsFbos=new Map,this.quadtreeLevels=0}create(){var t;const{reglInstance:n,config:r,store:i}=this;this.quadtreeLevels=Math.log2((t=r.spaceSize)!==null&&t!==void 0?t:ft.spaceSize);for(let a=0;a<this.quadtreeLevels;a+=1){const s=Math.pow(2,a+1);this.levelsFbos.set(`level[${a}]`,n.framebuffer({color:n.texture({data:new Float32Array(s*s*4),shape:[s,s,4],type:"float"}),depth:!1,stencil:!1}))}const o=new Float32Array(i.pointsTextureSize*i.pointsTextureSize*4);for(let a=0;a<i.pointsTextureSize*i.pointsTextureSize;++a)o[a*4]=i.getRandomFloat(-1,1)*1e-5,o[a*4+1]=i.getRandomFloat(-1,1)*1e-5;this.randomValuesFbo=n.framebuffer({color:n.texture({data:o,shape:[i.pointsTextureSize,i.pointsTextureSize,4],type:"float"}),depth:!1,stencil:!1})}initPrograms(){var t,n;const{reglInstance:r,config:i,store:o,data:a,points:s}=this;this.clearLevelsCommand=r({frag:Za,vert:sn,framebuffer:(l,u)=>u.levelFbo,primitive:"triangle strip",count:4,attributes:{quad:rn(r)}}),this.calculateLevelsCommand=r({frag:_1,vert:S1,framebuffer:(l,u)=>u.levelFbo,primitive:"points",count:()=>a.nodes.length,attributes:{indexes:Ka(r,o.pointsTextureSize)},uniforms:{position:()=>s==null?void 0:s.previousPositionFbo,pointsTextureSize:()=>o.pointsTextureSize,levelTextureSize:(l,u)=>u.levelTextureSize,cellSize:(l,u)=>u.cellSize},blend:{enable:!0,func:{src:"one",dst:"one"},equation:{rgb:"add",alpha:"add"}},depth:{enable:!1,mask:!1},stencil:{enable:!1}}),this.quadtreeCommand=r({frag:mN((n=(t=i.simulation)===null||t===void 0?void 0:t.repulsionQuadtreeLevels)!==null&&n!==void 0?n:this.quadtreeLevels,this.quadtreeLevels),vert:sn,framebuffer:()=>s==null?void 0:s.velocityFbo,primitive:"triangle strip",count:4,attributes:{quad:rn(r)},uniforms:{position:()=>s==null?void 0:s.previousPositionFbo,randomValues:()=>this.randomValuesFbo,spaceSize:()=>i.spaceSize,repulsion:()=>{var l;return(l=i.simulation)===null||l===void 0?void 0:l.repulsion},theta:()=>{var l;return(l=i.simulation)===null||l===void 0?void 0:l.repulsionTheta},alpha:()=>o.alpha,...Object.fromEntries(this.levelsFbos)}})}run(){var t,n,r,i;const{config:o}=this;for(let a=0;a<this.quadtreeLevels;a+=1){(t=this.clearLevelsCommand)===null||t===void 0||t.call(this,{levelFbo:this.levelsFbos.get(`level[${a}]`)});const s=Math.pow(2,a+1),l=((n=o.spaceSize)!==null&&n!==void 0?n:ft.spaceSize)/s;(r=this.calculateLevelsCommand)===null||r===void 0||r.call(this,{levelFbo:this.levelsFbos.get(`level[${a}]`),levelTextureSize:s,cellSize:l})}(i=this.quadtreeCommand)===null||i===void 0||i.call(this)}destroy(){var t;(t=this.randomValuesFbo)===null||t===void 0||t.destroy(),this.levelsFbos.forEach(n=>{n!=null&&n._framebuffer.framebuffer&&n.destroy()}),this.levelsFbos.clear()}}var gN=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform float repulsion;uniform vec2 mousePos;varying vec2 index;void main(){vec4 pointPosition=texture2D(position,index);vec4 velocity=vec4(0.0);vec2 mouse=mousePos;vec2 distVector=mouse-pointPosition.rg;float dist=sqrt(dot(distVector,distVector));dist=max(dist,10.0);float angle=atan(distVector.y,distVector.x);float addV=100.0*repulsion/(dist*dist);velocity.rg-=addV*vec2(cos(angle),sin(angle));gl_FragColor=velocity;}`;class yN extends ri{initPrograms(){const{reglInstance:t,config:n,store:r,points:i}=this;this.runCommand=t({frag:gN,vert:sn,framebuffer:()=>i==null?void 0:i.velocityFbo,primitive:"triangle strip",count:4,attributes:{quad:rn(t)},uniforms:{position:()=>i==null?void 0:i.previousPositionFbo,mousePos:()=>r.mousePosition,repulsion:()=>{var o;return(o=n.simulation)===null||o===void 0?void 0:o.repulsionFromMouse}}})}run(){var t;(t=this.runCommand)===null||t===void 0||t.call(this)}}var xN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},w1={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(xN,function(){var n=`<div class="gl-box">
  <svg viewBox="0 0 55 60">
    <text x="27" y="56" class="gl-fps">00 FPS</text>
    <text x="28" y="8" class="gl-mem"></text>
    <rect x="0" y="14" rx="4" ry="4" width="55" height="32"></rect>
    <polyline class="gl-chart"></polyline>
  </svg>
  <svg viewBox="0 0 14 60" class="gl-cpu-svg">
    <line x1="7" y1="38" x2="7" y2="11" class="opacity"/>
    <line x1="7" y1="38" x2="7" y2="11" class="gl-cpu" stroke-dasharray="0 27"/>
    <path d="M5.35 43c-.464 0-.812.377-.812.812v1.16c-.783.1972-1.421.812-1.595 1.624h-1.16c-.435 0-.812.348-.812.812s.348.812.812.812h1.102v1.653H1.812c-.464 0-.812.377-.812.812 0 .464.377.812.812.812h1.131c.1943.783.812 1.392 1.595 1.595v1.131c0 .464.377.812.812.812.464 0 .812-.377.812-.812V53.15h1.653v1.073c0 .464.377.812.812.812.464 0 .812-.377.812-.812v-1.131c.783-.1943 1.392-.812 1.595-1.595h1.131c.464 0 .812-.377.812-.812 0-.464-.377-.812-.812-.812h-1.073V48.22h1.102c.435 0 .812-.348.812-.812s-.348-.812-.812-.812h-1.16c-.1885-.783-.812-1.421-1.595-1.624v-1.131c0-.464-.377-.812-.812-.812-.464 0-.812.377-.812.812v1.073H6.162v-1.073c0-.464-.377-.812-.812-.812zm.58 3.48h2.088c.754 0 1.363.609 1.363 1.363v2.088c0 .754-.609 1.363-1.363 1.363H5.93c-.754 0-1.363-.609-1.363-1.363v-2.088c0-.754.609-1.363 1.363-1.363z"/>
  </svg>
  <svg viewBox="0 0 14 60" class="gl-gpu-svg">
    <line x1="7" y1="38" x2="7" y2="11" class="opacity"/>
    <line x1="7" y1="38" x2="7" y2="11" class="gl-gpu" stroke-dasharray="0 27"/>
    <path d="M1.94775 43.3772a.736.736 0 10-.00416 1.472c.58535.00231.56465.1288.6348.3197.07015.18975.04933.43585.04933.43585l-.00653.05405v8.671a.736.736 0 101.472 0v-1.4145c.253.09522.52785.1495.81765.1495h5.267c1.2535 0 2.254-.9752 2.254-2.185v-3.105c0-1.2075-1.00625-2.185-2.254-2.185h-5.267c-.28865 0-.5635.05405-.8165.1495.01806-.16445.04209-.598-.1357-1.0787-.22425-.6072-.9499-1.2765-2.0125-1.2765zm2.9095 3.6455c.42435 0 .7659.36225.7659.8119v2.9785c0 .44965-.34155.8119-.7659.8119s-.7659-.36225-.7659-.8119v-2.9785c0-.44965.34155-.8119.7659-.8119zm4.117 0a2.3 2.3 0 012.3 2.3 2.3 2.3 0 01-2.3 2.3 2.3 2.3 0 01-2.3-2.3 2.3 2.3 0 012.3-2.3z"/>
  </svg>
</div>`,r=`#gl-bench {
  position:absolute;
  left:0;
  top:0;
  z-index:1000;
  -webkit-user-select: none;
  -moz-user-select: none;
  user-select: none;
}

#gl-bench div {
  position: relative;
  display: block;
  margin: 4px;
  padding: 0 7px 0 10px;
  background: #6c6;
  border-radius: 15px;
  cursor: pointer;
  opacity: 0.9;
}

#gl-bench svg {
  height: 60px;
  margin: 0 -1px;
}

#gl-bench text {
  font-size: 12px;
  font-family: Helvetica,Arial,sans-serif;
  font-weight: 700;
  dominant-baseline: middle;
  text-anchor: middle;
}

#gl-bench .gl-mem {
  font-size: 9px;
}

#gl-bench line {
  stroke-width: 5;
  stroke: #112211;
  stroke-linecap: round;
}

#gl-bench polyline {
  fill: none;
  stroke: #112211;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke-width: 3.5;
}

#gl-bench rect {
  fill: #448844;
}

#gl-bench .opacity {
  stroke: #448844;
}
`;class i{constructor(a,s={}){this.css=r,this.svg=n,this.paramLogger=()=>{},this.chartLogger=()=>{},this.chartLen=20,this.chartHz=20,this.names=[],this.cpuAccums=[],this.gpuAccums=[],this.activeAccums=[],this.chart=new Array(this.chartLen),this.now=()=>performance&&performance.now?performance.now():Date.now(),this.updateUI=()=>{[].forEach.call(this.nodes["gl-gpu-svg"],d=>{d.style.display=this.trackGPU?"inline":"none"})},Object.assign(this,s),this.detected=0,this.finished=[],this.isFramebuffer=0,this.frameId=0;let l,u=0,h,f=d=>{++u<20?l=requestAnimationFrame(f):(this.detected=Math.ceil(1e3*u/(d-h)/70),cancelAnimationFrame(l)),h||(h=d)};if(requestAnimationFrame(f),a){const d=async(k,R)=>Promise.resolve(setTimeout(()=>{a.getError();const de=this.now()-k;R.forEach((_,b)=>{_&&(this.gpuAccums[b]+=de)})},0)),m=(k,R,de)=>function(){const _=R.now();k.apply(de,arguments),R.trackGPU&&R.finished.push(d(_,R.activeAccums.slice(0)))};["drawArrays","drawElements","drawArraysInstanced","drawBuffers","drawElementsInstanced","drawRangeElements"].forEach(k=>{a[k]&&(a[k]=m(a[k],this,a))}),a.getExtension=((k,R)=>function(){let de=k.apply(a,arguments);return de&&["drawElementsInstancedANGLE","drawBuffersWEBGL"].forEach(_=>{de[_]&&(de[_]=m(de[_],R,de))}),de})(a.getExtension,this)}if(!this.withoutUI){this.dom||(this.dom=document.body);let d=document.createElement("div");d.id="gl-bench",this.dom.appendChild(d),this.dom.insertAdjacentHTML("afterbegin",'<style id="gl-bench-style">'+this.css+"</style>"),this.dom=d,this.dom.addEventListener("click",()=>{this.trackGPU=!this.trackGPU,this.updateUI()}),this.paramLogger=((m,k,R)=>{const de=["gl-cpu","gl-gpu","gl-mem","gl-fps","gl-gpu-svg","gl-chart"],_=Object.assign({},de);return de.forEach(b=>_[b]=k.getElementsByClassName(b)),this.nodes=_,(b,F,V,W,he,me,Ae)=>{_["gl-cpu"][b].style.strokeDasharray=(F*.27).toFixed(0)+" 100",_["gl-gpu"][b].style.strokeDasharray=(V*.27).toFixed(0)+" 100",_["gl-mem"][b].innerHTML=R[b]?R[b]:W?"mem: "+W.toFixed(0)+"mb":"",_["gl-fps"][b].innerHTML=he.toFixed(0)+" FPS",m(R[b],F,V,W,he,me,Ae)}})(this.paramLogger,this.dom,this.names),this.chartLogger=((m,k)=>{let R={"gl-chart":k.getElementsByClassName("gl-chart")};return(de,_,b)=>{let F="",V=_.length;for(let W=0;W<V;W++){let he=(b+W+1)%V;_[he]!=null&&(F=F+" "+(55*W/(V-1)).toFixed(1)+","+(45-_[he]*22/60/this.detected).toFixed(1))}R["gl-chart"][de].setAttribute("points",F),m(this.names[de],_,b)}})(this.chartLogger,this.dom)}}addUI(a){this.names.indexOf(a)==-1&&(this.names.push(a),this.dom&&(this.dom.insertAdjacentHTML("beforeend",this.svg),this.updateUI()),this.cpuAccums.push(0),this.gpuAccums.push(0),this.activeAccums.push(!1))}nextFrame(a){this.frameId++;const s=a||this.now();if(this.frameId<=1)this.paramFrame=this.frameId,this.paramTime=s;else{let l=s-this.paramTime;if(l>=1e3){const u=this.frameId-this.paramFrame,h=u/l*1e3;for(let f=0;f<this.names.length;f++){const d=this.cpuAccums[f]/l*100,m=this.gpuAccums[f]/l*100,k=performance&&performance.memory?performance.memory.usedJSHeapSize/(1<<20):0;this.paramLogger(f,d,m,k,h,l,u),this.cpuAccums[f]=0,Promise.all(this.finished).then(()=>{this.gpuAccums[f]=0,this.finished=[]})}this.paramFrame=this.frameId,this.paramTime=s}}if(!this.detected||!this.chartFrame)this.chartFrame=this.frameId,this.chartTime=s,this.circularId=0;else{let l=s-this.chartTime,u=this.chartHz*l/1e3;for(;--u>0&&this.detected;){const f=(this.frameId-this.chartFrame)/l*1e3;this.chart[this.circularId%this.chartLen]=f;for(let d=0;d<this.names.length;d++)this.chartLogger(d,this.chart,this.circularId);this.circularId++,this.chartFrame=this.frameId,this.chartTime=s}}}begin(a){this.updateAccums(a)}end(a){this.updateAccums(a)}updateAccums(a){let s=this.names.indexOf(a);s==-1&&(s=this.names.length,this.addUI(a));const l=this.now(),u=l-this.t0;for(let h=0;h<s+1;h++)this.activeAccums[h]&&(this.cpuAccums[h]+=u);this.activeAccums[s]=!this.activeAccums[s],this.t0=l}}return i})})(w1);var _N=w1.exports;const SN=`
  #gl-bench {
    position:absolute;
    right:0;
    top:0;
    z-index:1000;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  #gl-bench div {
    position: relative;
    display: block;
    margin: 4px;
    padding: 0 7px 0 10px;
    background: #5f69de;
    border-radius: 15px;
    cursor: pointer;
    opacity: 0.9;
  }
  #gl-bench svg {
    height: 60px;
    margin: 0 -1px;
  }
  #gl-bench text {
    font-size: 12px;
    font-family: Helvetica,Arial,sans-serif;
    font-weight: 700;
    dominant-baseline: middle;
    text-anchor: middle;
  }
  #gl-bench .gl-mem {
    font-size: 9px;
  }
  #gl-bench line {
    stroke-width: 5;
    stroke: #112211;
    stroke-linecap: round;
  }
  #gl-bench polyline {
    fill: none;
    stroke: #112211;
    stroke-linecap: round;
    stroke-linejoin: round;
    stroke-width: 3.5;
  }
  #gl-bench rect {
    fill: #8288e4;
  }
  #gl-bench .opacity {
    stroke: #8288e4;
  }
`;class yv{constructor(t){this.destroy();const n=t.getContext("webgl")||t.getContext("experimental-webgl");this.bench=new _N(n,{css:SN})}begin(){var t;(t=this.bench)===null||t===void 0||t.begin("frame")}end(t){var n,r;(n=this.bench)===null||n===void 0||n.end("frame"),(r=this.bench)===null||r===void 0||r.nextFrame(t)}destroy(){this.bench=void 0,Yn("#gl-bench").remove()}}class wN{constructor(){this.completeLinks=new Set,this.degree=[],this.groupedSourceToTargetLinks=new Map,this.groupedTargetToSourceLinks=new Map,this._nodes=[],this._links=[],this.idToNodeMap=new Map,this.sortedIndexToInputIndexMap=new Map,this.inputIndexToSortedIndexMap=new Map,this.idToSortedIndexMap=new Map,this.inputIndexToIdMap=new Map,this.idToIndegreeMap=new Map,this.idToOutdegreeMap=new Map}get nodes(){return this._nodes}get links(){return this._links}get linksNumber(){return this.completeLinks.size}setData(t,n){this.idToNodeMap.clear(),this.idToSortedIndexMap.clear(),this.inputIndexToIdMap.clear(),this.idToIndegreeMap.clear(),this.idToOutdegreeMap.clear(),t.forEach((i,o)=>{this.idToNodeMap.set(i.id,i),this.inputIndexToIdMap.set(o,i.id),this.idToIndegreeMap.set(i.id,0),this.idToOutdegreeMap.set(i.id,0)}),this.completeLinks.clear(),n.forEach(i=>{const o=this.idToNodeMap.get(i.source),a=this.idToNodeMap.get(i.target);if(o!==void 0&&a!==void 0){this.completeLinks.add(i);const s=this.idToOutdegreeMap.get(o.id);s!==void 0&&this.idToOutdegreeMap.set(o.id,s+1);const l=this.idToIndegreeMap.get(a.id);l!==void 0&&this.idToIndegreeMap.set(a.id,l+1)}}),this.degree=new Array(t.length),t.forEach((i,o)=>{const a=this.idToOutdegreeMap.get(i.id),s=this.idToIndegreeMap.get(i.id);this.degree[o]=(a??0)+(s??0)}),this.sortedIndexToInputIndexMap.clear(),this.inputIndexToSortedIndexMap.clear(),Object.entries(this.degree).sort((i,o)=>i[1]-o[1]).forEach(([i],o)=>{const a=+i;this.sortedIndexToInputIndexMap.set(o,a),this.inputIndexToSortedIndexMap.set(a,o),this.idToSortedIndexMap.set(this.inputIndexToIdMap.get(a),o)}),this.groupedSourceToTargetLinks.clear(),this.groupedTargetToSourceLinks.clear(),n.forEach(i=>{const o=this.idToSortedIndexMap.get(i.source),a=this.idToSortedIndexMap.get(i.target);if(o!==void 0&&a!==void 0){this.groupedSourceToTargetLinks.get(o)===void 0&&this.groupedSourceToTargetLinks.set(o,new Set);const s=this.groupedSourceToTargetLinks.get(o);s==null||s.add(a),this.groupedTargetToSourceLinks.get(a)===void 0&&this.groupedTargetToSourceLinks.set(a,new Set);const l=this.groupedTargetToSourceLinks.get(a);l==null||l.add(o)}}),this._nodes=t,this._links=n}getNodeById(t){return this.idToNodeMap.get(t)}getNodeByIndex(t){return this._nodes[t]}getSortedIndexByInputIndex(t){return this.inputIndexToSortedIndexMap.get(t)}getInputIndexBySortedIndex(t){return this.sortedIndexToInputIndexMap.get(t)}getSortedIndexById(t){return t!==void 0?this.idToSortedIndexMap.get(t):void 0}getAdjacentNodes(t){var n,r;const i=this.getSortedIndexById(t);if(i===void 0)return;const o=(n=this.groupedSourceToTargetLinks.get(i))!==null&&n!==void 0?n:[],a=(r=this.groupedTargetToSourceLinks.get(i))!==null&&r!==void 0?r:[];return[...new Set([...o,...a])].map(s=>this.getNodeByIndex(this.getInputIndexBySortedIndex(s)))}}var EN=`precision highp float;
#define GLSLIFY 1
uniform bool useArrow;varying vec4 rgbaColor;varying vec2 pos;varying float arrowLength;varying float linkWidthArrowWidthRatio;varying float smoothWidthRatio;varying float targetPointSize;float map(float value,float min1,float max1,float min2,float max2){return min2+(value-min1)*(max2-min2)/(max1-min1);}void main(){float opacity=1.0;vec3 color=rgbaColor.rgb;float smoothDelta=smoothWidthRatio/2.0;if(useArrow){float end_arrow=0.5+arrowLength/2.0;float start_arrow=end_arrow-arrowLength;float arrowWidthDelta=linkWidthArrowWidthRatio/2.0;float linkOpacity=rgbaColor.a*smoothstep(0.5-arrowWidthDelta,0.5-arrowWidthDelta-smoothDelta,abs(pos.y));float arrowOpacity=1.0;if(pos.x>start_arrow&&pos.x<start_arrow+arrowLength){float xmapped=map(pos.x,start_arrow,end_arrow,0.0,1.0);arrowOpacity=rgbaColor.a*smoothstep(xmapped-smoothDelta,xmapped,map(abs(pos.y),0.5,0.0,0.0,1.0));if(linkOpacity!=arrowOpacity){linkOpacity+=arrowOpacity;}}opacity=linkOpacity;}else opacity=rgbaColor.a*smoothstep(0.5,0.5-smoothDelta,abs(pos.y));gl_FragColor=vec4(color,opacity);}`,TN=`precision highp float;
#define GLSLIFY 1
attribute vec2 position,pointA,pointB;attribute vec4 color;attribute float width;uniform sampler2D positions;uniform sampler2D particleSize;uniform sampler2D particleGreyoutStatus;uniform mat3 transform;uniform float pointsTextureSize;uniform float widthScale;uniform float nodeSizeScale;uniform bool useArrow;uniform float arrowSizeScale;uniform float spaceSize;uniform vec2 screenSize;uniform float ratio;uniform vec2 linkVisibilityDistanceRange;uniform float linkVisibilityMinTransparency;uniform float greyoutOpacity;uniform bool scaleNodesOnZoom;varying vec4 rgbaColor;varying vec2 pos;varying float arrowLength;varying float linkWidthArrowWidthRatio;varying float smoothWidthRatio;varying float targetPointSize;float map(float value,float min1,float max1,float min2,float max2){return min2+(value-min1)*(max2-min2)/(max1-min1);}float pointSize(float size){float pSize;if(scaleNodesOnZoom){pSize=size*ratio*transform[0][0];}else{pSize=size*ratio*min(5.0,max(1.0,transform[0][0]*0.01));}return pSize;}void main(){pos=position;vec2 pointTexturePosA=(pointA+0.5)/pointsTextureSize;vec2 pointTexturePosB=(pointB+0.5)/pointsTextureSize;vec4 greyoutStatusA=texture2D(particleGreyoutStatus,pointTexturePosA);vec4 greyoutStatusB=texture2D(particleGreyoutStatus,pointTexturePosB);targetPointSize=pointSize(texture2D(particleSize,pointTexturePosB).r*nodeSizeScale);vec4 pointPositionA=texture2D(positions,pointTexturePosA);vec4 pointPositionB=texture2D(positions,pointTexturePosB);vec2 a=pointPositionA.xy;vec2 b=pointPositionB.xy;vec2 xBasis=b-a;vec2 yBasis=normalize(vec2(-xBasis.y,xBasis.x));vec2 distVector=a-b;float linkDist=sqrt(dot(distVector,distVector));float linkDistPx=linkDist*transform[0][0];targetPointSize=(targetPointSize/(2.0*ratio))/linkDistPx;float linkWidth=width*widthScale;float k=2.0;float arrowWidth=max(5.0,linkWidth*k);arrowWidth*=arrowSizeScale;float arrowWidthPx=arrowWidth/transform[0][0];arrowLength=min(0.3,(0.866*arrowWidthPx*2.0)/linkDist);float smoothWidth=2.0;float arrowExtraWidth=arrowWidth-linkWidth;linkWidth+=smoothWidth/2.0;if(useArrow){linkWidth+=arrowExtraWidth;}smoothWidthRatio=smoothWidth/linkWidth;linkWidthArrowWidthRatio=arrowExtraWidth/linkWidth;float linkWidthPx=linkWidth/transform[0][0];vec3 rgbColor=color.rgb;float opacity=color.a*max(linkVisibilityMinTransparency,map(linkDistPx,linkVisibilityDistanceRange.g,linkVisibilityDistanceRange.r,0.0,1.0));if(greyoutStatusA.r>0.0||greyoutStatusB.r>0.0){opacity*=greyoutOpacity;}rgbaColor=vec4(rgbColor,opacity);vec2 point=a+xBasis*position.x+yBasis*linkWidthPx*position.y;vec2 p=2.0*point/spaceSize-1.0;p*=spaceSize/screenSize;vec3 final=transform*vec3(p,1);gl_Position=vec4(final.rg,0,1);}`;class bN extends ri{create(){this.updateColor(),this.updateWidth()}initPrograms(){const{reglInstance:t,config:n,store:r,data:i,points:o}=this,{pointsTextureSize:a}=r,s={buffer:t.buffer([[0,-.5],[1,-.5],[1,.5],[0,-.5],[1,.5],[0,.5]]),divisor:0},l=[];i.completeLinks.forEach(h=>{const f=i.getSortedIndexById(h.target),d=i.getSortedIndexById(h.source),m=d%a,k=Math.floor(d/a),R=f%a,de=Math.floor(f/a);l.push([m,k]),l.push([R,de])});const u=t.buffer(l);this.drawStraightCommand=t({vert:TN,frag:EN,attributes:{position:s,pointA:{buffer:()=>u,divisor:1,offset:Float32Array.BYTES_PER_ELEMENT*0,stride:Float32Array.BYTES_PER_ELEMENT*4},pointB:{buffer:()=>u,divisor:1,offset:Float32Array.BYTES_PER_ELEMENT*2,stride:Float32Array.BYTES_PER_ELEMENT*4},color:{buffer:()=>this.colorBuffer,divisor:1,offset:Float32Array.BYTES_PER_ELEMENT*0,stride:Float32Array.BYTES_PER_ELEMENT*4},width:{buffer:()=>this.widthBuffer,divisor:1,offset:Float32Array.BYTES_PER_ELEMENT*0,stride:Float32Array.BYTES_PER_ELEMENT*1}},uniforms:{positions:()=>o==null?void 0:o.currentPositionFbo,particleSize:()=>o==null?void 0:o.sizeFbo,particleGreyoutStatus:()=>o==null?void 0:o.greyoutStatusFbo,transform:()=>r.transform,pointsTextureSize:()=>r.pointsTextureSize,nodeSizeScale:()=>n.nodeSizeScale,widthScale:()=>n.linkWidthScale,useArrow:()=>n.linkArrows,arrowSizeScale:()=>n.linkArrowsSizeScale,spaceSize:()=>n.spaceSize,screenSize:()=>r.screenSize,ratio:()=>n.pixelRatio,linkVisibilityDistanceRange:()=>n.linkVisibilityDistanceRange,linkVisibilityMinTransparency:()=>n.linkVisibilityMinTransparency,greyoutOpacity:()=>n.linkGreyoutOpacity,scaleNodesOnZoom:()=>n.scaleNodesOnZoom},cull:{enable:!0,face:"back"},blend:{enable:!0,func:{dstRGB:"one minus src alpha",srcRGB:"src alpha",dstAlpha:"one minus src alpha",srcAlpha:"one"},equation:{rgb:"add",alpha:"add"}},depth:{enable:!1,mask:!1},count:6,instances:()=>i.linksNumber})}draw(){var t;!this.colorBuffer||!this.widthBuffer||(t=this.drawStraightCommand)===null||t===void 0||t.call(this)}updateColor(){const{reglInstance:t,config:n,data:r}=this,i=[];r.completeLinks.forEach(o=>{var a;const s=(a=ou(o,n.linkColor))!==null&&a!==void 0?a:v1,l=Qa(s);i.push(l)}),this.colorBuffer=t.buffer(i)}updateWidth(){const{reglInstance:t,config:n,data:r}=this,i=[];r.completeLinks.forEach(o=>{const a=ou(o,n.linkWidth);i.push([a??g1])}),this.widthBuffer=t.buffer(i)}destroy(){var t,n;(t=this.colorBuffer)===null||t===void 0||t.destroy(),(n=this.widthBuffer)===null||n===void 0||n.destroy()}}function kN(e,t,n,r){var i;const o=new Float32Array(n*n*4);for(let s=0;s<e.nodes.length;++s){const l=e.getSortedIndexByInputIndex(s),u=e.nodes[s];if(u&&l!==void 0){const h=(i=ou(u,r))!==null&&i!==void 0?i:p1,f=Qa(h);o[l*4+0]=f[0],o[l*4+1]=f[1],o[l*4+2]=f[2],o[l*4+3]=f[3]}}const a=t.texture({data:o,width:n,height:n,type:"float"});return t.framebuffer({color:a,depth:!1,stencil:!1})}function AN(e,t,n){const r=new Float32Array(n*n*4).fill(e?1:0);if(e)for(const o of e)r[o*4]=0;const i=t.texture({data:r,width:n,height:n,type:"float"});return t.framebuffer({color:i,depth:!1,stencil:!1})}var CN=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
varying vec2 index;varying vec3 rgbColor;varying float alpha;const float smoothing=0.9;void main(){if(alpha==0.0){discard;}float r=0.0;float delta=0.0;vec2 cxy=2.0*gl_PointCoord-1.0;r=dot(cxy,cxy);float opacity=alpha*(1.0-smoothstep(smoothing,1.0,r));gl_FragColor=vec4(rgbColor,opacity);}`,NN=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
attribute vec2 indexes;uniform sampler2D positions;uniform sampler2D particleColor;uniform sampler2D particleGreyoutStatus;uniform sampler2D particleSize;uniform float ratio;uniform mat3 transform;uniform float pointsTextureSize;uniform float sizeScale;uniform float spaceSize;uniform vec2 screenSize;uniform float greyoutOpacity;uniform bool scaleNodesOnZoom;varying vec2 index;varying vec3 rgbColor;varying float alpha;float pointSize(float size){float pSize;if(scaleNodesOnZoom){pSize=size*ratio*transform[0][0];}else{pSize=size*ratio*min(5.0,max(1.0,transform[0][0]*0.01));}return pSize;}void main(){index=indexes;vec4 pointPosition=texture2D(positions,(index+0.5)/pointsTextureSize);vec2 point=pointPosition.rg;vec2 p=2.0*point/spaceSize-1.0;p*=spaceSize/screenSize;vec3 final=transform*vec3(p,1);gl_Position=vec4(final.rg,0,1);vec4 pSize=texture2D(particleSize,(index+0.5)/pointsTextureSize);float size=pSize.r*sizeScale;vec4 pColor=texture2D(particleColor,(index+0.5)/pointsTextureSize);rgbColor=pColor.rgb;gl_PointSize=pointSize(size);alpha=pColor.a;vec4 greyoutStatus=texture2D(particleGreyoutStatus,(index+0.5)/pointsTextureSize);if(greyoutStatus.r>0.0){alpha*=greyoutOpacity;}}`,FN=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform sampler2D particleSize;uniform float sizeScale;uniform float spaceSize;uniform vec2 screenSize;uniform float ratio;uniform mat3 transform;uniform vec2 selection[2];uniform bool scaleNodesOnZoom;uniform float maxPointSize;varying vec2 index;float pointSize(float size){float pSize;if(scaleNodesOnZoom){pSize=size*ratio*transform[0][0];}else{pSize=size*ratio*min(5.0,max(1.0,transform[0][0]*0.01));}return min(pSize,maxPointSize);}void main(){vec4 pointPosition=texture2D(position,index);vec2 p=2.0*pointPosition.rg/spaceSize-1.0;p*=spaceSize/screenSize;vec3 final=transform*vec3(p,1);vec4 pSize=texture2D(particleSize,index);float size=pSize.r*sizeScale;float left=2.0*(selection[0].x-0.5*pointSize(size))/screenSize.x-1.0;float right=2.0*(selection[1].x+0.5*pointSize(size))/screenSize.x-1.0;float top=2.0*(selection[0].y-0.5*pointSize(size))/screenSize.y-1.0;float bottom=2.0*(selection[1].y+0.5*pointSize(size))/screenSize.y-1.0;gl_FragColor=vec4(0.0,0.0,pointPosition.rg);if(final.x>=left&&final.x<=right&&final.y>=top&&final.y<=bottom){gl_FragColor.r=1.0;}}`,PN=`precision mediump float;
#define GLSLIFY 1
uniform vec4 color;uniform float width;varying vec2 pos;const float smoothing=1.05;void main(){vec2 cxy=pos;float r=dot(cxy,cxy);float opacity=smoothstep(r,r*smoothing,1.0);float stroke=smoothstep(width,width*smoothing,r);gl_FragColor=vec4(color.rgb,opacity*stroke*color.a);}`,LN=`precision mediump float;
#define GLSLIFY 1
attribute vec2 quad;uniform sampler2D positions;uniform sampler2D particleSize;uniform mat3 transform;uniform float pointsTextureSize;uniform float sizeScale;uniform float spaceSize;uniform vec2 screenSize;uniform bool scaleNodesOnZoom;uniform float pointIndex;uniform float maxPointSize;uniform vec4 color;varying vec2 pos;float pointSize(float size){float pSize;if(scaleNodesOnZoom){pSize=size*transform[0][0];}else{pSize=size*min(5.0,max(1.0,transform[0][0]*0.01));}return min(pSize,maxPointSize);}const float relativeRingRadius=1.3;void main(){pos=quad;vec2 ij=vec2(mod(pointIndex,pointsTextureSize),floor(pointIndex/pointsTextureSize))+0.5;vec4 pointPosition=texture2D(positions,ij/pointsTextureSize);vec4 pSize=texture2D(particleSize,ij/pointsTextureSize);float size=(pointSize(pSize.r*sizeScale)*relativeRingRadius)/transform[0][0];float radius=size*0.5;vec2 a=pointPosition.xy;vec2 b=pointPosition.xy+vec2(0.0,radius);vec2 xBasis=b-a;vec2 yBasis=normalize(vec2(-xBasis.y,xBasis.x));vec2 point=a+xBasis*quad.x+yBasis*radius*quad.y;vec2 p=2.0*point/spaceSize-1.0;p*=spaceSize/screenSize;vec3 final=transform*vec3(p,1);gl_Position=vec4(final.rg,0,1);}`,zN=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
varying vec4 rgba;void main(){gl_FragColor=rgba;}`,IN=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform float pointsTextureSize;uniform sampler2D particleSize;uniform float sizeScale;uniform float spaceSize;uniform vec2 screenSize;uniform float ratio;uniform mat3 transform;uniform vec2 mousePosition;uniform bool scaleNodesOnZoom;uniform float maxPointSize;attribute vec2 indexes;varying vec4 rgba;float pointSize(float size){float pSize;if(scaleNodesOnZoom){pSize=size*ratio*transform[0][0];}else{pSize=size*ratio*min(5.0,max(1.0,transform[0][0]*0.01));}return min(pSize,maxPointSize);}float euclideanDistance(float x1,float x2,float y1,float y2){return sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1));}void main(){vec4 pointPosition=texture2D(position,(indexes+0.5)/pointsTextureSize);vec2 p=2.0*pointPosition.rg/spaceSize-1.0;p*=spaceSize/screenSize;vec3 final=transform*vec3(p,1);vec4 pSize=texture2D(particleSize,indexes/pointsTextureSize);float size=pSize.r*sizeScale;float pointRadius=0.5*pointSize(size);vec2 pointScreenPosition=(final.xy+1.0)*screenSize/2.0;rgba=vec4(0.0);gl_Position=vec4(0.5,0.5,0.0,1.0);if(euclideanDistance(pointScreenPosition.x,mousePosition.x,pointScreenPosition.y,mousePosition.y)<pointRadius){float index=indexes.g*pointsTextureSize+indexes.r;rgba=vec4(index,pSize.r,pointPosition.xy);gl_Position=vec4(-0.5,-0.5,0.0,1.0);}gl_PointSize=1.0;}`;function E1(e,t){const n=ou(e,t);return n??m1}function MN(e,t,n,r){const i=e.nodes.length,o=new Float32Array(n*n*4);for(let s=0;s<i;++s){const l=e.getSortedIndexByInputIndex(s),u=e.nodes[s];u&&l!==void 0&&(o[l*4]=E1(u,r))}const a=t.texture({data:o,width:n,height:n,type:"float"});return t.framebuffer({color:a,depth:!1,stencil:!1})}var RN=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform sampler2D velocity;uniform float friction;uniform float spaceSize;varying vec2 index;void main(){vec4 pointPosition=texture2D(position,index);vec4 pointVelocity=texture2D(velocity,index);pointVelocity.rg*=friction;pointPosition.rg+=pointVelocity.rg;pointPosition.r=clamp(pointPosition.r,0.0,spaceSize);pointPosition.g=clamp(pointPosition.g,0.0,spaceSize);gl_FragColor=pointPosition;}`;function DN(e,t){const n=Math.ceil(Math.sqrt(e.length));return t.framebuffer({shape:[n,n],depth:!1,stencil:!1,colorType:"float"})}function ON(e,t,n){const r=Math.ceil(Math.sqrt(e.length)),i=new Float32Array(r*r*4).fill(-1);for(const[a,s]of e.entries())s!==void 0&&(i[a*4]=s%t,i[a*4+1]=Math.floor(s/t),i[a*4+2]=0,i[a*4+3]=0);const o=n.texture({data:i,width:r,height:r,type:"float"});return n.framebuffer({color:o,depth:!1,stencil:!1})}var BN=`#ifdef GL_ES
precision highp float;
#define GLSLIFY 1
#endif
uniform sampler2D position;uniform sampler2D trackedIndices;uniform float pointsTextureSize;varying vec2 index;void main(){vec4 trackedPointIndicies=texture2D(trackedIndices,index);if(trackedPointIndicies.r<0.0)discard;vec4 pointPosition=texture2D(position,(trackedPointIndicies.rg+0.5)/pointsTextureSize);gl_FragColor=vec4(pointPosition.rg,1.0,1.0);}`;class GN extends ri{constructor(){super(...arguments),this.trackedPositionsById=new Map}create(){var t,n;const{reglInstance:r,config:i,store:o,data:a}=this,{spaceSize:s}=i,{pointsTextureSize:l}=o,u=a.nodes.length,h=new Float32Array(l*l*4);for(let f=0;f<u;++f){const d=this.data.getSortedIndexByInputIndex(f),m=a.nodes[f];if(m&&d!==void 0){const k=s??ft.spaceSize;h[d*4+0]=(t=m.x)!==null&&t!==void 0?t:k*o.getRandomFloat(.495,.505),h[d*4+1]=(n=m.y)!==null&&n!==void 0?n:k*o.getRandomFloat(.495,.505)}}this.currentPositionFbo=r.framebuffer({color:r.texture({data:h,shape:[l,l,4],type:"float"}),depth:!1,stencil:!1}),this.previousPositionFbo=r.framebuffer({color:r.texture({data:h,shape:[l,l,4],type:"float"}),depth:!1,stencil:!1}),this.velocityFbo=r.framebuffer({color:r.texture({data:new Float32Array(l*l*4).fill(0),shape:[l,l,4],type:"float"}),depth:!1,stencil:!1}),this.selectedFbo=r.framebuffer({color:r.texture({data:h,shape:[l,l,4],type:"float"}),depth:!1,stencil:!1}),this.hoveredFbo=r.framebuffer({shape:[2,2],colorType:"float",depth:!1,stencil:!1}),this.updateSize(),this.updateColor(),this.updateGreyoutStatus()}initPrograms(){const{reglInstance:t,config:n,store:r,data:i}=this;this.updatePositionCommand=t({frag:RN,vert:sn,framebuffer:()=>this.currentPositionFbo,primitive:"triangle strip",count:4,attributes:{quad:rn(t)},uniforms:{position:()=>this.previousPositionFbo,velocity:()=>this.velocityFbo,friction:()=>{var o;return(o=n.simulation)===null||o===void 0?void 0:o.friction},spaceSize:()=>n.spaceSize}}),this.drawCommand=t({frag:CN,vert:NN,primitive:"points",count:()=>i.nodes.length,attributes:{indexes:Ka(t,r.pointsTextureSize)},uniforms:{positions:()=>this.currentPositionFbo,particleColor:()=>this.colorFbo,particleGreyoutStatus:()=>this.greyoutStatusFbo,particleSize:()=>this.sizeFbo,ratio:()=>n.pixelRatio,sizeScale:()=>n.nodeSizeScale,pointsTextureSize:()=>r.pointsTextureSize,transform:()=>r.transform,spaceSize:()=>n.spaceSize,screenSize:()=>r.screenSize,greyoutOpacity:()=>n.nodeGreyoutOpacity,scaleNodesOnZoom:()=>n.scaleNodesOnZoom},blend:{enable:!0,func:{dstRGB:"one minus src alpha",srcRGB:"src alpha",dstAlpha:"one minus src alpha",srcAlpha:"one"},equation:{rgb:"add",alpha:"add"}},depth:{enable:!1,mask:!1}}),this.findPointsOnAreaSelectionCommand=t({frag:FN,vert:sn,framebuffer:()=>this.selectedFbo,primitive:"triangle strip",count:4,attributes:{quad:rn(t)},uniforms:{position:()=>this.currentPositionFbo,particleSize:()=>this.sizeFbo,spaceSize:()=>n.spaceSize,screenSize:()=>r.screenSize,sizeScale:()=>n.nodeSizeScale,transform:()=>r.transform,ratio:()=>n.pixelRatio,"selection[0]":()=>r.selectedArea[0],"selection[1]":()=>r.selectedArea[1],scaleNodesOnZoom:()=>n.scaleNodesOnZoom,maxPointSize:()=>r.maxPointSize}}),this.clearHoveredFboCommand=t({frag:Za,vert:sn,framebuffer:this.hoveredFbo,primitive:"triangle strip",count:4,attributes:{quad:rn(t)}}),this.findHoveredPointCommand=t({frag:zN,vert:IN,primitive:"points",count:()=>i.nodes.length,framebuffer:()=>this.hoveredFbo,attributes:{indexes:Ka(t,r.pointsTextureSize)},uniforms:{position:()=>this.currentPositionFbo,particleSize:()=>this.sizeFbo,ratio:()=>n.pixelRatio,sizeScale:()=>n.nodeSizeScale,pointsTextureSize:()=>r.pointsTextureSize,transform:()=>r.transform,spaceSize:()=>n.spaceSize,screenSize:()=>r.screenSize,scaleNodesOnZoom:()=>n.scaleNodesOnZoom,mousePosition:()=>r.screenMousePosition,maxPointSize:()=>r.maxPointSize},depth:{enable:!1,mask:!1}}),this.drawHighlightedCommand=t({frag:PN,vert:LN,attributes:{quad:rn(t)},primitive:"triangle strip",count:4,uniforms:{color:t.prop("color"),width:t.prop("width"),pointIndex:t.prop("pointIndex"),positions:()=>this.currentPositionFbo,particleSize:()=>this.sizeFbo,sizeScale:()=>n.nodeSizeScale,pointsTextureSize:()=>r.pointsTextureSize,transform:()=>r.transform,spaceSize:()=>n.spaceSize,screenSize:()=>r.screenSize,scaleNodesOnZoom:()=>n.scaleNodesOnZoom,maxPointSize:()=>r.maxPointSize},blend:{enable:!0,func:{dstRGB:"one minus src alpha",srcRGB:"src alpha",dstAlpha:"one minus src alpha",srcAlpha:"one"},equation:{rgb:"add",alpha:"add"}},depth:{enable:!1,mask:!1}}),this.trackPointsCommand=t({frag:BN,vert:sn,framebuffer:()=>this.trackedPositionsFbo,primitive:"triangle strip",count:4,attributes:{quad:rn(t)},uniforms:{position:()=>this.currentPositionFbo,trackedIndices:()=>this.trackedIndicesFbo,pointsTextureSize:()=>r.pointsTextureSize}})}updateColor(){const{reglInstance:t,config:n,store:r,data:i}=this;this.colorFbo=kN(i,t,r.pointsTextureSize,n.nodeColor)}updateGreyoutStatus(){const{reglInstance:t,store:n}=this;this.greyoutStatusFbo=AN(n.selectedIndices,t,n.pointsTextureSize)}updateSize(){const{reglInstance:t,config:n,store:r,data:i}=this;this.sizeFbo=MN(i,t,r.pointsTextureSize,n.nodeSize)}trackPoints(){var t;!this.trackedIndicesFbo||!this.trackedPositionsFbo||(t=this.trackPointsCommand)===null||t===void 0||t.call(this)}draw(){var t,n,r;(t=this.drawCommand)===null||t===void 0||t.call(this),this.config.renderHighlightedNodeRing&&(this.store.hoveredNode&&((n=this.drawHighlightedCommand)===null||n===void 0||n.call(this,{width:.85,color:this.store.hoveredNodeRingColor,pointIndex:this.store.hoveredNode.index})),this.store.focusedNode&&((r=this.drawHighlightedCommand)===null||r===void 0||r.call(this,{width:.75,color:this.store.focusedNodeRingColor,pointIndex:this.store.focusedNode.index})))}updatePosition(){var t;(t=this.updatePositionCommand)===null||t===void 0||t.call(this),this.swapFbo()}findPointsOnAreaSelection(){var t;(t=this.findPointsOnAreaSelectionCommand)===null||t===void 0||t.call(this)}findHoveredPoint(){var t,n;(t=this.clearHoveredFboCommand)===null||t===void 0||t.call(this),(n=this.findHoveredPointCommand)===null||n===void 0||n.call(this)}getNodeRadius(t){const{nodeSize:n}=this.config;return E1(t,n)/2}trackNodesByIds(t){this.trackedIds=t.length?t:void 0,this.trackedPositionsById.clear();const n=t.map(r=>this.data.getSortedIndexById(r)).filter(r=>r!==void 0);this.trackedIndicesFbo&&(this.trackedIndicesFbo.destroy(),this.trackedIndicesFbo=void 0),this.trackedPositionsFbo&&(this.trackedPositionsFbo.destroy(),this.trackedPositionsFbo=void 0),n.length&&(this.trackedIndicesFbo=ON(n,this.store.pointsTextureSize,this.reglInstance),this.trackedPositionsFbo=DN(n,this.reglInstance)),this.trackPoints()}getTrackedPositions(){if(!this.trackedIds)return this.trackedPositionsById;const t=wi(this.reglInstance,this.trackedPositionsFbo);return this.trackedIds.forEach((n,r)=>{const i=t[r*4],o=t[r*4+1];i!==void 0&&o!==void 0&&this.trackedPositionsById.set(n,[i,o])}),this.trackedPositionsById}destroy(){var t,n,r,i,o,a,s,l,u,h;(t=this.currentPositionFbo)===null||t===void 0||t.destroy(),(n=this.previousPositionFbo)===null||n===void 0||n.destroy(),(r=this.velocityFbo)===null||r===void 0||r.destroy(),(i=this.selectedFbo)===null||i===void 0||i.destroy(),(o=this.colorFbo)===null||o===void 0||o.destroy(),(a=this.sizeFbo)===null||a===void 0||a.destroy(),(s=this.greyoutStatusFbo)===null||s===void 0||s.destroy(),(l=this.hoveredFbo)===null||l===void 0||l.destroy(),(u=this.trackedIndicesFbo)===null||u===void 0||u.destroy(),(h=this.trackedPositionsFbo)===null||h===void 0||h.destroy()}swapFbo(){const t=this.previousPositionFbo;this.previousPositionFbo=this.currentPositionFbo,this.currentPositionFbo=t}}const cd=.001,fd=64;class jN{constructor(){this.pointsTextureSize=0,this.linksTextureSize=0,this.alpha=1,this.transform=cC(),this.backgroundColor=[0,0,0,0],this.screenSize=[0,0],this.mousePosition=[0,0],this.screenMousePosition=[0,0],this.selectedArea=[[0,0],[0,0]],this.isSimulationRunning=!1,this.simulationProgress=0,this.selectedIndices=null,this.maxPointSize=fd,this.hoveredNode=void 0,this.focusedNode=void 0,this.hoveredNodeRingColor=[1,1,1,JC],this.focusedNodeRingColor=[1,1,1,eN],this.alphaTarget=0,this.scaleNodeX=qa(),this.scaleNodeY=qa(),this.random=new h1,this.alphaDecay=t=>1-Math.pow(cd,1/t)}addRandomSeed(t){this.random=this.random.clone(t)}getRandomFloat(t,n){return this.random.float(t,n)}updateScreenSize(t,n,r){this.screenSize=[t,n],this.scaleNodeX.domain([0,r]).range([(t-r)/2,(t+r)/2]),this.scaleNodeY.domain([r,0]).range([(n-r)/2,(n+r)/2])}scaleX(t){return this.scaleNodeX(t)}scaleY(t){return this.scaleNodeY(t)}setHighlightedNodeRingColor(t){const n=Qa(t);this.hoveredNodeRingColor[0]=n[0],this.hoveredNodeRingColor[1]=n[1],this.hoveredNodeRingColor[2]=n[2],this.focusedNodeRingColor[0]=n[0],this.focusedNodeRingColor[1]=n[1],this.focusedNodeRingColor[2]=n[2]}setFocusedNode(t,n){t&&n!==void 0?this.focusedNode={node:t,index:n}:this.focusedNode=void 0}addAlpha(t){return(this.alphaTarget-this.alpha)*this.alphaDecay(t)}}class VN{constructor(t,n){this.eventTransform=Ca,this.behavior=ZA().scaleExtent([.001,1/0]).on("start",r=>{var i,o,a;this.isRunning=!0;const s=!!r.sourceEvent;(a=(o=(i=this.config)===null||i===void 0?void 0:i.events)===null||o===void 0?void 0:o.onZoomStart)===null||a===void 0||a.call(o,r,s)}).on("zoom",r=>{var i,o,a;this.eventTransform=r.transform;const{eventTransform:{x:s,y:l,k:u},store:{transform:h,screenSize:f}}=this,d=f[0],m=f[1];fC(h,d,m),fv(h,h,[s,l]),rf(h,h,[u,u]),fv(h,h,[d/2,m/2]),rf(h,h,[d/2,m/2]),rf(h,h,[1,-1]);const k=!!r.sourceEvent;(a=(o=(i=this.config)===null||i===void 0?void 0:i.events)===null||o===void 0?void 0:o.onZoom)===null||a===void 0||a.call(o,r,k)}).on("end",r=>{var i,o,a;this.isRunning=!1;const s=!!r.sourceEvent;(a=(o=(i=this.config)===null||i===void 0?void 0:i.events)===null||o===void 0?void 0:o.onZoomEnd)===null||a===void 0||a.call(o,r,s)}),this.isRunning=!1,this.store=t,this.config=n}getTransform(t,n){if(t.length===0)return this.eventTransform;const{store:{screenSize:r,maxPointSize:i}}=this,o=r[0],a=r[1],s=Aa(t.map(_=>_[0])),l=Aa(t.map(_=>_[1]));s[0]=this.store.scaleX(s[0]-i/2),s[1]=this.store.scaleX(s[1]+i/2),l[0]=this.store.scaleY(l[0]-i/2),l[1]=this.store.scaleY(l[1]+i/2);const u=o/(s[1]-s[0]),h=a/(l[0]-l[1]),f=rN(n??Math.min(u,h),...this.behavior.scaleExtent()),d=(s[1]+s[0])/2,m=(l[1]+l[0])/2,k=o/2-d*f,R=a/2-m*f;return Ca.translate(k,R).scale(f)}getDistanceToPoint(t){const{x:n,y:r,k:i}=this.eventTransform,o=this.getTransform([t],i),a=n-o.x,s=r-o.y;return Math.sqrt(a*a+s*s)}getMiddlePointTransform(t){const{store:{screenSize:n},eventTransform:{x:r,y:i,k:o}}=this,a=n[0],s=n[1],l=(a/2-r)/o,u=(s/2-i)/o,h=this.store.scaleX(t[0]),f=this.store.scaleY(t[1]),d=(l+h)/2,m=(u+f)/2,k=1,R=a/2-d*k,de=s/2-m*k;return Ca.translate(R,de).scale(k)}convertSpaceToScreenPosition(t){const n=this.eventTransform.applyX(this.store.scaleX(t[0])),r=this.eventTransform.applyY(this.store.scaleY(t[1]));return[n,r]}convertSpaceToScreenRadius(t){const{config:{scaleNodesOnZoom:n},store:{maxPointSize:r},eventTransform:{k:i}}=this;let o=t*2;return n?o*=i:o*=Math.min(5,Math.max(1,i*.01)),Math.min(o,r)/2}}class $N{constructor(t,n){var r;this.config=new iN,this.requestAnimationFrameId=0,this.isRightClickMouse=!1,this.graph=new wN,this.store=new jN,this.zoomInstance=new VN(this.store,this.config),this.hasBeenRecentlyDestroyed=!1,n&&this.config.init(n);const i=t.clientWidth,o=t.clientHeight;this.store.updateScreenSize(i,o,this.config.spaceSize),t.width=i*this.config.pixelRatio,t.height=o*this.config.pixelRatio,t.style.width===""&&t.style.height===""&&Yn(t).style("width","100%").style("height","100%"),this.canvas=t,this.canvasD3Selection=Yn(t),this.zoomInstance.behavior.on("start.detect",a=>{this.currentEvent=a}).on("zoom.detect",a=>{!!a.sourceEvent&&this.updateMousePosition(a.sourceEvent),this.currentEvent=a}).on("end.detect",a=>{this.currentEvent=a}),this.canvasD3Selection.call(this.zoomInstance.behavior).on("click",this.onClick.bind(this)).on("mousemove",this.onMouseMove.bind(this)).on("contextmenu",this.onRightClickMouse.bind(this)),this.reglInstance=uC({canvas:this.canvas,attributes:{antialias:!1,preserveDrawingBuffer:!0,premultipliedAlpha:!1,alpha:!1},extensions:["OES_texture_float","ANGLE_instanced_arrays"]}),this.store.maxPointSize=((r=this.reglInstance.limits.pointSizeDims[1])!==null&&r!==void 0?r:fd)/this.config.pixelRatio,this.points=new GN(this.reglInstance,this.config,this.store,this.graph),this.lines=new bN(this.reglInstance,this.config,this.store,this.graph,this.points),this.forceGravity=new cN(this.reglInstance,this.config,this.store,this.graph,this.points),this.forceCenter=new lN(this.reglInstance,this.config,this.store,this.graph,this.points),this.forceManyBody=this.config.useQuadtree?new vN(this.reglInstance,this.config,this.store,this.graph,this.points):new pN(this.reglInstance,this.config,this.store,this.graph,this.points),this.forceLinkIncoming=new gv(this.reglInstance,this.config,this.store,this.graph,this.points),this.forceLinkOutgoing=new gv(this.reglInstance,this.config,this.store,this.graph,this.points),this.forceMouse=new yN(this.reglInstance,this.config,this.store,this.graph,this.points),this.store.backgroundColor=Qa(this.config.backgroundColor),this.config.highlightedNodeRingColor&&this.store.setHighlightedNodeRingColor(this.config.highlightedNodeRingColor),this.config.showFPSMonitor&&(this.fpsMonitor=new yv(this.canvas)),this.config.randomSeed!==void 0&&this.store.addRandomSeed(this.config.randomSeed)}get progress(){return this.store.simulationProgress}get isSimulationRunning(){return this.store.isSimulationRunning}get maxPointSize(){return this.store.maxPointSize}setConfig(t){var n,r;const i={...this.config};this.config.init(t),i.linkColor!==this.config.linkColor&&this.lines.updateColor(),i.nodeColor!==this.config.nodeColor&&this.points.updateColor(),i.nodeSize!==this.config.nodeSize&&this.points.updateSize(),i.linkWidth!==this.config.linkWidth&&this.lines.updateWidth(),i.backgroundColor!==this.config.backgroundColor&&(this.store.backgroundColor=Qa(this.config.backgroundColor)),i.highlightedNodeRingColor!==this.config.highlightedNodeRingColor&&this.store.setHighlightedNodeRingColor(this.config.highlightedNodeRingColor),(i.spaceSize!==this.config.spaceSize||i.simulation.repulsionQuadtreeLevels!==this.config.simulation.repulsionQuadtreeLevels)&&this.update(this.store.isSimulationRunning),i.showFPSMonitor!==this.config.showFPSMonitor&&(this.config.showFPSMonitor?this.fpsMonitor=new yv(this.canvas):((n=this.fpsMonitor)===null||n===void 0||n.destroy(),this.fpsMonitor=void 0)),i.pixelRatio!==this.config.pixelRatio&&(this.store.maxPointSize=((r=this.reglInstance.limits.pointSizeDims[1])!==null&&r!==void 0?r:fd)/this.config.pixelRatio)}setData(t,n,r=!0){if(!t.length&&!n.length){this.destroy(),this.reglInstance.clear({color:this.store.backgroundColor,depth:1,stencil:0});return}this.graph.setData(t,n),this.update(r)}zoomToNodeById(t,n=700,r=mv,i=!0){const o=this.graph.getNodeById(t);o&&this.zoomToNode(o,n,r,i)}zoomToNodeByIndex(t,n=700,r=mv,i=!0){const o=this.graph.getNodeByIndex(t);o&&this.zoomToNode(o,n,r,i)}zoom(t,n=0){this.setZoomLevel(t,n)}setZoomLevel(t,n=0){this.canvasD3Selection.transition().duration(n).call(this.zoomInstance.behavior.scaleTo,t)}getZoomLevel(){return this.zoomInstance.eventTransform.k}getNodePositions(){if(this.hasBeenRecentlyDestroyed)return{};const t=wi(this.reglInstance,this.points.currentPositionFbo);return this.graph.nodes.reduce((n,r)=>{const i=this.graph.getSortedIndexById(r.id),o=t[i*4+0],a=t[i*4+1];return o!==void 0&&a!==void 0&&(n[r.id]={x:o,y:a}),n},{})}getNodePositionsMap(){const t=new Map;if(this.hasBeenRecentlyDestroyed)return t;const n=wi(this.reglInstance,this.points.currentPositionFbo);return this.graph.nodes.reduce((r,i)=>{const o=this.graph.getSortedIndexById(i.id),a=n[o*4+0],s=n[o*4+1];return a!==void 0&&s!==void 0&&r.set(i.id,[a,s]),r},t)}getNodePositionsArray(){const t=[];if(this.hasBeenRecentlyDestroyed)return[];const n=wi(this.reglInstance,this.points.currentPositionFbo);t.length=this.graph.nodes.length;for(let r=0;r<this.graph.nodes.length;r+=1){const i=this.graph.getSortedIndexByInputIndex(r),o=n[i*4+0],a=n[i*4+1];o!==void 0&&a!==void 0&&(t[r]=[o,a])}return t}fitView(t=250){this.setZoomTransformByNodePositions(this.getNodePositionsArray(),t)}fitViewByNodeIds(t,n=250){const r=this.getNodePositionsMap(),i=t.map(o=>r.get(o)).filter(o=>o!==void 0);this.setZoomTransformByNodePositions(i,n)}selectNodesInRange(t){if(t){const n=this.store.screenSize[1];this.store.selectedArea=[[t[0][0],n-t[1][1]],[t[1][0],n-t[0][1]]],this.points.findPointsOnAreaSelection();const r=wi(this.reglInstance,this.points.selectedFbo);this.store.selectedIndices=r.map((i,o)=>o%4===0&&i!==0?o/4:-1).filter(i=>i!==-1)}else this.store.selectedIndices=null;this.store.setFocusedNode(),this.points.updateGreyoutStatus()}selectNodeById(t,n=!1){var r;if(n){const i=(r=this.graph.getAdjacentNodes(t))!==null&&r!==void 0?r:[];this.selectNodesByIds([t,...i.map(o=>o.id)])}else this.selectNodesByIds([t]);this.store.setFocusedNode(this.graph.getNodeById(t),this.graph.getSortedIndexById(t))}selectNodeByIndex(t,n=!1){const r=this.graph.getNodeByIndex(t);r&&this.selectNodeById(r.id,n)}selectNodesByIds(t){this.selectNodesByIndices(t==null?void 0:t.map(n=>this.graph.getSortedIndexById(n)))}selectNodesByIndices(t){t?t.length===0?this.store.selectedIndices=new Float32Array:this.store.selectedIndices=new Float32Array(t.filter(n=>n!==void 0)):this.store.selectedIndices=null,this.store.setFocusedNode(),this.points.updateGreyoutStatus()}unselectNodes(){this.store.selectedIndices=null,this.store.setFocusedNode(),this.points.updateGreyoutStatus()}getSelectedNodes(){const{selectedIndices:t}=this.store;if(!t)return null;const n=new Array(t.length);for(const[r,i]of t.entries())if(i!==void 0){const o=this.graph.getInputIndexBySortedIndex(i);o!==void 0&&(n[r]=this.graph.nodes[o])}return n}getAdjacentNodes(t){return this.graph.getAdjacentNodes(t)}spaceToScreenPosition(t){return this.zoomInstance.convertSpaceToScreenPosition(t)}spaceToScreenRadius(t){return this.zoomInstance.convertSpaceToScreenRadius(t)}getNodeRadiusByIndex(t){const n=this.graph.getNodeByIndex(t);return n&&this.points.getNodeRadius(n)}getNodeRadiusById(t){const n=this.graph.getNodeById(t);return n&&this.points.getNodeRadius(n)}trackNodePositionsByIds(t){this.points.trackNodesByIds(t)}trackNodePositionsByIndices(t){this.points.trackNodesByIds(t.map(n=>this.graph.getNodeByIndex(n)).filter(n=>n!==void 0).map(n=>n.id))}getTrackedNodePositionsMap(){return this.points.getTrackedPositions()}start(t=1){var n,r;this.graph.nodes.length&&(this.store.isSimulationRunning=!0,this.store.alpha=t,this.store.simulationProgress=0,(r=(n=this.config.simulation).onStart)===null||r===void 0||r.call(n),this.stopFrames(),this.frame())}pause(){var t,n;this.store.isSimulationRunning=!1,(n=(t=this.config.simulation).onPause)===null||n===void 0||n.call(t)}restart(){var t,n;this.store.isSimulationRunning=!0,(n=(t=this.config.simulation).onRestart)===null||n===void 0||n.call(t)}step(){this.store.isSimulationRunning=!1,this.stopFrames(),this.frame()}destroy(){var t;this.stopFrames(),!this.hasBeenRecentlyDestroyed&&(this.points.destroy(),this.lines.destroy(),this.forceCenter.destroy(),this.forceLinkIncoming.destroy(),this.forceLinkOutgoing.destroy(),(t=this.forceManyBody)===null||t===void 0||t.destroy(),this.reglInstance.destroy(),this.hasBeenRecentlyDestroyed=!0)}create(){var t;this.points.create(),this.lines.create(),(t=this.forceManyBody)===null||t===void 0||t.create(),this.forceLinkIncoming.create(Ja.INCOMING),this.forceLinkOutgoing.create(Ja.OUTGOING),this.forceCenter.create(),this.hasBeenRecentlyDestroyed=!1}update(t){const{graph:n}=this;this.store.pointsTextureSize=Math.ceil(Math.sqrt(n.nodes.length)),this.store.linksTextureSize=Math.ceil(Math.sqrt(n.linksNumber*2)),this.destroy(),this.create(),this.initPrograms(),t?this.start():this.step()}initPrograms(){var t;this.points.initPrograms(),this.lines.initPrograms(),this.forceGravity.initPrograms(),this.forceLinkIncoming.initPrograms(),this.forceLinkOutgoing.initPrograms(),this.forceMouse.initPrograms(),(t=this.forceManyBody)===null||t===void 0||t.initPrograms(),this.forceCenter.initPrograms()}frame(){const{config:{simulation:t,renderLinks:n},store:{alpha:r,isSimulationRunning:i}}=this;r<cd&&i&&this.end(),this.requestAnimationFrameId=window.requestAnimationFrame(o=>{var a,s,l,u,h,f;(a=this.fpsMonitor)===null||a===void 0||a.begin(),this.resizeCanvas(),this.findHoveredPoint(),this.isRightClickMouse&&(i||this.start(.1),this.forceMouse.run(),this.points.updatePosition()),i&&!this.zoomInstance.isRunning&&(t.gravity&&(this.forceGravity.run(),this.points.updatePosition()),t.center&&(this.forceCenter.run(),this.points.updatePosition()),(s=this.forceManyBody)===null||s===void 0||s.run(),this.points.updatePosition(),this.forceLinkIncoming.run(),this.points.updatePosition(),this.forceLinkOutgoing.run(),this.points.updatePosition(),this.store.alpha+=this.store.addAlpha((l=this.config.simulation.decay)!==null&&l!==void 0?l:ft.simulation.decay),this.isRightClickMouse&&(this.store.alpha=Math.max(this.store.alpha,.1)),this.store.simulationProgress=Math.sqrt(Math.min(1,cd/this.store.alpha)),(h=(u=this.config.simulation).onTick)===null||h===void 0||h.call(u,this.store.alpha)),this.points.trackPoints(),this.reglInstance.clear({color:this.store.backgroundColor,depth:1,stencil:0}),n&&this.lines.draw(),this.points.draw(),(f=this.fpsMonitor)===null||f===void 0||f.end(o),this.currentEvent=void 0,this.frame()})}stopFrames(){this.requestAnimationFrameId&&window.cancelAnimationFrame(this.requestAnimationFrameId)}end(){var t,n;this.store.isSimulationRunning=!1,this.store.simulationProgress=1,(n=(t=this.config.simulation).onEnd)===null||n===void 0||n.call(t)}onClick(t){var n,r,i,o,a,s;this.store.setFocusedNode((n=this.store.hoveredNode)===null||n===void 0?void 0:n.node,(r=this.store.hoveredNode)===null||r===void 0?void 0:r.index),(o=(i=this.config.events).onClick)===null||o===void 0||o.call(i,(a=this.store.hoveredNode)===null||a===void 0?void 0:a.node,this.store.hoveredNode?this.graph.getInputIndexBySortedIndex(this.store.hoveredNode.index):void 0,(s=this.store.hoveredNode)===null||s===void 0?void 0:s.position,t)}updateMousePosition(t){if(!t||t.offsetX===void 0||t.offsetY===void 0)return;const{x:n,y:r,k:i}=this.zoomInstance.eventTransform,o=this.canvas.clientHeight,a=t.offsetX,s=t.offsetY,l=(a-n)/i,u=(s-r)/i;this.store.mousePosition=[l,o-u],this.store.mousePosition[0]-=(this.store.screenSize[0]-this.config.spaceSize)/2,this.store.mousePosition[1]-=(this.store.screenSize[1]-this.config.spaceSize)/2,this.store.screenMousePosition=[a,this.store.screenSize[1]-s]}onMouseMove(t){var n,r,i,o;this.currentEvent=t,this.updateMousePosition(t),this.isRightClickMouse=t.which===3,(r=(n=this.config.events).onMouseMove)===null||r===void 0||r.call(n,(i=this.store.hoveredNode)===null||i===void 0?void 0:i.node,this.store.hoveredNode?this.graph.getInputIndexBySortedIndex(this.store.hoveredNode.index):void 0,(o=this.store.hoveredNode)===null||o===void 0?void 0:o.position,this.currentEvent)}onRightClickMouse(t){t.preventDefault()}resizeCanvas(){const t=this.canvas.width,n=this.canvas.height,r=this.canvas.clientWidth,i=this.canvas.clientHeight;(t!==r*this.config.pixelRatio||n!==i*this.config.pixelRatio)&&(this.store.updateScreenSize(r,i,this.config.spaceSize),this.canvas.width=r*this.config.pixelRatio,this.canvas.height=i*this.config.pixelRatio,this.reglInstance.poll(),this.canvasD3Selection.call(this.zoomInstance.behavior.transform,this.zoomInstance.eventTransform))}setZoomTransformByNodePositions(t,n=250,r){const i=this.zoomInstance.getTransform(t,r);this.canvasD3Selection.transition().ease(xA).duration(n).call(this.zoomInstance.behavior.transform,i)}zoomToNode(t,n,r,i){const{graph:o,store:{screenSize:a}}=this,s=wi(this.reglInstance,this.points.currentPositionFbo),l=o.getSortedIndexById(t.id);if(l===void 0)return;const u=s[l*4+0],h=s[l*4+1];if(u===void 0||h===void 0)return;const f=this.zoomInstance.getDistanceToPoint([u,h]),d=i?r:Math.max(this.getZoomLevel(),r);if(f<Math.min(a[0],a[1]))this.setZoomTransformByNodePositions([[u,h]],n,d);else{const m=this.zoomInstance.getTransform([[u,h]],d),k=this.zoomInstance.getMiddlePointTransform([u,h]);this.canvasD3Selection.transition().ease(gA).duration(n/2).call(this.zoomInstance.behavior.transform,k).transition().ease(yA).duration(n/2).call(this.zoomInstance.behavior.transform,m)}}findHoveredPoint(){var t,n,r,i,o;this.points.findHoveredPoint();let a=!1,s=!1;const l=wi(this.reglInstance,this.points.hoveredFbo);if(l[1]){const h=l[0],f=this.graph.getInputIndexBySortedIndex(h),d=f!==void 0?this.graph.getNodeByIndex(f):void 0;((t=this.store.hoveredNode)===null||t===void 0?void 0:t.node)!==d&&(a=!0);const m=l[2],k=l[3];this.store.hoveredNode=d&&{node:d,index:h,position:[m,k]}}else this.store.hoveredNode&&(s=!0),this.store.hoveredNode=void 0;a&&this.store.hoveredNode&&((r=(n=this.config.events).onNodeMouseOver)===null||r===void 0||r.call(n,this.store.hoveredNode.node,this.graph.getInputIndexBySortedIndex(this.graph.getSortedIndexById(this.store.hoveredNode.node.id)),this.store.hoveredNode.position,this.currentEvent)),s&&((o=(i=this.config.events).onNodeMouseOut)===null||o===void 0||o.call(i,this.currentEvent))}}class UN extends Nn.Component{constructor(n){super(n);it(this,"setData",(n,r)=>{this.setState(i=>({data:{...i.data,...n}}),r)});it(this,"setNodesGraph",()=>{Bt("Setting nodes graph..."),this.state.nodeGraph.setData(this.state.data.nodes,this.state.data.links),setTimeout(()=>{this.state.nodeGraph.fitView()},750),Bt("Done setting nodes graph.")});it(this,"setThreshold",n=>{this.setState({threshold:n})});it(this,"setThresholdValid",n=>{this.setState({thresholdValid:n})});it(this,"setClusterHistogramData",(n,r)=>{this.setState(i=>({clusterHistogram:{...i.clusterHistogram,...n}}),r)});it(this,"addToNodeMapFromLink",(n,r)=>{r.has(n.source)||r.set(n.source,{id:n.source,color:"#000000",adjacentNodes:new Set([n.target]),individualID:n.source.split("|")[1]??n.source,views:new Set}),r.has(n.target)||r.set(n.target,{id:n.target,color:"#000000",adjacentNodes:new Set([n.source]),individualID:n.target.split("|")[1]??n.target,views:new Set}),r.get(n.source).adjacentNodes.add(n.target),r.get(n.target).adjacentNodes.add(n.source)});it(this,"updateDiagrams",()=>{console.log(`


-------- UPDATING DATA -------- 


`),Bt("Updating data...");const n=new Map,r=new Map,i=[...this.state.data.allLinks.values()];for(const s of i)s.value<this.state.threshold&&(this.addToNodeMapFromLink(s,r),n.set(s.id,s));const o=[...r.values()],a=[...n.values()];Bt("Setting data..."),this.setData({nodes:o,links:a,nodesMap:r},()=>{this.updateClusterData(this.updateSummaryStats),this.updateNodesFromNodeViews(),Bt("Done setting data.")})});it(this,"updateClusterData",n=>{Bt("Generating clusters...");const r=this.state.data.nodesMap,i=new Set(this.state.data.nodesMap.keys()),o=[],a=[],s=new Map;let l=i.values();for(;i.size>0;){const h=new Set,f=l.next().value;h.add(f),i.delete(f);const d=[...r.get(f).adjacentNodes];for(;d.length>0;){const R=d.pop();h.has(R)||(h.add(R),i.delete(R),d.push(...r.get(R).adjacentNodes))}let m=0;const k=[...h.values()];for(let R=0;R<k.length;R++){const de=k[R],_=r.get(de).adjacentNodes,b=[..._];for(let F=0;F<b.length;F++){const V=b[F],W=[...r.get(V).adjacentNodes];for(let he=0;he<W.length;he++)_.has(W[he])&&m++}}o.push({cluster:h,size:h.size,triangleCount:m}),a.push(h.size),s.set(h.size,(s.get(h.size)||0)+1)}const u=Math.max(...a);this.setClusterHistogramData({histogramTicks:u,maxHistogramTicks:u}),o.sort((h,f)=>h.cluster.size-f.cluster.size),a.sort((h,f)=>h-f),this.setData({cluster:{clusterNodes:o,clusterSizes:a,clusterDistribution:s}},n),Bt("Done generating clusters...")});it(this,"updateSummaryStats",()=>{const n=this.state.data;if(n.links.length===0){this.setData({stats:{clusterMedian:0,clusterMean:0,transitivity:0,triangleCount:0,meanPairwiseDistance:0,medianPairwiseDistance:0,assortativity:0}});return}const r=n.cluster.clusterSizes[Math.floor(n.cluster.clusterSizes.length/2)],i=(n.cluster.clusterSizes.reduce((_,b)=>_+b,0)/n.cluster.clusterSizes.length).toFixed(2);let o=0;for(const _ of n.links)o+=_.value;const a=(o/n.links.length).toFixed(6);n.links.sort((_,b)=>_.value-b.value);const s=n.links[Math.floor(n.links.length/2)].value.toFixed(6);let l=0;for(let _=0;_<n.cluster.clusterNodes.length;_++)l+=n.cluster.clusterNodes[_].triangleCount;let u=0;for(const _ of n.nodes){const b=_.adjacentNodes.size;u+=b*(b-1)/2}u/=3;const h=(l/u).toFixed(2);let f=0,d=0;for(const _ of n.links)f+=n.nodesMap.get(_.source).adjacentNodes.size,d+=n.nodesMap.get(_.target).adjacentNodes.size;f/=n.links.length,d/=n.links.length;let m=0,k=0,R=0;for(const _ of n.links)m+=(n.nodesMap.get(_.source).adjacentNodes.size-f)*(n.nodesMap.get(_.target).adjacentNodes.size-d),k+=Math.pow(n.nodesMap.get(_.source).adjacentNodes.size-f,2),R+=Math.pow(n.nodesMap.get(_.target).adjacentNodes.size-d,2);const de=(m/Math.sqrt(k*R)).toFixed(8);this.setData({stats:{clusterMedian:r,clusterMean:i,transitivity:h,triangleCount:l,meanPairwiseDistance:a,medianPairwiseDistance:s,assortativity:de}})});it(this,"createView",(n,r,i)=>{const o=new Map(this.state.data.nodeViews);o.set(n,r),this.setData({nodeViews:o},()=>this.updateNodesFromNodeViews(n,i))});it(this,"getNodeColor",n=>{const r=[...this.state.data.nodesMap.get(n).views.keys()];if(r.length>0)return this.state.data.nodeViews.get(r[0]).color});it(this,"updateNodesFromNodeViews",(n,r)=>{Bt("Updating node views...");const i=this.state.data.nodeViews,o=new Map(this.state.data.nodesMap);let a;n===void 0?a=[...i.keys()]:a=[n];const s=[...o.keys()];for(const l of s){const u=this.state.data.demographicData.data.get(l.split("|")[1]);if(u===void 0)continue;const h=Object.keys(u),f=Object.values(u);let d=!0;for(const m of a){const k=i.get(m);for(let R=0;R<h.length;R++)if(k.values[R]!=="All"){if(this.state.data.demographicData.categories.get(h[R]).type==="number"){const de=k.values[R].split(" - ");if(!(f[R]>=parseFloat(de[0])&&f[R]<=parseFloat(de[1]))){d=!1;break}}else if(f[R]!==k.values[R]){d=!1;break}}d&&o.get(l).views.add(m)}o.get(l).color=this.getNodeColor(l)}this.setData({nodesMap:o,nodes:[...o.values()]},()=>{this.setNodesGraph(),Bt("Done updating node views."),r&&r()})});it(this,"updateNodesColor",()=>{const n=new Map(this.state.data.nodesMap),r=[...n.keys()];for(const i of r)n.get(i).color=this.getNodeColor(i);this.setData({nodesMap:n,nodes:[...n.values()]},()=>{this.setNodesGraph()})});it(this,"deleteNodeViewFromNodes",n=>{Bt("Deleting node view from nodes...");const r=new Map(this.state.data.nodesMap),i=[...r.keys()];for(const o of i)r.get(o).views.delete(n),r.get(o).color=this.getNodeColor(o);this.setData({nodesMap:r,nodes:[...r.values()]},()=>{this.setNodesGraph(),Bt("Done deleting node view from nodes.")})});it(this,"resetData",()=>{this.setState({data:lv})});it(this,"nodeGraphFitView",()=>{setTimeout(()=>{this.state.nodeGraph.fitView()},250)});this.state={data:lv,nodeGraph:void 0,clusterHistogram:{histogramTicks:0,maxHistogramTicks:0},threshold:.015,thresholdValid:!0}}componentDidMount(){this.setState({nodeGraph:new $N(document.getElementById(eC),tC)},this.setNodesGraph)}render(){return ee.jsxs(ee.Fragment,{children:[ee.jsxs(_E,{nodeGraphFitView:this.nodeGraphFitView,children:[ee.jsx(EE,{nodeGraph:this.state.nodeGraph}),ee.jsx(SE,{}),ee.jsx(nC,{histogramTicks:this.state.clusterHistogram.histogramTicks,maxHistogramTicks:this.state.clusterHistogram.maxHistogramTicks,setClusterHistogramData:this.setClusterHistogramData,data:this.state.data}),ee.jsx(rC,{data:this.state.data})]}),ee.jsxs(iC,{children:[ee.jsx(oC,{threshold:this.state.threshold,thresholdValid:this.state.thresholdValid,nodeGraph:this.state.nodeGraph,setThreshold:this.setThreshold,setThresholdValid:this.setThresholdValid,resetData:this.resetData,setData:this.setData,updateDiagrams:this.updateDiagrams}),ee.jsx(aC,{data:this.state.data}),ee.jsx(sC,{data:this.state.data,setData:this.setData,createView:this.createView,updateNodesFromNodeViews:this.updateNodesFromNodeViews,updateNodesColor:this.updateNodesColor,deleteNodeViewFromNodes:this.deleteNodeViewFromNodes})]})]})}}of.createRoot(document.getElementById("root")).render(ee.jsx(sw.StrictMode,{children:ee.jsx(UN,{})}));
