{"mappings":"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","sources":["node_modules/d3-selection/src/selector.js","node_modules/d3-selection/src/selectorAll.js","node_modules/d3-selection/src/selection/selectAll.js","node_modules/d3-selection/src/array.js","node_modules/d3-selection/src/matcher.js","node_modules/seedrandom/lib/alea.js","node_modules/seedrandom/lib/xor128.js","node_modules/seedrandom/lib/xorwow.js","node_modules/seedrandom/lib/xorshift7.js","node_modules/seedrandom/lib/xor4096.js","node_modules/seedrandom/lib/tychei.js","node_modules/d3-selection/src/selection/selectChild.js","node_modules/d3-selection/src/selection/selectChildren.js","node_modules/d3-selection/src/selection/sparse.js","node_modules/d3-selection/src/selection/enter.js","node_modules/d3-selection/src/selection/data.js","node_modules/d3-selection/src/selection/sort.js","node_modules/d3-selection/src/namespaces.js","node_modules/d3-selection/src/namespace.js","node_modules/d3-selection/src/selection/attr.js","node_modules/d3-selection/src/window.js","node_modules/d3-selection/src/selection/style.js","node_modules/d3-selection/src/selection/property.js","node_modules/d3-selection/src/selection/classed.js","node_modules/d3-selection/src/selection/text.js","node_modules/d3-selection/src/selection/html.js","node_modules/d3-selection/src/selection/raise.js","node_modules/d3-selection/src/selection/lower.js","node_modules/d3-selection/src/creator.js","node_modules/d3-selection/src/selection/insert.js","node_modules/d3-selection/src/selection/remove.js","node_modules/d3-selection/src/selection/clone.js","node_modules/d3-selection/src/selection/on.js","node_modules/d3-selection/src/selection/dispatch.js","node_modules/d3-selection/src/selection/index.js","node_modules/d3-selection/src/selection/select.js","node_modules/d3-selection/src/selection/filter.js","node_modules/d3-selection/src/constant.js","node_modules/d3-selection/src/selection/exit.js","node_modules/d3-selection/src/selection/join.js","node_modules/d3-selection/src/selection/merge.js","node_modules/d3-selection/src/selection/order.js","node_modules/d3-selection/src/selection/call.js","node_modules/d3-selection/src/selection/nodes.js","node_modules/d3-selection/src/selection/node.js","node_modules/d3-selection/src/selection/size.js","node_modules/d3-selection/src/selection/empty.js","node_modules/d3-selection/src/selection/each.js","node_modules/d3-selection/src/selection/append.js","node_modules/d3-selection/src/selection/datum.js","node_modules/d3-selection/src/selection/iterator.js","node_modules/d3-selection/src/select.js","node_modules/d3-dispatch/src/dispatch.js","node_modules/d3-timer/src/timer.js","node_modules/d3-timer/src/timeout.js","node_modules/d3-transition/src/transition/schedule.js","node_modules/d3-transition/src/interrupt.js","node_modules/d3-interpolate/src/number.js","node_modules/d3-interpolate/src/transform/decompose.js","node_modules/d3-interpolate/src/transform/parse.js","node_modules/d3-interpolate/src/transform/index.js","node_modules/d3-transition/src/transition/tween.js","node_modules/d3-color/src/define.js","node_modules/d3-color/src/color.js","node_modules/d3-interpolate/src/basis.js","node_modules/d3-interpolate/src/constant.js","node_modules/d3-interpolate/src/color.js","node_modules/d3-interpolate/src/rgb.js","node_modules/d3-interpolate/src/basisClosed.js","node_modules/d3-interpolate/src/string.js","node_modules/d3-transition/src/transition/interpolate.js","node_modules/d3-transition/src/transition/attr.js","node_modules/d3-transition/src/transition/attrTween.js","node_modules/d3-transition/src/transition/delay.js","node_modules/d3-transition/src/transition/duration.js","node_modules/d3-transition/src/transition/selection.js","node_modules/d3-transition/src/transition/style.js","node_modules/d3-transition/src/transition/index.js","node_modules/d3-transition/src/transition/select.js","node_modules/d3-transition/src/transition/selectAll.js","node_modules/d3-transition/src/transition/filter.js","node_modules/d3-transition/src/transition/merge.js","node_modules/d3-transition/src/transition/transition.js","node_modules/d3-transition/src/transition/on.js","node_modules/d3-transition/src/transition/styleTween.js","node_modules/d3-transition/src/transition/text.js","node_modules/d3-transition/src/transition/textTween.js","node_modules/d3-transition/src/transition/remove.js","node_modules/d3-transition/src/transition/ease.js","node_modules/d3-transition/src/transition/easeVarying.js","node_modules/d3-transition/src/transition/end.js","node_modules/d3-transition/src/selection/transition.js","node_modules/d3-ease/src/cubic.js","node_modules/d3-ease/src/quad.js","node_modules/d3-transition/src/selection/index.js","node_modules/d3-transition/src/selection/interrupt.js","node_modules/d3-array/src/ticks.js","node_modules/d3-array/src/ascending.js","node_modules/d3-array/src/descending.js","node_modules/d3-array/src/bisector.js","node_modules/d3-array/src/bisect.js","node_modules/d3-array/src/number.js","node_modules/d3-interpolate/src/numberArray.js","node_modules/d3-interpolate/src/array.js","node_modules/d3-interpolate/src/date.js","node_modules/d3-interpolate/src/object.js","node_modules/d3-interpolate/src/value.js","node_modules/d3-interpolate/src/round.js","node_modules/d3-scale/src/number.js","node_modules/d3-scale/src/continuous.js","node_modules/d3-scale/src/constant.js","node_modules/d3-scale/src/init.js","node_modules/d3-format/src/formatDecimal.js","node_modules/d3-format/src/exponent.js","node_modules/d3-format/src/formatNumerals.js","node_modules/d3-format/src/formatSpecifier.js","node_modules/d3-format/src/formatPrefixAuto.js","node_modules/d3-format/src/formatTrim.js","node_modules/d3-format/src/formatRounded.js","node_modules/d3-format/src/formatTypes.js","node_modules/d3-format/src/identity.js","node_modules/d3-format/src/locale.js","node_modules/d3-format/src/defaultLocale.js","node_modules/d3-format/src/formatGroup.js","node_modules/d3-format/src/precisionFixed.js","node_modules/d3-format/src/precisionPrefix.js","node_modules/d3-format/src/precisionRound.js","node_modules/d3-scale/src/tickFormat.js","node_modules/d3-scale/src/linear.js","node_modules/gl-matrix/esm/common.js","node_modules/gl-matrix/esm/mat3.js","node_modules/seedrandom/index.js","node_modules/seedrandom/seedrandom.js","node_modules/random/src/rng.ts","node_modules/random/src/generators/function.ts","node_modules/random/src/rng-factory.ts","node_modules/random/src/distributions/uniform.ts","node_modules/random/src/validation.ts","node_modules/random/src/distributions/uniform-int.ts","node_modules/random/src/distributions/uniform-boolean.ts","node_modules/random/src/distributions/poisson.ts","node_modules/random/src/generators/math-random.ts","node_modules/random/src/random.ts","node_modules/random/src/distributions/normal.ts","node_modules/random/src/distributions/log-normal.ts","node_modules/random/src/distributions/bernoulli.ts","node_modules/random/src/distributions/binomial.ts","node_modules/random/src/distributions/geometric.ts","node_modules/random/src/distributions/exponential.ts","node_modules/random/src/distributions/irwin-hall.ts","node_modules/random/src/distributions/bates.ts","node_modules/random/src/distributions/pareto.ts","node_modules/d3-drag/src/noevent.js","node_modules/d3-drag/src/nodrag.js","node_modules/d3-interpolate/src/zoom.js","node_modules/d3-selection/src/sourceEvent.js","node_modules/d3-selection/src/pointer.js","node_modules/d3-zoom/src/constant.js","node_modules/d3-zoom/src/event.js","node_modules/d3-zoom/src/transform.js","node_modules/d3-zoom/src/noevent.js","node_modules/d3-zoom/src/zoom.js","node_modules/d3-array/src/extent.js","node_modules/@cosmograph/cosmos/node_modules/gl-bench/dist/gl-bench.js","node_modules/d3-array/src/array.js","node_modules/d3-axis/src/identity.js","node_modules/d3-axis/src/axis.js","node_modules/d3-brush/src/brush.js","node_modules/d3-quadtree/src/add.js","node_modules/d3-quadtree/src/quad.js","node_modules/d3-quadtree/src/x.js","node_modules/d3-quadtree/src/y.js","node_modules/d3-quadtree/src/quadtree.js","node_modules/d3-quadtree/src/cover.js","node_modules/d3-quadtree/src/data.js","node_modules/d3-quadtree/src/extent.js","node_modules/d3-quadtree/src/find.js","node_modules/d3-quadtree/src/remove.js","node_modules/d3-quadtree/src/root.js","node_modules/d3-quadtree/src/size.js","node_modules/d3-quadtree/src/visit.js","node_modules/d3-quadtree/src/visitAfter.js","node_modules/d3-force/src/simulation.js","src/index.js"],"sourcesContent":["function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we dont ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","// A port of an algorithm by Johannes Baage <baagoe@baagoe.com>, 2010\n// http://baagoe.com/en/RandomMusings/javascript/\n// https://github.com/nquinlan/better-random-numbers-for-javascript-mirror\n// Original work is under MIT license -\n\n// Copyright (C) 2010 by Johannes Baage <baagoe@baagoe.org>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n\n\n(function(global, module, define) {\n\nfunction Alea(seed) {\n  var me = this, mash = Mash();\n\n  me.next = function() {\n    var t = 2091639 * me.s0 + me.c * 2.3283064365386963e-10; // 2^-32\n    me.s0 = me.s1;\n    me.s1 = me.s2;\n    return me.s2 = t - (me.c = t | 0);\n  };\n\n  // Apply the seeding algorithm from Baagoe.\n  me.c = 1;\n  me.s0 = mash(' ');\n  me.s1 = mash(' ');\n  me.s2 = mash(' ');\n  me.s0 -= mash(seed);\n  if (me.s0 < 0) { me.s0 += 1; }\n  me.s1 -= mash(seed);\n  if (me.s1 < 0) { me.s1 += 1; }\n  me.s2 -= mash(seed);\n  if (me.s2 < 0) { me.s2 += 1; }\n  mash = null;\n}\n\nfunction copy(f, t) {\n  t.c = f.c;\n  t.s0 = f.s0;\n  t.s1 = f.s1;\n  t.s2 = f.s2;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new Alea(seed),\n      state = opts && opts.state,\n      prng = xg.next;\n  prng.int32 = function() { return (xg.next() * 0x100000000) | 0; }\n  prng.double = function() {\n    return prng() + (prng() * 0x200000 | 0) * 1.1102230246251565e-16; // 2^-53\n  };\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nfunction Mash() {\n  var n = 0xefc8249d;\n\n  var mash = function(data) {\n    data = String(data);\n    for (var i = 0; i < data.length; i++) {\n      n += data.charCodeAt(i);\n      var h = 0.02519603282416938 * n;\n      n = h >>> 0;\n      h -= n;\n      h *= n;\n      n = h >>> 0;\n      h -= n;\n      n += h * 0x100000000; // 2^32\n    }\n    return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n  };\n\n  return mash;\n}\n\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.alea = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","// A Javascript implementaion of the \"xor128\" prng algorithm by\n// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  me.x = 0;\n  me.y = 0;\n  me.z = 0;\n  me.w = 0;\n\n  // Set up generator function.\n  me.next = function() {\n    var t = me.x ^ (me.x << 11);\n    me.x = me.y;\n    me.y = me.z;\n    me.z = me.w;\n    return me.w ^= (me.w >>> 19) ^ t ^ (t >>> 8);\n  };\n\n  if (seed === (seed | 0)) {\n    // Integer seed.\n    me.x = seed;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 64; k++) {\n    me.x ^= strseed.charCodeAt(k) | 0;\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.x = f.x;\n  t.y = f.y;\n  t.z = f.z;\n  t.w = f.w;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xor128 = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","// A Javascript implementaion of the \"xorwow\" prng algorithm by\n// George Marsaglia.  See http://www.jstatsoft.org/v08/i14/paper\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  // Set up generator function.\n  me.next = function() {\n    var t = (me.x ^ (me.x >>> 2));\n    me.x = me.y; me.y = me.z; me.z = me.w; me.w = me.v;\n    return (me.d = (me.d + 362437 | 0)) +\n       (me.v = (me.v ^ (me.v << 4)) ^ (t ^ (t << 1))) | 0;\n  };\n\n  me.x = 0;\n  me.y = 0;\n  me.z = 0;\n  me.w = 0;\n  me.v = 0;\n\n  if (seed === (seed | 0)) {\n    // Integer seed.\n    me.x = seed;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 64; k++) {\n    me.x ^= strseed.charCodeAt(k) | 0;\n    if (k == strseed.length) {\n      me.d = me.x << 10 ^ me.x >>> 4;\n    }\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.x = f.x;\n  t.y = f.y;\n  t.z = f.z;\n  t.w = f.w;\n  t.v = f.v;\n  t.d = f.d;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xorwow = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","// A Javascript implementaion of the \"xorshift7\" algorithm by\n// Franois Panneton and Pierre L'ecuyer:\n// \"On the Xorgshift Random Number Generators\"\n// http://saluc.engr.uconn.edu/refs/crypto/rng/panneton05onthexorshift.pdf\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this;\n\n  // Set up generator function.\n  me.next = function() {\n    // Update xor generator.\n    var X = me.x, i = me.i, t, v, w;\n    t = X[i]; t ^= (t >>> 7); v = t ^ (t << 24);\n    t = X[(i + 1) & 7]; v ^= t ^ (t >>> 10);\n    t = X[(i + 3) & 7]; v ^= t ^ (t >>> 3);\n    t = X[(i + 4) & 7]; v ^= t ^ (t << 7);\n    t = X[(i + 7) & 7]; t = t ^ (t << 13); v ^= t ^ (t << 9);\n    X[i] = v;\n    me.i = (i + 1) & 7;\n    return v;\n  };\n\n  function init(me, seed) {\n    var j, w, X = [];\n\n    if (seed === (seed | 0)) {\n      // Seed state array using a 32-bit integer.\n      w = X[0] = seed;\n    } else {\n      // Seed state using a string.\n      seed = '' + seed;\n      for (j = 0; j < seed.length; ++j) {\n        X[j & 7] = (X[j & 7] << 15) ^\n            (seed.charCodeAt(j) + X[(j + 1) & 7] << 13);\n      }\n    }\n    // Enforce an array length of 8, not all zeroes.\n    while (X.length < 8) X.push(0);\n    for (j = 0; j < 8 && X[j] === 0; ++j);\n    if (j == 8) w = X[7] = -1; else w = X[j];\n\n    me.x = X;\n    me.i = 0;\n\n    // Discard an initial 256 values.\n    for (j = 256; j > 0; --j) {\n      me.next();\n    }\n  }\n\n  init(me, seed);\n}\n\nfunction copy(f, t) {\n  t.x = f.x.slice();\n  t.i = f.i;\n  return t;\n}\n\nfunction impl(seed, opts) {\n  if (seed == null) seed = +(new Date);\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (state.x) copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xorshift7 = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n","// A Javascript implementaion of Richard Brent's Xorgens xor4096 algorithm.\n//\n// This fast non-cryptographic random number generator is designed for\n// use in Monte-Carlo algorithms. It combines a long-period xorshift\n// generator with a Weyl generator, and it passes all common batteries\n// of stasticial tests for randomness while consuming only a few nanoseconds\n// for each prng generated.  For background on the generator, see Brent's\n// paper: \"Some long-period random number generators using shifts and xors.\"\n// http://arxiv.org/pdf/1004.3115v1.pdf\n//\n// Usage:\n//\n// var xor4096 = require('xor4096');\n// random = xor4096(1);                        // Seed with int32 or string.\n// assert.equal(random(), 0.1520436450538547); // (0, 1) range, 53 bits.\n// assert.equal(random.int32(), 1806534897);   // signed int32, 32 bits.\n//\n// For nonzero numeric keys, this impelementation provides a sequence\n// identical to that by Brent's xorgens 3 implementaion in C.  This\n// implementation also provides for initalizing the generator with\n// string seeds, or for saving and restoring the state of the generator.\n//\n// On Chrome, this prng benchmarks about 2.1 times slower than\n// Javascript's built-in Math.random().\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this;\n\n  // Set up generator function.\n  me.next = function() {\n    var w = me.w,\n        X = me.X, i = me.i, t, v;\n    // Update Weyl generator.\n    me.w = w = (w + 0x61c88647) | 0;\n    // Update xor generator.\n    v = X[(i + 34) & 127];\n    t = X[i = ((i + 1) & 127)];\n    v ^= v << 13;\n    t ^= t << 17;\n    v ^= v >>> 15;\n    t ^= t >>> 12;\n    // Update Xor generator array state.\n    v = X[i] = v ^ t;\n    me.i = i;\n    // Result is the combination.\n    return (v + (w ^ (w >>> 16))) | 0;\n  };\n\n  function init(me, seed) {\n    var t, v, i, j, w, X = [], limit = 128;\n    if (seed === (seed | 0)) {\n      // Numeric seeds initialize v, which is used to generates X.\n      v = seed;\n      seed = null;\n    } else {\n      // String seeds are mixed into v and X one character at a time.\n      seed = seed + '\\0';\n      v = 0;\n      limit = Math.max(limit, seed.length);\n    }\n    // Initialize circular array and weyl value.\n    for (i = 0, j = -32; j < limit; ++j) {\n      // Put the unicode characters into the array, and shuffle them.\n      if (seed) v ^= seed.charCodeAt((j + 32) % seed.length);\n      // After 32 shuffles, take v as the starting w value.\n      if (j === 0) w = v;\n      v ^= v << 10;\n      v ^= v >>> 15;\n      v ^= v << 4;\n      v ^= v >>> 13;\n      if (j >= 0) {\n        w = (w + 0x61c88647) | 0;     // Weyl.\n        t = (X[j & 127] ^= (v + w));  // Combine xor and weyl to init array.\n        i = (0 == t) ? i + 1 : 0;     // Count zeroes.\n      }\n    }\n    // We have detected all zeroes; make the key nonzero.\n    if (i >= 128) {\n      X[(seed && seed.length || 0) & 127] = -1;\n    }\n    // Run the generator 512 times to further mix the state before using it.\n    // Factoring this as a function slows the main generator, so it is just\n    // unrolled here.  The weyl generator is not advanced while warming up.\n    i = 127;\n    for (j = 4 * 128; j > 0; --j) {\n      v = X[(i + 34) & 127];\n      t = X[i = ((i + 1) & 127)];\n      v ^= v << 13;\n      t ^= t << 17;\n      v ^= v >>> 15;\n      t ^= t >>> 12;\n      X[i] = v ^ t;\n    }\n    // Storing state as object members is faster than using closure variables.\n    me.w = w;\n    me.X = X;\n    me.i = i;\n  }\n\n  init(me, seed);\n}\n\nfunction copy(f, t) {\n  t.i = f.i;\n  t.w = f.w;\n  t.X = f.X.slice();\n  return t;\n};\n\nfunction impl(seed, opts) {\n  if (seed == null) seed = +(new Date);\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (state.X) copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.xor4096 = impl;\n}\n\n})(\n  this,                                     // window object or global\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n","// A Javascript implementaion of the \"Tyche-i\" prng algorithm by\n// Samuel Neves and Filipe Araujo.\n// See https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf\n\n(function(global, module, define) {\n\nfunction XorGen(seed) {\n  var me = this, strseed = '';\n\n  // Set up generator function.\n  me.next = function() {\n    var b = me.b, c = me.c, d = me.d, a = me.a;\n    b = (b << 25) ^ (b >>> 7) ^ c;\n    c = (c - d) | 0;\n    d = (d << 24) ^ (d >>> 8) ^ a;\n    a = (a - b) | 0;\n    me.b = b = (b << 20) ^ (b >>> 12) ^ c;\n    me.c = c = (c - d) | 0;\n    me.d = (d << 16) ^ (c >>> 16) ^ a;\n    return me.a = (a - b) | 0;\n  };\n\n  /* The following is non-inverted tyche, which has better internal\n   * bit diffusion, but which is about 25% slower than tyche-i in JS.\n  me.next = function() {\n    var a = me.a, b = me.b, c = me.c, d = me.d;\n    a = (me.a + me.b | 0) >>> 0;\n    d = me.d ^ a; d = d << 16 ^ d >>> 16;\n    c = me.c + d | 0;\n    b = me.b ^ c; b = b << 12 ^ d >>> 20;\n    me.a = a = a + b | 0;\n    d = d ^ a; me.d = d = d << 8 ^ d >>> 24;\n    me.c = c = c + d | 0;\n    b = b ^ c;\n    return me.b = (b << 7 ^ b >>> 25);\n  }\n  */\n\n  me.a = 0;\n  me.b = 0;\n  me.c = 2654435769 | 0;\n  me.d = 1367130551;\n\n  if (seed === Math.floor(seed)) {\n    // Integer seed.\n    me.a = (seed / 0x100000000) | 0;\n    me.b = seed | 0;\n  } else {\n    // String seed.\n    strseed += seed;\n  }\n\n  // Mix in string seed, then discard an initial batch of 64 values.\n  for (var k = 0; k < strseed.length + 20; k++) {\n    me.b ^= strseed.charCodeAt(k) | 0;\n    me.next();\n  }\n}\n\nfunction copy(f, t) {\n  t.a = f.a;\n  t.b = f.b;\n  t.c = f.c;\n  t.d = f.d;\n  return t;\n};\n\nfunction impl(seed, opts) {\n  var xg = new XorGen(seed),\n      state = opts && opts.state,\n      prng = function() { return (xg.next() >>> 0) / 0x100000000; };\n  prng.double = function() {\n    do {\n      var top = xg.next() >>> 11,\n          bot = (xg.next() >>> 0) / 0x100000000,\n          result = (top + bot) / (1 << 21);\n    } while (result === 0);\n    return result;\n  };\n  prng.int32 = xg.next;\n  prng.quick = prng;\n  if (state) {\n    if (typeof(state) == 'object') copy(state, xg);\n    prng.state = function() { return copy(xg, {}); }\n  }\n  return prng;\n}\n\nif (module && module.exports) {\n  module.exports = impl;\n} else if (define && define.amd) {\n  define(function() { return impl; });\n} else {\n  this.tychei = impl;\n}\n\n})(\n  this,\n  (typeof module) == 'object' && module,    // present in node.js\n  (typeof define) == 'function' && define   // present with an AMD loader\n);\n\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isnt worried about live collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// dont; wed rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","const e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction tickSpec(start, stop, count) {\n  const step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log10(step)),\n      error = step / Math.pow(10, power),\n      factor = error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1;\n  let i1, i2, inc;\n  if (power < 0) {\n    inc = Math.pow(10, -power) / factor;\n    i1 = Math.round(start * inc);\n    i2 = Math.round(stop * inc);\n    if (i1 / inc < start) ++i1;\n    if (i2 / inc > stop) --i2;\n    inc = -inc;\n  } else {\n    inc = Math.pow(10, power) * factor;\n    i1 = Math.round(start / inc);\n    i2 = Math.round(stop / inc);\n    if (i1 * inc < start) ++i1;\n    if (i2 * inc > stop) --i2;\n  }\n  if (i2 < i1 && 0.5 <= count && count < 2) return tickSpec(start, stop, count * 2);\n  return [i1, i2, inc];\n}\n\nexport default function ticks(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  if (!(count > 0)) return [];\n  if (start === stop) return [start];\n  const reverse = stop < start, [i1, i2, inc] = reverse ? tickSpec(stop, start, count) : tickSpec(start, stop, count);\n  if (!(i2 >= i1)) return [];\n  const n = i2 - i1 + 1, ticks = new Array(n);\n  if (reverse) {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) * inc;\n  } else {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) * inc;\n  }\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  return tickSpec(start, stop, count)[2];\n}\n\nexport function tickStep(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  const reverse = stop < start, inc = reverse ? tickIncrement(stop, start, count) : tickIncrement(start, stop, count);\n  return (reverse ? -1 : 1) * (inc < 0 ? 1 / -inc : inc);\n}\n","export default function ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n","import ascending from \"./ascending.js\";\nimport descending from \"./descending.js\";\n\nexport default function bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We cant do this\n  // for a comparator (except for specific, known comparators) because we cant\n  // tell if the comparator is symmetric, and an asymmetric comparator cant be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero;\n    compare2 = f;\n    delta = f;\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction zero() {\n  return 0;\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","export default function number(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","export default function number(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;","// A library of seedable RNGs implemented in Javascript.\n//\n// Usage:\n//\n// var seedrandom = require('seedrandom');\n// var random = seedrandom(1); // or any seed.\n// var x = random();       // 0 <= x < 1.  Every bit is random.\n// var x = random.quick(); // 0 <= x < 1.  32 bits of randomness.\n\n// alea, a 53-bit multiply-with-carry generator by Johannes Baage.\n// Period: ~2^116\n// Reported to pass all BigCrush tests.\nvar alea = require('./lib/alea');\n\n// xor128, a pure xor-shift generator by George Marsaglia.\n// Period: 2^128-1.\n// Reported to fail: MatrixRank and LinearComp.\nvar xor128 = require('./lib/xor128');\n\n// xorwow, George Marsaglia's 160-bit xor-shift combined plus weyl.\n// Period: 2^192-2^32\n// Reported to fail: CollisionOver, SimpPoker, and LinearComp.\nvar xorwow = require('./lib/xorwow');\n\n// xorshift7, by Franois Panneton and Pierre L'ecuyer, takes\n// a different approach: it adds robustness by allowing more shifts\n// than Marsaglia's original three.  It is a 7-shift generator\n// with 256 bits, that passes BigCrush with no systmatic failures.\n// Period 2^256-1.\n// No systematic BigCrush failures reported.\nvar xorshift7 = require('./lib/xorshift7');\n\n// xor4096, by Richard Brent, is a 4096-bit xor-shift with a\n// very long period that also adds a Weyl generator. It also passes\n// BigCrush with no systematic failures.  Its long period may\n// be useful if you have many generators and need to avoid\n// collisions.\n// Period: 2^4128-2^32.\n// No systematic BigCrush failures reported.\nvar xor4096 = require('./lib/xor4096');\n\n// Tyche-i, by Samuel Neves and Filipe Araujo, is a bit-shifting random\n// number generator derived from ChaCha, a modern stream cipher.\n// https://eden.dei.uc.pt/~sneves/pubs/2011-snfa2.pdf\n// Period: ~2^127\n// No systematic BigCrush failures reported.\nvar tychei = require('./lib/tychei');\n\n// The original ARC4-based prng included in this library.\n// Period: ~2^1600\nvar sr = require('./seedrandom');\n\nsr.alea = alea;\nsr.xor128 = xor128;\nsr.xorwow = xorwow;\nsr.xorshift7 = xorshift7;\nsr.xor4096 = xor4096;\nsr.tychei = tychei;\n\nmodule.exports = sr;\n","/*\nCopyright 2019 David Bau.\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n\"Software\"), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n*/\n\n(function (global, pool, math) {\n//\n// The following constants are related to IEEE 754 limits.\n//\n\nvar width = 256,        // each RC4 output is 0 <= x < 256\n    chunks = 6,         // at least six RC4 outputs for each double\n    digits = 52,        // there are 52 significant digits in a double\n    rngname = 'random', // rngname: name for Math.random and Math.seedrandom\n    startdenom = math.pow(width, chunks),\n    significance = math.pow(2, digits),\n    overflow = significance * 2,\n    mask = width - 1,\n    nodecrypto;         // node.js crypto module, initialized at the bottom.\n\n//\n// seedrandom()\n// This is the seedrandom function described above.\n//\nfunction seedrandom(seed, options, callback) {\n  var key = [];\n  options = (options == true) ? { entropy: true } : (options || {});\n\n  // Flatten the seed string or build one from local entropy if needed.\n  var shortseed = mixkey(flatten(\n    options.entropy ? [seed, tostring(pool)] :\n    (seed == null) ? autoseed() : seed, 3), key);\n\n  // Use the seed to initialize an ARC4 generator.\n  var arc4 = new ARC4(key);\n\n  // This function returns a random double in [0, 1) that contains\n  // randomness in every bit of the mantissa of the IEEE 754 value.\n  var prng = function() {\n    var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\n        d = startdenom,                 //   and denominator d = 2 ^ 48.\n        x = 0;                          //   and no 'extra last byte'.\n    while (n < significance) {          // Fill up all significant digits by\n      n = (n + x) * width;              //   shifting numerator and\n      d *= width;                       //   denominator and generating a\n      x = arc4.g(1);                    //   new least-significant-byte.\n    }\n    while (n >= overflow) {             // To avoid rounding up, before adding\n      n /= 2;                           //   last byte, shift everything\n      d /= 2;                           //   right using integer math until\n      x >>>= 1;                         //   we have exactly the desired bits.\n    }\n    return (n + x) / d;                 // Form the number within [0, 1).\n  };\n\n  prng.int32 = function() { return arc4.g(4) | 0; }\n  prng.quick = function() { return arc4.g(4) / 0x100000000; }\n  prng.double = prng;\n\n  // Mix the randomness into accumulated entropy.\n  mixkey(tostring(arc4.S), pool);\n\n  // Calling convention: what to return as a function of prng, seed, is_math.\n  return (options.pass || callback ||\n      function(prng, seed, is_math_call, state) {\n        if (state) {\n          // Load the arc4 state from the given state if it has an S array.\n          if (state.S) { copy(state, arc4); }\n          // Only provide the .state method if requested via options.state.\n          prng.state = function() { return copy(arc4, {}); }\n        }\n\n        // If called as a method of Math (Math.seedrandom()), mutate\n        // Math.random because that is how seedrandom.js has worked since v1.0.\n        if (is_math_call) { math[rngname] = prng; return seed; }\n\n        // Otherwise, it is a newer calling convention, so return the\n        // prng directly.\n        else return prng;\n      })(\n  prng,\n  shortseed,\n  'global' in options ? options.global : (this == math),\n  options.state);\n}\n\n//\n// ARC4\n//\n// An ARC4 implementation.  The constructor takes a key in the form of\n// an array of at most (width) integers that should be 0 <= x < (width).\n//\n// The g(count) method returns a pseudorandom integer that concatenates\n// the next (count) outputs from ARC4.  Its return value is a number x\n// that is in the range 0 <= x < (width ^ count).\n//\nfunction ARC4(key) {\n  var t, keylen = key.length,\n      me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\n\n  // The empty key [] is treated as [0].\n  if (!keylen) { key = [keylen++]; }\n\n  // Set up S using the standard key scheduling algorithm.\n  while (i < width) {\n    s[i] = i++;\n  }\n  for (i = 0; i < width; i++) {\n    s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\n    s[j] = t;\n  }\n\n  // The \"g\" method returns the next (count) outputs as one number.\n  (me.g = function(count) {\n    // Using instance members instead of closure state nearly doubles speed.\n    var t, r = 0,\n        i = me.i, j = me.j, s = me.S;\n    while (count--) {\n      t = s[i = mask & (i + 1)];\n      r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\n    }\n    me.i = i; me.j = j;\n    return r;\n    // For robust unpredictability, the function call below automatically\n    // discards an initial batch of values.  This is called RC4-drop[256].\n    // See http://google.com/search?q=rsa+fluhrer+response&btnI\n  })(width);\n}\n\n//\n// copy()\n// Copies internal state of ARC4 to or from a plain object.\n//\nfunction copy(f, t) {\n  t.i = f.i;\n  t.j = f.j;\n  t.S = f.S.slice();\n  return t;\n};\n\n//\n// flatten()\n// Converts an object tree to nested arrays of strings.\n//\nfunction flatten(obj, depth) {\n  var result = [], typ = (typeof obj), prop;\n  if (depth && typ == 'object') {\n    for (prop in obj) {\n      try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\n    }\n  }\n  return (result.length ? result : typ == 'string' ? obj : obj + '\\0');\n}\n\n//\n// mixkey()\n// Mixes a string seed into a key that is an array of integers, and\n// returns a shortened string seed that is equivalent to the result key.\n//\nfunction mixkey(seed, key) {\n  var stringseed = seed + '', smear, j = 0;\n  while (j < stringseed.length) {\n    key[mask & j] =\n      mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\n  }\n  return tostring(key);\n}\n\n//\n// autoseed()\n// Returns an object for autoseeding, using window.crypto and Node crypto\n// module if available.\n//\nfunction autoseed() {\n  try {\n    var out;\n    if (nodecrypto && (out = nodecrypto.randomBytes)) {\n      // The use of 'out' to remember randomBytes makes tight minified code.\n      out = out(width);\n    } else {\n      out = new Uint8Array(width);\n      (global.crypto || global.msCrypto).getRandomValues(out);\n    }\n    return tostring(out);\n  } catch (e) {\n    var browser = global.navigator,\n        plugins = browser && browser.plugins;\n    return [+new Date, global, plugins, global.screen, tostring(pool)];\n  }\n}\n\n//\n// tostring()\n// Converts an array of charcodes to a string\n//\nfunction tostring(a) {\n  return String.fromCharCode.apply(0, a);\n}\n\n//\n// When seedrandom.js is loaded, we immediately mix a few bits\n// from the built-in RNG into the entropy pool.  Because we do\n// not want to interfere with deterministic PRNG state later,\n// seedrandom will not call math.random on its own again after\n// initialization.\n//\nmixkey(math.random(), pool);\n\n//\n// Nodejs and AMD support: export the implementation as a module using\n// either convention.\n//\nif ((typeof module) == 'object' && module.exports) {\n  module.exports = seedrandom;\n  // When in node.js, try using crypto package for autoseeding.\n  try {\n    nodecrypto = require('crypto');\n  } catch (ex) {}\n} else if ((typeof define) == 'function' && define.amd) {\n  define(function() { return seedrandom; });\n} else {\n  // When included as a plain script, set up Math.seedrandom global.\n  math['seed' + rngname] = seedrandom;\n}\n\n\n// End anonymous scope, and pass initial values.\n})(\n  // global: `self` in browsers (including strict mode and web workers),\n  // otherwise `this` in Node and other environments\n  (typeof self !== 'undefined') ? self : this,\n  [],     // pool: entropy pool starts empty\n  Math    // math: package containing random, pow, and seedrandom\n);\n","export type SeedFn = () => number\nexport type SeedType = number | string | SeedFn | RNG\n\nexport default abstract class RNG {\n  abstract get name(): string\n\n  abstract next(): number\n\n  abstract seed(_seed?: SeedType, _opts?: Record<string, unknown>): void\n\n  abstract clone(_seed?: SeedType, _opts?: Record<string, unknown>): RNG\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  _seed(seed: number, _opts?: Record<string, unknown>) {\n    // TODO: add entropy and stuff\n\n    if (seed === (seed || 0)) {\n      return seed\n    } else {\n      const strSeed = '' + seed\n      let s = 0\n\n      for (let k = 0; k < strSeed.length; ++k) {\n        s ^= strSeed.charCodeAt(k) | 0\n      }\n\n      return s\n    }\n  }\n}\n","import RNG, { SeedFn } from '../rng'\n\nexport default class RNGFunction extends RNG {\n  _rng: SeedFn\n\n  constructor(thunk: SeedFn, opts?: Record<string, unknown>) {\n    super()\n\n    this.seed(thunk, opts)\n  }\n\n  get name() {\n    return 'function'\n  }\n\n  next() {\n    return this._rng()\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  seed(thunk: SeedFn, _opts?: Record<string, unknown>) {\n    this._rng = thunk\n  }\n\n  clone(_: undefined, opts: Record<string, unknown>) {\n    return new RNGFunction(this._rng, opts)\n  }\n}\n","import seedrandom from 'seedrandom'\n\nimport RNG from './rng'\nimport RNGFunction from './generators/function'\n\n/**\n * Construct an RNG with variable inputs. Used in calls to Random constructor\n * @param {...*} args - Distribution-specific arguments\n * @return RNG\n *\n * @example\n * new Random(RNGFactory(...args))\n */\nexport default <T extends any[]>(...args: T) => {\n  const [arg0 = 'default'] = args\n\n  switch (typeof arg0) {\n    case 'object':\n      if (arg0 instanceof RNG) {\n        return arg0\n      }\n      break\n\n    case 'function':\n      return new RNGFunction(arg0)\n\n    case 'number':\n    case 'string':\n    default:\n      return new RNGFunction(seedrandom(...args))\n  }\n\n  throw new Error(`invalid RNG \"${arg0}\"`)\n}\n","import { Random } from '../random'\n\nexport default (random: Random, min = 0, max = 1) => {\n  return () => {\n    return random.next() * (max - min) + min\n  }\n}\n","export function numberValidator(num: number) {\n  return new NumberValidator(num)\n}\n\nexport class NumberValidator {\n  private n: number\n  constructor(num: number) {\n    this.n = num\n  }\n\n  public isInt = (): this => {\n    if (Number.isInteger(this.n)) {\n      return this\n    }\n    throw new Error(`Expected number to be an integer, got ${this.n}`)\n  }\n\n  public isPositive = (): this => {\n    if (this.n > 0) {\n      return this\n    }\n    throw new Error(`Expected number to be positive, got ${this.n}`)\n  }\n\n  public lessThan = (v: number): this => {\n    if (this.n < v) {\n      return this\n    }\n    throw new Error(`Expected number to be less than ${v}, got ${this.n}`)\n  }\n\n  public greaterThanOrEqual = (v: number): this => {\n    if (this.n >= v) {\n      return this\n    }\n    throw new Error(\n      `Expected number to be greater than or equal to ${v}, got ${this.n}`\n    )\n  }\n\n  public greaterThan = (v: number): this => {\n    if (this.n > v) {\n      return this\n    }\n    throw new Error(`Expected number to be greater than ${v}, got ${this.n}`)\n  }\n}\n","import { Random } from '../random'\nimport { numberValidator } from '../validation'\n\nexport default (random: Random, min = 0, max = 1) => {\n  if (max === undefined) {\n    max = min === undefined ? 1 : min\n    min = 0\n  }\n\n  numberValidator(min).isInt()\n  numberValidator(max).isInt()\n\n  return () => {\n    return Math.floor(random.next() * (max - min + 1) + min)\n  }\n}\n","import { Random } from '../random'\n\nexport default (random: Random) => {\n  return () => {\n    return random.next() >= 0.5\n  }\n}\n","import { Random } from '../random'\nimport { numberValidator } from '../validation'\n\nconst logFactorialTable = [\n  0.0, 0.0, 0.69314718055994529, 1.791759469228055, 3.1780538303479458,\n  4.7874917427820458, 6.5792512120101012, 8.5251613610654147,\n  10.604602902745251, 12.801827480081469\n]\n\nconst logFactorial = (k: number) => {\n  return logFactorialTable[k]\n}\n\nconst logSqrt2PI = 0.91893853320467267\n\nexport default (random: Random, lambda = 1) => {\n  numberValidator(lambda).isPositive()\n\n  if (lambda < 10) {\n    // inversion method\n    const expMean = Math.exp(-lambda)\n\n    return () => {\n      let p = expMean\n      let x = 0\n      let u = random.next()\n\n      while (u > p) {\n        u = u - p\n        p = (lambda * p) / ++x\n      }\n\n      return x\n    }\n  } else {\n    // generative method\n    const smu = Math.sqrt(lambda)\n    const b = 0.931 + 2.53 * smu\n    const a = -0.059 + 0.02483 * b\n    const invAlpha = 1.1239 + 1.1328 / (b - 3.4)\n    const vR = 0.9277 - 3.6224 / (b - 2)\n\n    return () => {\n      while (true) {\n        let u\n        let v = random.next()\n\n        if (v <= 0.86 * vR) {\n          u = v / vR - 0.43\n          return Math.floor(\n            ((2 * a) / (0.5 - Math.abs(u)) + b) * u + lambda + 0.445\n          )\n        }\n\n        if (v >= vR) {\n          u = random.next() - 0.5\n        } else {\n          u = v / vR - 0.93\n          u = (u < 0 ? -0.5 : 0.5) - u\n          v = random.next() * vR\n        }\n\n        const us = 0.5 - Math.abs(u)\n        if (us < 0.013 && v > us) {\n          continue\n        }\n\n        const k = Math.floor(((2 * a) / us + b) * u + lambda + 0.445)\n        v = (v * invAlpha) / (a / (us * us) + b)\n\n        if (k >= 10) {\n          const t =\n            (k + 0.5) * Math.log(lambda / k) -\n            lambda -\n            logSqrt2PI +\n            k -\n            (1 / 12.0 - (1 / 360.0 - 1 / (1260.0 * k * k)) / (k * k)) / k\n\n          if (Math.log(v * smu) <= t) {\n            return k\n          }\n        } else if (k >= 0) {\n          const f = logFactorial(k) ?? 0\n\n          if (Math.log(v) <= k * Math.log(lambda) - lambda - f) {\n            return k\n          }\n        }\n      }\n    }\n  }\n}\n","import RNG from '../rng'\n\nexport default class RNGMathRandom extends RNG {\n  get name() {\n    return 'default'\n  }\n\n  next() {\n    return Math.random()\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  seed(_seed: unknown, _opts: Record<string, unknown>) {\n    // intentionally empty\n  }\n\n  clone() {\n    return new RNGMathRandom()\n  }\n}\n","import RNG from './rng'\nimport RNGFactory from './rng-factory'\n\nimport uniform from './distributions/uniform'\nimport uniformInt from './distributions/uniform-int'\nimport uniformBoolean from './distributions/uniform-boolean'\nimport normal from './distributions/normal'\nimport logNormal from './distributions/log-normal'\nimport bernoulli from './distributions/bernoulli'\nimport binomial from './distributions/binomial'\nimport geometric from './distributions/geometric'\nimport poisson from './distributions/poisson'\nimport exponential from './distributions/exponential'\nimport irwinHall from './distributions/irwin-hall'\nimport bates from './distributions/bates'\nimport pareto from './distributions/pareto'\nimport RNGMathRandom from './generators/math-random'\n\n/**\n * Distribution function\n */\ninterface IDistFn<R> {\n  (random: Random, ...argv: any): R\n}\n\n/**\n * Distribution\n */\ninterface IDist<R> {\n  (): R\n}\n\n/**\n * Keyed cache entry\n */\ninterface ICacheEntry<T> {\n  key: string\n  distribution: () => T\n}\n\nexport { RNG, RNGFactory }\n\n/**\n * Seedable random number generator supporting many common distributions.\n *\n * Defaults to Math.random as its underlying pseudorandom number generator.\n *\n * @name Random\n * @class\n *\n * @param {RNG|function} [rng=Math.random] - Underlying pseudorandom number generator.\n */\nexport class Random {\n  protected _rng: RNG\n  protected _patch: typeof Math.random | undefined\n  protected _cache: {\n    [k: string]: ICacheEntry<any>\n  } = {}\n\n  constructor(rng?: RNG) {\n    if (rng && rng instanceof RNG) {\n      this.use(rng)\n    } else {\n      this.use(new RNGMathRandom())\n    }\n    this._cache = {}\n  }\n\n  /**\n   * @member {RNG} Underlying pseudo-random number generator\n   */\n  get rng() {\n    return this._rng\n  }\n\n  /**\n   * Creates a new `Random` instance, optionally specifying parameters to\n   * set a new seed.\n   *\n   * @see RNG.clone\n   *\n   * @param {string} [seed] - Optional seed for new RNG.\n   * @param {object} [opts] - Optional config for new RNG options.\n   * @return {Random}\n   */\n  clone<T>(...args: [T]): Random {\n    if (args.length) {\n      return new Random(RNGFactory(...args))\n    } else {\n      return new Random(this.rng.clone())\n    }\n  }\n\n  /**\n   * Sets the underlying pseudorandom number generator used via\n   * either an instance of `seedrandom`, a custom instance of RNG\n   * (for PRNG plugins), or a string specifying the PRNG to use\n   * along with an optional `seed` and `opts` to initialize the\n   * RNG.\n   *\n   * @example\n   * import random from 'random'\n   *\n   * random.use('example_seedrandom_string')\n   * // or\n   * random.use(seedrandom('kittens'))\n   * // or\n   * random.use(Math.random)\n   *\n   * @param {...*} args\n   */\n  use(...args: [RNG]) {\n    this._rng = RNGFactory(...args)\n  }\n\n  /**\n   * Patches `Math.random` with this Random instance's PRNG.\n   */\n  patch() {\n    if (this._patch) {\n      throw new Error('Math.random already patched')\n    }\n\n    this._patch = Math.random\n    Math.random = this.uniform()\n  }\n\n  /**\n   * Restores a previously patched `Math.random` to its original value.\n   */\n  unpatch() {\n    if (this._patch) {\n      Math.random = this._patch\n      delete this._patch\n    }\n  }\n\n  // --------------------------------------------------------------------------\n  // Uniform utility functions\n  // --------------------------------------------------------------------------\n\n  /**\n   * Convenience wrapper around `this.rng.next()`\n   *\n   * Returns a floating point number in [0, 1).\n   *\n   * @return {number}\n   */\n  next = (): number => {\n    return this._rng.next()\n  }\n\n  /**\n   * Samples a uniform random floating point number, optionally specifying\n   * lower and upper bounds.\n   *\n   * Convence wrapper around `random.uniform()`\n   *\n   * @param {number} [min=0] - Lower bound (float, inclusive)\n   * @param {number} [max=1] - Upper bound (float, exclusive)\n   * @return {number}\n   */\n  float = (min?: number, max?: number): number => {\n    return this.uniform(min, max)()\n  }\n\n  /**\n   * Samples a uniform random integer, optionally specifying lower and upper\n   * bounds.\n   *\n   * Convence wrapper around `random.uniformInt()`\n   *\n   * @param {number} [min=0] - Lower bound (integer, inclusive)\n   * @param {number} [max=1] - Upper bound (integer, inclusive)\n   * @return {number}\n   */\n  int = (min?: number, max?: number) => {\n    return this.uniformInt(min, max)()\n  }\n\n  /**\n   * Samples a uniform random integer, optionally specifying lower and upper\n   * bounds.\n   *\n   * Convence wrapper around `random.uniformInt()`\n   *\n   * @alias `random.int`\n   *\n   * @param {number} [min=0] - Lower bound (integer, inclusive)\n   * @param {number} [max=1] - Upper bound (integer, inclusive)\n   * @return {number}\n   */\n  integer = (min?: number, max?: number) => {\n    return this.uniformInt(min, max)()\n  }\n\n  /**\n   * Samples a uniform random boolean value.\n   *\n   * Convence wrapper around `random.uniformBoolean()`\n   *\n   * @alias `random.boolean`\n   *\n   * @return {boolean}\n   */\n  bool = () => {\n    return this.uniformBoolean()()\n  }\n\n  /**\n   * Samples a uniform random boolean value.\n   *\n   * Convence wrapper around `random.uniformBoolean()`\n   *\n   * @return {boolean}\n   */\n  boolean = () => {\n    return this.uniformBoolean()()\n  }\n\n  /**\n   * Returns an item chosen uniformly at trandom from the given array.\n   *\n   * Convence wrapper around `random.uniformInt()`\n   *\n   * @param {Array<T>} [array] - Lower bound (integer, inclusive)\n   * @return {T | undefined}\n   */\n  choice<T>(array: Array<T>): T | undefined {\n    if (!Array.isArray(array)) {\n      throw new Error(\n        `Random.choice expected input to be an array, got ${typeof array}`\n      )\n    }\n\n    const length = array?.length\n\n    if (length > 0) {\n      const index = this.uniformInt(0, length - 1)()\n      return array[index]\n    } else {\n      return undefined\n    }\n  }\n\n  // --------------------------------------------------------------------------\n  // Uniform distributions\n  // --------------------------------------------------------------------------\n\n  /**\n   * Generates a [Continuous uniform distribution](https://en.wikipedia.org/wiki/Uniform_distribution_(continuous)).\n   *\n   * @param {number} [min=0] - Lower bound (float, inclusive)\n   * @param {number} [max=1] - Upper bound (float, exclusive)\n   * @return {function}\n   */\n  uniform = (min?: number, max?: number) => {\n    return this._memoize<number>('uniform', uniform, min, max)\n  }\n\n  /**\n   * Generates a [Discrete uniform distribution](https://en.wikipedia.org/wiki/Discrete_uniform_distribution).\n   *\n   * @param {number} [min=0] - Lower bound (integer, inclusive)\n   * @param {number} [max=1] - Upper bound (integer, inclusive)\n   * @return {function}\n   */\n  uniformInt = (min?: number, max?: number) => {\n    return this._memoize<number>('uniformInt', uniformInt, min, max)\n  }\n\n  /**\n   * Generates a [Discrete uniform distribution](https://en.wikipedia.org/wiki/Discrete_uniform_distribution),\n   * with two possible outcomes, `true` or `false.\n   *\n   * This method is analogous to flipping a coin.\n   *\n   * @return {function}\n   */\n  uniformBoolean = () => {\n    return this._memoize<boolean>('uniformBoolean', uniformBoolean)\n  }\n\n  // --------------------------------------------------------------------------\n  // Normal distributions\n  // --------------------------------------------------------------------------\n\n  /**\n   * Generates a [Normal distribution](https://en.wikipedia.org/wiki/Normal_distribution).\n   *\n   * @param {number} [mu=0] - Mean\n   * @param {number} [sigma=1] - Standard deviation\n   * @return {function}\n   */\n  normal = (mu?: number, sigma?: number) => {\n    return normal(this, mu, sigma)\n  }\n\n  /**\n   * Generates a [Log-normal distribution](https://en.wikipedia.org/wiki/Log-normal_distribution).\n   *\n   * @param {number} [mu=0] - Mean of underlying normal distribution\n   * @param {number} [sigma=1] - Standard deviation of underlying normal distribution\n   * @return {function}\n   */\n  logNormal = (mu?: number, sigma?: number) => {\n    return logNormal(this, mu, sigma)\n  }\n\n  // --------------------------------------------------------------------------\n  // Bernoulli distributions\n  // --------------------------------------------------------------------------\n\n  /**\n   * Generates a [Bernoulli distribution](https://en.wikipedia.org/wiki/Bernoulli_distribution).\n   *\n   * @param {number} [p=0.5] - Success probability of each trial.\n   * @return {function}\n   */\n  bernoulli = (p?: number) => {\n    return bernoulli(this, p)\n  }\n\n  /**\n   * Generates a [Binomial distribution](https://en.wikipedia.org/wiki/Binomial_distribution).\n   *\n   * @param {number} [n=1] - Number of trials.\n   * @param {number} [p=0.5] - Success probability of each trial.\n   * @return {function}\n   */\n  binomial = (n?: number, p?: number) => {\n    return binomial(this, n, p)\n  }\n\n  /**\n   * Generates a [Geometric distribution](https://en.wikipedia.org/wiki/Geometric_distribution).\n   *\n   * @param {number} [p=0.5] - Success probability of each trial.\n   * @return {function}\n   */\n  geometric = (p?: number) => {\n    return geometric(this, p)\n  }\n\n  // --------------------------------------------------------------------------\n  // Poisson distributions\n  // --------------------------------------------------------------------------\n\n  /**\n   * Generates a [Poisson distribution](https://en.wikipedia.org/wiki/Poisson_distribution).\n   *\n   * @param {number} [lambda=1] - Mean (lambda > 0)\n   * @return {function}\n   */\n  poisson = (lambda?: number) => {\n    return poisson(this, lambda)\n  }\n\n  /**\n   * Generates an [Exponential distribution](https://en.wikipedia.org/wiki/Exponential_distribution).\n   *\n   * @param {number} [lambda=1] - Inverse mean (lambda > 0)\n   * @return {function}\n   */\n  exponential = (lambda?: number) => {\n    return exponential(this, lambda)\n  }\n\n  // --------------------------------------------------------------------------\n  // Misc distributions\n  // --------------------------------------------------------------------------\n\n  /**\n   * Generates an [Irwin Hall distribution](https://en.wikipedia.org/wiki/Irwin%E2%80%93Hall_distribution).\n   *\n   * @param {number} [n=1] - Number of uniform samples to sum (n >= 0)\n   * @return {function}\n   */\n  irwinHall = (n?: number) => {\n    return irwinHall(this, n)\n  }\n\n  /**\n   * Generates a [Bates distribution](https://en.wikipedia.org/wiki/Bates_distribution).\n   *\n   * @param {number} [n=1] - Number of uniform samples to average (n >= 1)\n   * @return {function}\n   */\n  bates = (n?: number) => {\n    return bates(this, n)\n  }\n\n  /**\n   * Generates a [Pareto distribution](https://en.wikipedia.org/wiki/Pareto_distribution).\n   *\n   * @param {number} [alpha=1] - Alpha\n   * @return {function}\n   */\n  pareto = (alpha?: number) => {\n    return pareto(this, alpha)\n  }\n\n  // --------------------------------------------------------------------------\n  // Internal\n  // --------------------------------------------------------------------------\n\n  /**\n   * Memoizes distributions to ensure they're only created when necessary.\n   *\n   * Returns a thunk which that returns independent, identically distributed\n   * samples from the specified distribution.\n   *\n   * @private\n   *\n   * @param {string} label - Name of distribution\n   * @param {function} getter - Function which generates a new distribution\n   * @param {...*} args - Distribution-specific arguments\n   *\n   * @return {function}\n   */\n  _memoize<T>(label: string, getter: IDistFn<any>, ...args: any[]): IDist<T> {\n    const key = `${args.join(';')}`\n    let value = this._cache[label]\n\n    if (value === undefined || value.key !== key) {\n      value = {\n        key,\n        distribution: getter(this, ...args)\n      }\n      this._cache[label] = value\n    }\n\n    return value.distribution\n  }\n}\n\n// defaults to Math.random as its RNG\nexport default new Random()\n","import { Random } from '../random'\n\nexport default (random: Random, mu = 0, sigma = 1) => {\n  return () => {\n    let x: number, y: number, r: number\n\n    do {\n      x = random.next() * 2 - 1\n      y = random.next() * 2 - 1\n      r = x * x + y * y\n    } while (!r || r > 1)\n\n    return mu + sigma * y * Math.sqrt((-2 * Math.log(r)) / r)\n  }\n}\n","import { Random } from '../random'\n\nexport default (random: Random, mu = 0, sigma = 1) => {\n  const normal = random.normal(mu, sigma)\n  return () => {\n    return Math.exp(normal())\n  }\n}\n","import { Random } from '../random'\nimport { numberValidator } from '../validation'\n\nexport default (random: Random, p = 0.5) => {\n  numberValidator(p).greaterThanOrEqual(0).lessThan(1)\n\n  return () => {\n    return Math.floor(random.next() + p)\n  }\n}\n","import { Random } from '../random'\nimport { numberValidator } from '../validation'\n\nexport default (random: Random, n = 1, p = 0.5) => {\n  numberValidator(n).isInt().isPositive()\n  numberValidator(p).greaterThanOrEqual(0).lessThan(1)\n\n  return () => {\n    let i = 0\n    let x = 0\n\n    while (i++ < n) {\n      if (random.next() < p) {\n        x++\n      }\n    }\n    return x\n  }\n}\n","import { Random } from '../random'\nimport { numberValidator } from '../validation'\n\nexport default (random: Random, p = 0.5) => {\n  numberValidator(p).greaterThan(0).lessThan(1)\n  const invLogP = 1.0 / Math.log(1.0 - p)\n\n  return () => {\n    return Math.floor(1 + Math.log(random.next()) * invLogP)\n  }\n}\n","import { Random } from '../random'\nimport { numberValidator } from '../validation'\n\nexport default (random: Random, lambda = 1) => {\n  numberValidator(lambda).isPositive()\n\n  return () => {\n    return -Math.log(1 - random.next()) / lambda\n  }\n}\n","import { Random } from '../random'\nimport { numberValidator } from '../validation'\n\nexport default (random: Random, n = 1) => {\n  numberValidator(n).isInt().greaterThanOrEqual(0)\n\n  return () => {\n    let sum = 0\n    for (let i = 0; i < n; ++i) {\n      sum += random.next()\n    }\n\n    return sum\n  }\n}\n","import { Random } from '../random'\nimport { numberValidator } from '../validation'\n\nexport default (random: Random, n = 1) => {\n  numberValidator(n).isInt().isPositive()\n  const irwinHall = random.irwinHall(n)\n\n  return () => {\n    return irwinHall() / n\n  }\n}\n","import { Random } from '../random'\nimport { numberValidator } from '../validation'\n\nexport default (random: Random, alpha = 1) => {\n  numberValidator(alpha).greaterThanOrEqual(0)\n  const invAlpha = 1.0 / alpha\n\n  return () => {\n    return 1.0 / Math.pow(1.0 - random.next(), invAlpha)\n  }\n}\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0  u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","export default x => () => x;\n","export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event wont trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n","export default function extent(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.GLBench = factory());\n}(this, (function () { 'use strict';\n\n  var UISVG = \"<div class=\\\"gl-box\\\">\\n  <svg viewBox=\\\"0 0 55 60\\\">\\n    <text x=\\\"27\\\" y=\\\"56\\\" class=\\\"gl-fps\\\">00 FPS</text>\\n    <text x=\\\"28\\\" y=\\\"8\\\" class=\\\"gl-mem\\\"></text>\\n    <rect x=\\\"0\\\" y=\\\"14\\\" rx=\\\"4\\\" ry=\\\"4\\\" width=\\\"55\\\" height=\\\"32\\\"></rect>\\n    <polyline class=\\\"gl-chart\\\"></polyline>\\n  </svg>\\n  <svg viewBox=\\\"0 0 14 60\\\" class=\\\"gl-cpu-svg\\\">\\n    <line x1=\\\"7\\\" y1=\\\"38\\\" x2=\\\"7\\\" y2=\\\"11\\\" class=\\\"opacity\\\"/>\\n    <line x1=\\\"7\\\" y1=\\\"38\\\" x2=\\\"7\\\" y2=\\\"11\\\" class=\\\"gl-cpu\\\" stroke-dasharray=\\\"0 27\\\"/>\\n    <path d=\\\"M5.35 43c-.464 0-.812.377-.812.812v1.16c-.783.1972-1.421.812-1.595 1.624h-1.16c-.435 0-.812.348-.812.812s.348.812.812.812h1.102v1.653H1.812c-.464 0-.812.377-.812.812 0 .464.377.812.812.812h1.131c.1943.783.812 1.392 1.595 1.595v1.131c0 .464.377.812.812.812.464 0 .812-.377.812-.812V53.15h1.653v1.073c0 .464.377.812.812.812.464 0 .812-.377.812-.812v-1.131c.783-.1943 1.392-.812 1.595-1.595h1.131c.464 0 .812-.377.812-.812 0-.464-.377-.812-.812-.812h-1.073V48.22h1.102c.435 0 .812-.348.812-.812s-.348-.812-.812-.812h-1.16c-.1885-.783-.812-1.421-1.595-1.624v-1.131c0-.464-.377-.812-.812-.812-.464 0-.812.377-.812.812v1.073H6.162v-1.073c0-.464-.377-.812-.812-.812zm.58 3.48h2.088c.754 0 1.363.609 1.363 1.363v2.088c0 .754-.609 1.363-1.363 1.363H5.93c-.754 0-1.363-.609-1.363-1.363v-2.088c0-.754.609-1.363 1.363-1.363z\\\"/>\\n  </svg>\\n  <svg viewBox=\\\"0 0 14 60\\\" class=\\\"gl-gpu-svg\\\">\\n    <line x1=\\\"7\\\" y1=\\\"38\\\" x2=\\\"7\\\" y2=\\\"11\\\" class=\\\"opacity\\\"/>\\n    <line x1=\\\"7\\\" y1=\\\"38\\\" x2=\\\"7\\\" y2=\\\"11\\\" class=\\\"gl-gpu\\\" stroke-dasharray=\\\"0 27\\\"/>\\n    <path d=\\\"M1.94775 43.3772a.736.736 0 10-.00416 1.472c.58535.00231.56465.1288.6348.3197.07015.18975.04933.43585.04933.43585l-.00653.05405v8.671a.736.736 0 101.472 0v-1.4145c.253.09522.52785.1495.81765.1495h5.267c1.2535 0 2.254-.9752 2.254-2.185v-3.105c0-1.2075-1.00625-2.185-2.254-2.185h-5.267c-.28865 0-.5635.05405-.8165.1495.01806-.16445.04209-.598-.1357-1.0787-.22425-.6072-.9499-1.2765-2.0125-1.2765zm2.9095 3.6455c.42435 0 .7659.36225.7659.8119v2.9785c0 .44965-.34155.8119-.7659.8119s-.7659-.36225-.7659-.8119v-2.9785c0-.44965.34155-.8119.7659-.8119zm4.117 0a2.3 2.3 0 012.3 2.3 2.3 2.3 0 01-2.3 2.3 2.3 2.3 0 01-2.3-2.3 2.3 2.3 0 012.3-2.3z\\\"/>\\n  </svg>\\n</div>\";\n\n  var UICSS = \"#gl-bench {\\n  position:absolute;\\n  left:0;\\n  top:0;\\n  z-index:1000;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n  user-select: none;\\n}\\n\\n#gl-bench div {\\n  position: relative;\\n  display: block;\\n  margin: 4px;\\n  padding: 0 7px 0 10px;\\n  background: #6c6;\\n  border-radius: 15px;\\n  cursor: pointer;\\n  opacity: 0.9;\\n}\\n\\n#gl-bench svg {\\n  height: 60px;\\n  margin: 0 -1px;\\n}\\n\\n#gl-bench text {\\n  font-size: 12px;\\n  font-family: Helvetica,Arial,sans-serif;\\n  font-weight: 700;\\n  dominant-baseline: middle;\\n  text-anchor: middle;\\n}\\n\\n#gl-bench .gl-mem {\\n  font-size: 9px;\\n}\\n\\n#gl-bench line {\\n  stroke-width: 5;\\n  stroke: #112211;\\n  stroke-linecap: round;\\n}\\n\\n#gl-bench polyline {\\n  fill: none;\\n  stroke: #112211;\\n  stroke-linecap: round;\\n  stroke-linejoin: round;\\n  stroke-width: 3.5;\\n}\\n\\n#gl-bench rect {\\n  fill: #448844;\\n}\\n\\n#gl-bench .opacity {\\n  stroke: #448844;\\n}\\n\";\n\n  class GLBench {\n\n    /** GLBench constructor\n     * @param { WebGLRenderingContext | WebGL2RenderingContext } gl context\n     * @param { Object | undefined } settings additional settings\n     */\n    constructor(gl, settings = {}) {\n      this.css = UICSS;\n      this.svg = UISVG;\n      this.paramLogger = () => {};\n      this.chartLogger = () => {};\n      this.chartLen = 20;\n      this.chartHz = 20;\n\n      this.names = [];\n      this.cpuAccums = [];\n      this.gpuAccums = [];  \n      this.activeAccums = [];\n      this.chart = new Array(this.chartLen);\n      this.now = () => (performance && performance.now) ? performance.now() : Date.now();\n      this.updateUI = () => {\n        [].forEach.call(this.nodes['gl-gpu-svg'], node => {\n          node.style.display = this.trackGPU ? 'inline' : 'none';\n        });\n      };\n\n      Object.assign(this, settings);\n      this.detected = 0;\n      this.finished = [];\n      this.isFramebuffer = 0;\n      this.frameId = 0;\n\n      // 120hz device detection\n      let rafId, n = 0, t0;\n      let loop = (t) => {\n        if (++n < 20) {\n          rafId = requestAnimationFrame(loop);\n        } else {\n          this.detected = Math.ceil(1e3 * n / (t - t0) / 70);\n          cancelAnimationFrame(rafId);\n        }\n        if (!t0) t0 = t;\n      };\n      requestAnimationFrame(loop);\n\n      // attach gpu profilers\n      if (gl) {\n        const glFinish = async (t, activeAccums) =>\n          Promise.resolve(setTimeout(() => {\n            gl.getError();\n            const dt = this.now() - t;\n            activeAccums.forEach((active, i) => {\n              if (active) this.gpuAccums[i] += dt;\n            });\n          }, 0));\n\n        const addProfiler = (fn, self, target) => function() {\n          const t = self.now();\n          fn.apply(target, arguments);\n          if (self.trackGPU) self.finished.push(glFinish(t, self.activeAccums.slice(0)));\n        };\n\n        ['drawArrays', 'drawElements', 'drawArraysInstanced',\n          'drawBuffers', 'drawElementsInstanced', 'drawRangeElements']\n          .forEach(fn => { if (gl[fn]) gl[fn] = addProfiler(gl[fn], this, gl); });\n\n        gl.getExtension = ((fn, self) => function() {\n          let ext = fn.apply(gl, arguments);\n          if (ext) {\n            ['drawElementsInstancedANGLE', 'drawBuffersWEBGL']\n              .forEach(fn => { if (ext[fn]) ext[fn] = addProfiler(ext[fn], self, ext); });\n          }\n          return ext;\n        })(gl.getExtension, this);\n      }\n\n      // init ui and ui loggers\n      if (!this.withoutUI) {\n        if (!this.dom) this.dom = document.body;\n        let elm = document.createElement('div');\n        elm.id = 'gl-bench';\n        this.dom.appendChild(elm);\n        this.dom.insertAdjacentHTML('afterbegin', '<style id=\"gl-bench-style\">' + this.css + '</style>');\n        this.dom = elm;\n        this.dom.addEventListener('click', () => {\n          this.trackGPU = !this.trackGPU;\n          this.updateUI();\n        });\n\n        this.paramLogger = ((logger, dom, names) => {\n          const classes = ['gl-cpu', 'gl-gpu', 'gl-mem', 'gl-fps', 'gl-gpu-svg', 'gl-chart'];\n          const nodes = Object.assign({}, classes);\n          classes.forEach(c => nodes[c] = dom.getElementsByClassName(c));\n          this.nodes = nodes;\n          return (i, cpu, gpu, mem, fps, totalTime, frameId) => {\n            nodes['gl-cpu'][i].style.strokeDasharray = (cpu * 0.27).toFixed(0) + ' 100';\n            nodes['gl-gpu'][i].style.strokeDasharray = (gpu * 0.27).toFixed(0) + ' 100';\n            nodes['gl-mem'][i].innerHTML = names[i] ? names[i] : (mem ? 'mem: ' + mem.toFixed(0) + 'mb' : '');\n            nodes['gl-fps'][i].innerHTML = fps.toFixed(0) + ' FPS';\n            logger(names[i], cpu, gpu, mem, fps, totalTime, frameId);\n          }\n        })(this.paramLogger, this.dom, this.names);\n\n        this.chartLogger = ((logger, dom) => {\n          let nodes = { 'gl-chart': dom.getElementsByClassName('gl-chart') };\n          return (i, chart, circularId) => {\n            let points = '';\n            let len = chart.length;\n            for (let i = 0; i < len; i++) {\n              let id = (circularId + i + 1) % len;\n              if (chart[id] != undefined) {\n                points = points + ' ' + (55 * i / (len - 1)).toFixed(1) + ','\n                  + (45 - chart[id] * 22 / 60 / this.detected).toFixed(1);\n              }\n            }\n            nodes['gl-chart'][i].setAttribute('points', points);\n            logger(this.names[i], chart, circularId);\n          }\n        })(this.chartLogger, this.dom);\n      }\n    }\n\n    /**\n     * Explicit UI add\n     * @param { string | undefined } name \n     */\n    addUI(name) {\n      if (this.names.indexOf(name) == -1) {\n        this.names.push(name);\n        if (this.dom) {\n          this.dom.insertAdjacentHTML('beforeend', this.svg);\n          this.updateUI();\n        }\n        this.cpuAccums.push(0);\n        this.gpuAccums.push(0);\n        this.activeAccums.push(false);\n      }\n    }\n\n    /**\n     * Increase frameID\n     * @param { number | undefined } now\n     */\n    nextFrame(now) {\n      this.frameId++;\n      const t = now ? now : this.now();\n\n      // params\n      if (this.frameId <= 1) {\n        this.paramFrame = this.frameId;\n        this.paramTime = t;\n      } else {\n        let duration = t - this.paramTime;\n        if (duration >= 1e3) {\n          const frameCount = this.frameId - this.paramFrame;\n          const fps = frameCount / duration * 1e3;\n          for (let i = 0; i < this.names.length; i++) {\n            const cpu = this.cpuAccums[i] / duration * 100,\n              gpu = this.gpuAccums[i] / duration * 100,\n              mem = (performance && performance.memory) ? performance.memory.usedJSHeapSize / (1 << 20) : 0;\n            this.paramLogger(i, cpu, gpu, mem, fps, duration, frameCount);\n            this.cpuAccums[i] = 0;\n            Promise.all(this.finished).then(() => {\n              this.gpuAccums[i] = 0;\n              this.finished = [];\n            });\n          }\n          this.paramFrame = this.frameId;\n          this.paramTime = t;\n        }\n      }\n\n      // chart\n      if (!this.detected || !this.chartFrame) {\n        this.chartFrame = this.frameId;\n        this.chartTime = t;\n        this.circularId = 0;\n      } else {\n        let timespan = t - this.chartTime;\n        let hz = this.chartHz * timespan / 1e3;\n        while (--hz > 0 && this.detected) {\n          const frameCount = this.frameId - this.chartFrame;\n          const fps = frameCount / timespan * 1e3;\n          this.chart[this.circularId % this.chartLen] = fps;\n          for (let i = 0; i < this.names.length; i++) {\n            this.chartLogger(i, this.chart, this.circularId);\n          }\n          this.circularId++;\n          this.chartFrame = this.frameId;\n          this.chartTime = t;\n        }\n      }\n    }\n\n    /**\n     * Begin named measurement\n     * @param { string | undefined } name\n     */\n    begin(name) {\n      this.updateAccums(name);\n    }\n\n    /**\n     * End named measure\n     * @param { string | undefined } name\n     */\n    end(name) {\n      this.updateAccums(name);\n    }\n\n    updateAccums(name) {\n      let nameId = this.names.indexOf(name);\n      if (nameId == -1) {\n        nameId = this.names.length;\n        this.addUI(name);\n      }\n\n      const t = this.now();\n      const dt = t - this.t0;\n      for (let i = 0; i < nameId + 1; i++) {\n        if (this.activeAccums[i]) {\n          this.cpuAccums[i] += dt;\n        }\n      }    this.activeAccums[nameId] = !this.activeAccums[nameId];\n      this.t0 = t;\n    }\n\n  }\n\n  return GLBench;\n\n})));\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","export default function(x) {\n  return x;\n}\n","import identity from \"./identity.js\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + x + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + y + \")\";\n}\n\nfunction number(scale) {\n  return d => +scale(d);\n}\n\nfunction center(scale, offset) {\n  offset = Math.max(0, scale.bandwidth() - offset * 2) / 2;\n  if (scale.round()) offset = Math.round(offset);\n  return d => +scale(d) + offset;\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      offset = typeof window !== \"undefined\" && window.devicePixelRatio > 1 ? 0 : 0.5,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + offset,\n        range1 = +range[range.length - 1] + offset,\n        position = (scale.bandwidth ? center : number)(scale.copy(), offset),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d + offset) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform((p && isFinite(p = p(d)) ? p : position(d)) + offset); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient === right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H\" + offset + \"V\" + range1 + \"H\" + k * tickSizeOuter : \"M\" + offset + \",\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V\" + offset + \"H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",\" + offset + \"H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d) + offset); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = Array.from(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : Array.from(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : Array.from(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  axis.offset = function(_) {\n    return arguments.length ? (offset = +_, axis) : offset;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name __brush rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection, event) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start(event).brush(event).end(event);\n          });\n    }\n  };\n\n  brush.clear = function(group, event) {\n    brush.move(group, null, event);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move(event);\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move(event);\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n","export default function(d) {\n  const x = +this._x.call(null, d),\n      y = +this._y.call(null, d);\n  return add(this.cover(x, y), x, y, d);\n}\n\nfunction add(tree, x, y, d) {\n  if (isNaN(x) || isNaN(y)) return tree; // ignore invalid points\n\n  var parent,\n      node = tree._root,\n      leaf = {data: d},\n      x0 = tree._x0,\n      y0 = tree._y0,\n      x1 = tree._x1,\n      y1 = tree._y1,\n      xm,\n      ym,\n      xp,\n      yp,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return tree._root = leaf, tree;\n\n  // Find the existing leaf for the new point, or add it.\n  while (node.length) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (parent = node, !(node = node[i = bottom << 1 | right])) return parent[i] = leaf, tree;\n  }\n\n  // Is the new point is exactly coincident with the existing point?\n  xp = +tree._x.call(null, node.data);\n  yp = +tree._y.call(null, node.data);\n  if (x === xp && y === yp) return leaf.next = node, parent ? parent[i] = leaf : tree._root = leaf, tree;\n\n  // Otherwise, split the leaf node until the old and new point are separated.\n  do {\n    parent = parent ? parent[i] = new Array(4) : tree._root = new Array(4);\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n  } while ((i = bottom << 1 | right) === (j = (yp >= ym) << 1 | (xp >= xm)));\n  return parent[j] = node, parent[i] = leaf, tree;\n}\n\nexport function addAll(data) {\n  var d, i, n = data.length,\n      x,\n      y,\n      xz = new Array(n),\n      yz = new Array(n),\n      x0 = Infinity,\n      y0 = Infinity,\n      x1 = -Infinity,\n      y1 = -Infinity;\n\n  // Compute the points and their extent.\n  for (i = 0; i < n; ++i) {\n    if (isNaN(x = +this._x.call(null, d = data[i])) || isNaN(y = +this._y.call(null, d))) continue;\n    xz[i] = x;\n    yz[i] = y;\n    if (x < x0) x0 = x;\n    if (x > x1) x1 = x;\n    if (y < y0) y0 = y;\n    if (y > y1) y1 = y;\n  }\n\n  // If there were no (valid) points, abort.\n  if (x0 > x1 || y0 > y1) return this;\n\n  // Expand the tree to cover the new points.\n  this.cover(x0, y0).cover(x1, y1);\n\n  // Add the new points.\n  for (i = 0; i < n; ++i) {\n    add(this, xz[i], yz[i], data[i]);\n  }\n\n  return this;\n}\n","export default function(node, x0, y0, x1, y1) {\n  this.node = node;\n  this.x0 = x0;\n  this.y0 = y0;\n  this.x1 = x1;\n  this.y1 = y1;\n}\n","export function defaultX(d) {\n  return d[0];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._x = _, this) : this._x;\n}\n","export function defaultY(d) {\n  return d[1];\n}\n\nexport default function(_) {\n  return arguments.length ? (this._y = _, this) : this._y;\n}\n","import tree_add, {addAll as tree_addAll} from \"./add.js\";\nimport tree_cover from \"./cover.js\";\nimport tree_data from \"./data.js\";\nimport tree_extent from \"./extent.js\";\nimport tree_find from \"./find.js\";\nimport tree_remove, {removeAll as tree_removeAll} from \"./remove.js\";\nimport tree_root from \"./root.js\";\nimport tree_size from \"./size.js\";\nimport tree_visit from \"./visit.js\";\nimport tree_visitAfter from \"./visitAfter.js\";\nimport tree_x, {defaultX} from \"./x.js\";\nimport tree_y, {defaultY} from \"./y.js\";\n\nexport default function quadtree(nodes, x, y) {\n  var tree = new Quadtree(x == null ? defaultX : x, y == null ? defaultY : y, NaN, NaN, NaN, NaN);\n  return nodes == null ? tree : tree.addAll(nodes);\n}\n\nfunction Quadtree(x, y, x0, y0, x1, y1) {\n  this._x = x;\n  this._y = y;\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  this._root = undefined;\n}\n\nfunction leaf_copy(leaf) {\n  var copy = {data: leaf.data}, next = copy;\n  while (leaf = leaf.next) next = next.next = {data: leaf.data};\n  return copy;\n}\n\nvar treeProto = quadtree.prototype = Quadtree.prototype;\n\ntreeProto.copy = function() {\n  var copy = new Quadtree(this._x, this._y, this._x0, this._y0, this._x1, this._y1),\n      node = this._root,\n      nodes,\n      child;\n\n  if (!node) return copy;\n\n  if (!node.length) return copy._root = leaf_copy(node), copy;\n\n  nodes = [{source: node, target: copy._root = new Array(4)}];\n  while (node = nodes.pop()) {\n    for (var i = 0; i < 4; ++i) {\n      if (child = node.source[i]) {\n        if (child.length) nodes.push({source: child, target: node.target[i] = new Array(4)});\n        else node.target[i] = leaf_copy(child);\n      }\n    }\n  }\n\n  return copy;\n};\n\ntreeProto.add = tree_add;\ntreeProto.addAll = tree_addAll;\ntreeProto.cover = tree_cover;\ntreeProto.data = tree_data;\ntreeProto.extent = tree_extent;\ntreeProto.find = tree_find;\ntreeProto.remove = tree_remove;\ntreeProto.removeAll = tree_removeAll;\ntreeProto.root = tree_root;\ntreeProto.size = tree_size;\ntreeProto.visit = tree_visit;\ntreeProto.visitAfter = tree_visitAfter;\ntreeProto.x = tree_x;\ntreeProto.y = tree_y;\n","export default function(x, y) {\n  if (isNaN(x = +x) || isNaN(y = +y)) return this; // ignore invalid points\n\n  var x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1;\n\n  // If the quadtree has no extent, initialize them.\n  // Integer extent are necessary so that if we later double the extent,\n  // the existing quadrant boundaries dont change due to floating point error!\n  if (isNaN(x0)) {\n    x1 = (x0 = Math.floor(x)) + 1;\n    y1 = (y0 = Math.floor(y)) + 1;\n  }\n\n  // Otherwise, double repeatedly to cover.\n  else {\n    var z = x1 - x0 || 1,\n        node = this._root,\n        parent,\n        i;\n\n    while (x0 > x || x >= x1 || y0 > y || y >= y1) {\n      i = (y < y0) << 1 | (x < x0);\n      parent = new Array(4), parent[i] = node, node = parent, z *= 2;\n      switch (i) {\n        case 0: x1 = x0 + z, y1 = y0 + z; break;\n        case 1: x0 = x1 - z, y1 = y0 + z; break;\n        case 2: x1 = x0 + z, y0 = y1 - z; break;\n        case 3: x0 = x1 - z, y0 = y1 - z; break;\n      }\n    }\n\n    if (this._root && this._root.length) this._root = node;\n  }\n\n  this._x0 = x0;\n  this._y0 = y0;\n  this._x1 = x1;\n  this._y1 = y1;\n  return this;\n}\n","export default function() {\n  var data = [];\n  this.visit(function(node) {\n    if (!node.length) do data.push(node.data); while (node = node.next)\n  });\n  return data;\n}\n","export default function(_) {\n  return arguments.length\n      ? this.cover(+_[0][0], +_[0][1]).cover(+_[1][0], +_[1][1])\n      : isNaN(this._x0) ? undefined : [[this._x0, this._y0], [this._x1, this._y1]];\n}\n","import Quad from \"./quad.js\";\n\nexport default function(x, y, radius) {\n  var data,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1,\n      y1,\n      x2,\n      y2,\n      x3 = this._x1,\n      y3 = this._y1,\n      quads = [],\n      node = this._root,\n      q,\n      i;\n\n  if (node) quads.push(new Quad(node, x0, y0, x3, y3));\n  if (radius == null) radius = Infinity;\n  else {\n    x0 = x - radius, y0 = y - radius;\n    x3 = x + radius, y3 = y + radius;\n    radius *= radius;\n  }\n\n  while (q = quads.pop()) {\n\n    // Stop searching if this quadrant cant contain a closer node.\n    if (!(node = q.node)\n        || (x1 = q.x0) > x3\n        || (y1 = q.y0) > y3\n        || (x2 = q.x1) < x0\n        || (y2 = q.y1) < y0) continue;\n\n    // Bisect the current quadrant.\n    if (node.length) {\n      var xm = (x1 + x2) / 2,\n          ym = (y1 + y2) / 2;\n\n      quads.push(\n        new Quad(node[3], xm, ym, x2, y2),\n        new Quad(node[2], x1, ym, xm, y2),\n        new Quad(node[1], xm, y1, x2, ym),\n        new Quad(node[0], x1, y1, xm, ym)\n      );\n\n      // Visit the closest quadrant first.\n      if (i = (y >= ym) << 1 | (x >= xm)) {\n        q = quads[quads.length - 1];\n        quads[quads.length - 1] = quads[quads.length - 1 - i];\n        quads[quads.length - 1 - i] = q;\n      }\n    }\n\n    // Visit this point. (Visiting coincident points isnt necessary!)\n    else {\n      var dx = x - +this._x.call(null, node.data),\n          dy = y - +this._y.call(null, node.data),\n          d2 = dx * dx + dy * dy;\n      if (d2 < radius) {\n        var d = Math.sqrt(radius = d2);\n        x0 = x - d, y0 = y - d;\n        x3 = x + d, y3 = y + d;\n        data = node.data;\n      }\n    }\n  }\n\n  return data;\n}\n","export default function(d) {\n  if (isNaN(x = +this._x.call(null, d)) || isNaN(y = +this._y.call(null, d))) return this; // ignore invalid points\n\n  var parent,\n      node = this._root,\n      retainer,\n      previous,\n      next,\n      x0 = this._x0,\n      y0 = this._y0,\n      x1 = this._x1,\n      y1 = this._y1,\n      x,\n      y,\n      xm,\n      ym,\n      right,\n      bottom,\n      i,\n      j;\n\n  // If the tree is empty, initialize the root as a leaf.\n  if (!node) return this;\n\n  // Find the leaf node for the point.\n  // While descending, also retain the deepest parent with a non-removed sibling.\n  if (node.length) while (true) {\n    if (right = x >= (xm = (x0 + x1) / 2)) x0 = xm; else x1 = xm;\n    if (bottom = y >= (ym = (y0 + y1) / 2)) y0 = ym; else y1 = ym;\n    if (!(parent = node, node = node[i = bottom << 1 | right])) return this;\n    if (!node.length) break;\n    if (parent[(i + 1) & 3] || parent[(i + 2) & 3] || parent[(i + 3) & 3]) retainer = parent, j = i;\n  }\n\n  // Find the point to remove.\n  while (node.data !== d) if (!(previous = node, node = node.next)) return this;\n  if (next = node.next) delete node.next;\n\n  // If there are multiple coincident points, remove just the point.\n  if (previous) return (next ? previous.next = next : delete previous.next), this;\n\n  // If this is the root point, remove it.\n  if (!parent) return this._root = next, this;\n\n  // Remove this leaf.\n  next ? parent[i] = next : delete parent[i];\n\n  // If the parent now contains exactly one leaf, collapse superfluous parents.\n  if ((node = parent[0] || parent[1] || parent[2] || parent[3])\n      && node === (parent[3] || parent[2] || parent[1] || parent[0])\n      && !node.length) {\n    if (retainer) retainer[j] = node;\n    else this._root = node;\n  }\n\n  return this;\n}\n\nexport function removeAll(data) {\n  for (var i = 0, n = data.length; i < n; ++i) this.remove(data[i]);\n  return this;\n}\n","export default function() {\n  return this._root;\n}\n","export default function() {\n  var size = 0;\n  this.visit(function(node) {\n    if (!node.length) do ++size; while (node = node.next)\n  });\n  return size;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], q, node = this._root, child, x0, y0, x1, y1;\n  if (node) quads.push(new Quad(node, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    if (!callback(node = q.node, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1) && node.length) {\n      var xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n    }\n  }\n  return this;\n}\n","import Quad from \"./quad.js\";\n\nexport default function(callback) {\n  var quads = [], next = [], q;\n  if (this._root) quads.push(new Quad(this._root, this._x0, this._y0, this._x1, this._y1));\n  while (q = quads.pop()) {\n    var node = q.node;\n    if (node.length) {\n      var child, x0 = q.x0, y0 = q.y0, x1 = q.x1, y1 = q.y1, xm = (x0 + x1) / 2, ym = (y0 + y1) / 2;\n      if (child = node[0]) quads.push(new Quad(child, x0, y0, xm, ym));\n      if (child = node[1]) quads.push(new Quad(child, xm, y0, x1, ym));\n      if (child = node[2]) quads.push(new Quad(child, x0, ym, xm, y1));\n      if (child = node[3]) quads.push(new Quad(child, xm, ym, x1, y1));\n    }\n    next.push(q);\n  }\n  while (q = next.pop()) {\n    callback(q.node, q.x0, q.y0, q.x1, q.y1);\n  }\n  return this;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer} from \"d3-timer\";\nimport lcg from \"./lcg.js\";\n\nexport function x(d) {\n  return d.x;\n}\n\nexport function y(d) {\n  return d.y;\n}\n\nvar initialRadius = 10,\n    initialAngle = Math.PI * (3 - Math.sqrt(5));\n\nexport default function(nodes) {\n  var simulation,\n      alpha = 1,\n      alphaMin = 0.001,\n      alphaDecay = 1 - Math.pow(alphaMin, 1 / 300),\n      alphaTarget = 0,\n      velocityDecay = 0.6,\n      forces = new Map(),\n      stepper = timer(step),\n      event = dispatch(\"tick\", \"end\"),\n      random = lcg();\n\n  if (nodes == null) nodes = [];\n\n  function step() {\n    tick();\n    event.call(\"tick\", simulation);\n    if (alpha < alphaMin) {\n      stepper.stop();\n      event.call(\"end\", simulation);\n    }\n  }\n\n  function tick(iterations) {\n    var i, n = nodes.length, node;\n\n    if (iterations === undefined) iterations = 1;\n\n    for (var k = 0; k < iterations; ++k) {\n      alpha += (alphaTarget - alpha) * alphaDecay;\n\n      forces.forEach(function(force) {\n        force(alpha);\n      });\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        if (node.fx == null) node.x += node.vx *= velocityDecay;\n        else node.x = node.fx, node.vx = 0;\n        if (node.fy == null) node.y += node.vy *= velocityDecay;\n        else node.y = node.fy, node.vy = 0;\n      }\n    }\n\n    return simulation;\n  }\n\n  function initializeNodes() {\n    for (var i = 0, n = nodes.length, node; i < n; ++i) {\n      node = nodes[i], node.index = i;\n      if (node.fx != null) node.x = node.fx;\n      if (node.fy != null) node.y = node.fy;\n      if (isNaN(node.x) || isNaN(node.y)) {\n        var radius = initialRadius * Math.sqrt(0.5 + i), angle = i * initialAngle;\n        node.x = radius * Math.cos(angle);\n        node.y = radius * Math.sin(angle);\n      }\n      if (isNaN(node.vx) || isNaN(node.vy)) {\n        node.vx = node.vy = 0;\n      }\n    }\n  }\n\n  function initializeForce(force) {\n    if (force.initialize) force.initialize(nodes, random);\n    return force;\n  }\n\n  initializeNodes();\n\n  return simulation = {\n    tick: tick,\n\n    restart: function() {\n      return stepper.restart(step), simulation;\n    },\n\n    stop: function() {\n      return stepper.stop(), simulation;\n    },\n\n    nodes: function(_) {\n      return arguments.length ? (nodes = _, initializeNodes(), forces.forEach(initializeForce), simulation) : nodes;\n    },\n\n    alpha: function(_) {\n      return arguments.length ? (alpha = +_, simulation) : alpha;\n    },\n\n    alphaMin: function(_) {\n      return arguments.length ? (alphaMin = +_, simulation) : alphaMin;\n    },\n\n    alphaDecay: function(_) {\n      return arguments.length ? (alphaDecay = +_, simulation) : +alphaDecay;\n    },\n\n    alphaTarget: function(_) {\n      return arguments.length ? (alphaTarget = +_, simulation) : alphaTarget;\n    },\n\n    velocityDecay: function(_) {\n      return arguments.length ? (velocityDecay = 1 - _, simulation) : 1 - velocityDecay;\n    },\n\n    randomSource: function(_) {\n      return arguments.length ? (random = _, forces.forEach(initializeForce), simulation) : random;\n    },\n\n    force: function(name, _) {\n      return arguments.length > 1 ? ((_ == null ? forces.delete(name) : forces.set(name, initializeForce(_))), simulation) : forces.get(name);\n    },\n\n    find: function(x, y, radius) {\n      var i = 0,\n          n = nodes.length,\n          dx,\n          dy,\n          d2,\n          node,\n          closest;\n\n      if (radius == null) radius = Infinity;\n      else radius *= radius;\n\n      for (i = 0; i < n; ++i) {\n        node = nodes[i];\n        dx = x - node.x;\n        dy = y - node.y;\n        d2 = dx * dx + dy * dy;\n        if (d2 < radius) closest = node, radius = d2;\n      }\n\n      return closest;\n    },\n\n    on: function(name, _) {\n      return arguments.length > 1 ? (event.on(name, _), simulation) : event.on(name);\n    }\n  };\n}\n","import { Graph } from '@cosmograph/cosmos'\nimport * as d3 from \"d3\";\nimport './styles/index.scss'\n\n// ----------- GLOBAL VARIABLES ------------\n/** READING FILES */\n// size of chunks to read from uploaded file\nconst CHUNK_SIZE = 1024 * 1024 * 10;\n\n/** GRAPH DATA */\nconst data = {\n    nodes: [],\n    links: [],\n    clusters: {\n        clusterStats: [],\n        clusterDistribution: new Map(),\n    },\n    unfilteredClusters: {\n        clusterStats: [],\n        clusterDistribution: new Map(),\n    },\n    stats: {\n        recalculate: true,\n        clusterMedian: 0,\n        clusterMean: 0,\n        assortativity: 0,\n        transitivity: 0,\n        triangleCount: 0,\n        meanPairwiseDistance: 0,\n        medianPairwiseDistance: 0,\n    }\n}\n// record if graph has updated while not in view\nlet updatedGraph = false;\n// current graph / diagram / summary statistic being shown \nlet graphCounter = 0;\n// graph elements that can be switched between (also diagrams, summary statistics, etc.)\nconst graphElements = document.getElementsByClassName(\"graph-element\");\n// records if computation-heavy diagrams and stats have to be recalculated\nlet recalculate = true;\n\n/** PAIRWISE DISTANCES (LINKS) */\n// Maximum threshold for pairwise distances to be added to map\nconst MAX_THRESHOLD = 0.05;\n// Actual threshold for pairwise distances to be added to map (the user input)\nlet threshold = 0.015;\n// map of all pairwise distances (links), parsed from uploaded file\nconst ALL_LINKS = new Map();\n// map of current pairwise distances (links), not filtered\nconst unfilteredLinks = new Map();\n\n/** SEQUENCES (NODES) */\n// a set of all nodes uploaded from the file, only changes when a new file is uploaded\nconst ALL_NODES = new Set();\n// a set of all current nodes before any filters are applied\nlet unfilteredNodes = new Set();\n// a map of all current nodes in the graph, with their supplementary data (adjacent nodes, color, etc.)\nconst nodesMap = new Map();\n// individual demographic data, mapped by ID\nconst individualData = new Map();\n// a map of individual demographic data categories to their type of value and a set of all possible values\nconst individualDataCategories = new Map();\n// maximum number of node categories to show in the form (a sanity check to make sure the uploaded demographic data is valid)\nconst MAX_INDIVIDUAL_CATEGORIES = 25;\n\n/** CLUSTERS */\n// the type of cluster filtering that's currently being used: show all clusters, show clusters with a minimum number of nodes, or show x largest clusters\nlet clusterFilterType = \"all\";\n// the minimum number of nodes a cluster must have to be shown\nlet clusterNodeMin = 0;\n// the number of largest clusters to show\nlet maxClusterCount = 0;\n\n/** CLUSTERS PI GRAPH DATA */\nconst piData = {\n    nodes: [],\n    links: [],\n};\n\n/** HISTOGRAM VARIABLES */\nlet histogramBarCount = 0;\n\n/** FORM INTERFACE */\n// number of steps in the form\nconst TOTAL_STEPS = 2;\n// current step in the form\nlet stepCounter = 1;\n\n// --- STEP 2 --- \n// auto zoom to fit view\nlet autoZoom = true;\n// whether or not the threshold input value is valid\nlet thresholdValid = true;\n// whether or not the cluster filter input value is valid\nlet clusterValid = false;\n\n// --- STEP 3 ---\n// key is a view ID, in format \"0-0-...\" where each number is the index of the value of the selected view for that specific category\nconst nodeViews = new Map();\n\n// ----------- COSMOGRAPH PARAMETERS ------------\nconst PAIRWISE_GRAPH_CANVAS = document.getElementById('pairwise-graph');\nconst PAIRWISE_GRAPH_CONFIG = {\n    backgroundColor: \"#ffffff\",\n    nodeColor: (node) => {\n        return node.color ?? \"#000000\";\n    },\n    nodeSize: 7,\n    linkColor: \"#a3a3a3\",\n    linkArrows: false,\n    linkWidth: 0.2,\n    linkVisibilityMinTransparency: 1,\n    randomSeed: 0,\n    events: {\n        onClick: () => {\n            autoZoom = false;\n        },\n        onZoomStart: (event, userDriven) => {\n            if (userDriven) {\n                autoZoom = false;\n            }\n        }\n    },\n    simulation: {\n        repulsion: 2,\n        repulsionFromMouse: 0,\n        linkDistRandomVariationRange: [1, 1],\n        scaleNodesOnZoom: true,\n        friction: 1,\n        linkDistance: 50,\n        gravity: 0.2,\n        decay: 99999999,\n        linkSpring: 0.1,\n    }\n}\n\n// ----------- GENERAL DATA FUNCTIONS ------------\n/**\n * Clears all data from the graph and resets all global variables\n */\n// TODO: make sure everything is reset\nconst resetData = () => {\n    // reset graph data\n    data.nodes.length = 0;\n    data.links.length = 0;\n    data.clusters = {};\n    data.unfilteredClusters = {};\n    updatedGraph = true;\n\n    // reset link data\n    ALL_LINKS.clear();\n\n    // reset node data\n    ALL_NODES.clear();\n    nodesMap.clear();\n    individualData.clear();\n    individualDataCategories.clear();\n\n    // reset recalculate flag\n    recalculate = true;\n}\n\n/**\n * Updates the graph's displayed nodes and links based on the current threshold value and cluster filters.\n */\nconst updateData = () => {\n    console.log(\"\\n\\n\\n-------- UPDATING DATA -------- \\n\\n\\n\")\n    log(\"Updating data...\", true)\n    updatedGraph = true;\n    // clears currently shown nodes and links\n    data.nodes = [];\n    data.links = [];\n    unfilteredLinks.clear();\n    nodesMap.clear();\n    const allLinksKeys = [...ALL_LINKS.keys()];\n    // loops through all uploaded pairwise distances and adds links to data if below threshold\n    for (let i = 0; i < allLinksKeys.length; i++) {\n        const link = ALL_LINKS.get(allLinksKeys[i]);\n        if (link.value < threshold) {\n            addLinkToData(link);\n\n            // add link to data\n            data.links.push(link)\n            unfilteredLinks.set(link.id, link);\n        }\n    };\n\n    // set nodes\n    getClusterData();\n\n    data.unfilteredClusters = data.clusters;\n    data.nodes = [...nodesMap.keys()];\n    unfilteredNodes = new Set(data.nodes);\n\n    if (clusterFilterType === \"all\") {\n        setNodeDataFromMap();\n        // do no filtering\n    } else if (clusterFilterType === \"clusterNodeMin\" || clusterFilterType === \"maxClusterCount\") {\n        log(\"Filtering clusters...\")\n        const filteredNodes = [];\n        let filteredNodesSet = new Set();\n\n        // filter out clusters with less than clusterNodeMin nodes\n        if (clusterFilterType === \"clusterNodeMin\") {\n            for (let i = 0; i < data.clusters.clusterStats.length; i++) {\n                if (data.clusters.clusterStats[i].cluster.size >= clusterNodeMin) {\n                    filteredNodes.push(...data.clusters.clusterStats[i].cluster)\n                }\n            }\n            // only keep the largest maxClusterCount clusters\n        } else {\n            for (let i = 0; i < maxClusterCount; i++) {\n                filteredNodes.push(...data.clusters.clusterStats[i].cluster)\n            }\n        }\n\n        filteredNodesSet = new Set(filteredNodes);\n\n        // filter out links that do not connect to filtered nodes\n        const filteredLinks = []\n        for (let i = 0; i < data.links.length; i++) {\n            const link = data.links[i];\n            if (filteredNodesSet.has(link.source) && filteredNodesSet.has(link.target)) {\n                filteredLinks.push(link)\n            }\n        }\n\n        // set data to filtered nodes and links\n        data.links = filteredLinks;\n\n        // update nodesMap\n        nodesMap.clear();\n        for (let i = 0; i < data.links.length; i++) {\n            addLinkToData(data.links[i])\n        }\n        setNodeDataFromMap();\n\n        log(\"Done filtering clusters...\")\n        getClusterData();\n    }\n\n    let views = [...nodeViews.keys()];\n    for (let i = 0; i < views.length; i++) {\n        addView(views[i])\n    }\n    log(\"Setting graph data...\")\n    PAIRWISE_GRAPH.setData(data.nodes, data.links)\n    log(\"Done setting graph data...\")\n    // auto zoom after a delay (wait for nodes to finish rendering)\n    setTimeout(() => {\n        autoZoom && PAIRWISE_GRAPH.fitView()\n    }, 1500)\n\n    // generate other diagrams\n    if (recalculate) {\n        log(\"Recalculating data...\")\n        generateSummaryStatistics()\n        generateHistogram()\n        recalculate = false;\n    }\n    generateClusterGraph()\n    log(\"Done generating other diagrams (done updating data)...\")\n}\n\n/**\n * Updates graph nodes' colors / views with given viewID. \n * \n */\nconst addView = (viewID) => {\n    log(\"Adding view: \" + viewID + \" ...\", true)\n    const nodesKeys = [...nodesMap.keys()]\n    const viewValues = nodeViews.get(viewID).values;\n    // loop through current nodes\n    for (let i = 0; i < nodesKeys.length; i++) {\n        // get sequence's corresponding individual, return if not found\n        const correspondingIndividual = individualData.get(nodesKeys[i].split(\"|\")[1]);\n        if (correspondingIndividual === undefined) {\n            continue;\n        }\n\n        // get individual's (demographic) data\n        const individualDemoKeys = Object.keys(correspondingIndividual);\n        const individualDemoValues = Object.values(correspondingIndividual);\n        let add = true;\n\n        // check if sequence's corresponding individual matches view\n        for (let j = 0; j < individualDemoKeys.length; j++) {\n            if (viewValues[j] === \"All\") {\n                continue;\n            }\n\n            if (individualDataCategories.get(individualDemoKeys[j]).type === 'number') {\n                const range = viewValues[j].split(\" - \");\n                if (!(individualDemoValues[j] >= parseFloat(range[0]) && individualDemoValues[j] <= parseFloat(range[1]))) {\n                    add = false;\n                    break;\n                }\n            } else {\n                if (individualDemoValues[j] !== viewValues[j]) {\n                    add = false;\n                    break;\n                }\n            }\n        }\n\n        if (add) {\n            nodesMap.get(nodesKeys[i]).views.add(viewID)\n        }\n    }\n\n    log(\"Updating node (color) data...\")\n    setNodeDataFromMap();\n}\n\nconst deleteView = (viewID) => {\n    const nodesKeys = [...nodesMap.keys()]\n    for (let i = 0; i < nodesKeys.length; i++) {\n        nodesMap.get(nodesKeys[i]).views.delete(viewID)\n    }\n\n    setNodeDataFromMap();\n}\n\nconst setNodeDataFromMap = (filteredNodes = undefined) => {\n    const getColor = (node) => {\n        let color;\n        const view = [...nodesMap.get(node).views.keys()]\n        if (view.length > 0) {\n            color = nodeViews.get([...nodesMap.get(node).views.keys()][0]).color\n        }\n        return color;\n    }\n\n    if (filteredNodes) {\n        data.nodes = filteredNodes.map(node => { return { id: node, color: getColor(node) } })\n    } else {\n        data.nodes = [...nodesMap.keys()].map(node => { return { id: node, color: getColor(node) } })\n    }\n}\n\nconst addLinkToData = (link) => {\n    // source node\n    const sourceIndividualID = link.source.split(\"|\")[1];\n    if (!nodesMap.has(link.source)) {\n        nodesMap.set(link.source, {\n            adjacentNodes: new Set([link.target]),\n            individualID: sourceIndividualID,\n            views: new Set()\n        });\n    }\n\n    // target node\n    const targetIndividualID = link.target.split(\"|\")[1];\n    if (!nodesMap.has(link.target)) {\n        nodesMap.set(link.target, {\n            adjacentNodes: new Set([link.source]),\n            individualID: targetIndividualID,\n            views: new Set()\n        });\n    }\n\n    // update source and target nodes' adjacentNodes set\n    nodesMap.get(link.source).adjacentNodes.add(link.target);\n    nodesMap.get(link.target).adjacentNodes.add(link.source);\n}\n\n// ----------- TOGGLE GRAPH ELEMENTS (switch between different diagrams) ------------\n// NOTE: 0-indexed\n\n// go back and forth between different graph elements\ndocument.getElementById(\"graph-arrow-left\").addEventListener(\"click\", () => {\n    // change graph\n    graphCounter = (graphCounter - 1 + graphElements.length) % graphElements.length;\n    updateGraphElement();\n})\ndocument.getElementById(\"graph-arrow-right\").addEventListener(\"click\", () => {\n    // change graph\n    graphCounter = (graphCounter + 1) % graphElements.length;\n    updateGraphElement();\n})\n\n/**\n * Helper function to update the graph element being shown\n */\nconst updateGraphElement = () => {\n    // hide all graph elements and show the current one\n    for (let i = 0; i < graphElements.length; i++) {\n        graphElements[i].classList.add('d-none')\n    }\n    graphElements[graphCounter].classList.remove('d-none')\n\n    // update cluster graph if necessary\n    if (updatedGraph && graphCounter === 0) {\n        setTimeout(() => {\n            PAIRWISE_GRAPH.fitView()\n            updatedGraph = false;\n        }, 250)\n    }\n\n    if (graphCounter === 2) {\n        clusterPiGraph.centerAt(0.65 * window.innerWidth / 2, window.innerHeight / 2)\n    }\n\n    // update label\n    document.getElementById('footer-label').innerHTML = 'Figure ' + (graphCounter + 1) + ' of ' + graphElements.length;\n}\n\n// ----------- FORM BACK AND FORTH BUTTONS ------------\n// NOTE: 1-indexed\ndocument.getElementById(\"step-back\").addEventListener(\"click\", () => {\n    if (stepCounter === 1) {\n        return;\n    }\n    stepCounter--;\n    updateForm();\n})\n\ndocument.getElementById(\"step-next\").addEventListener(\"click\", () => {\n    if (stepCounter === TOTAL_STEPS) {\n        return;\n    }\n    stepCounter++;\n    updateForm();\n})\n\n/**\n * Helper function to update the form step being shown\n */\nconst updateForm = () => {\n    // hide all form steps and show the current one\n    for (let i = 1; i <= TOTAL_STEPS; i++) {\n        document.getElementById(\"input-step-\" + i).classList.add(\"d-none\");\n    }\n    document.getElementById(\"input-step-\" + stepCounter).classList.remove(\"d-none\");\n\n    // update back and forth buttons' display based on current step\n    if (stepCounter === 1) {\n        document.getElementById(\"step-back\").classList.add(\"invisible\");\n    } else {\n        document.getElementById(\"step-back\").classList.remove(\"invisible\");\n    }\n    if (stepCounter === TOTAL_STEPS) {\n        document.getElementById(\"step-next\").classList.add(\"invisible\");\n    } else {\n        document.getElementById(\"step-next\").classList.remove(\"invisible\");\n    }\n}\n\n// ----------- FILE UPLOAD EVENT HANDLERS ------------\ndocument.getElementById(\"upload-pairwise-file\").addEventListener(\"click\", () => {\n    document.getElementById(\"upload-pairwise-file\").value = \"\";\n    document.getElementById(\"upload-success\").classList.add(\"d-none\");\n})\n\ndocument.getElementById(\"upload-data-file\").addEventListener(\"click\", () => {\n    document.getElementById(\"upload-data-file\").value = \"\";\n    document.getElementById(\"upload-success\").classList.add(\"d-none\");\n})\n\ndocument.getElementById(\"upload-pairwise-file\").addEventListener(\"change\", () => {\n    document.getElementById(\"upload-success\").innerHTML = \"\";\n})\n\ndocument.getElementById(\"upload-data-file\").addEventListener(\"change\", () => {\n    document.getElementById(\"upload-success\").innerHTML = \"\";\n})\n\n// Submit button for uploading data file\ndocument.getElementById(\"read-file\").addEventListener(\"click\", async () => {\n    if (!document.getElementById(\"upload-pairwise-file\").files[0]) {\n        alert(\"Please select a file.\");\n        return;\n    }\n\n    // update status\n    document.getElementById(\"upload-success\").classList.remove(\"d-none\");\n    document.getElementById(\"upload-success\").innerHTML = \"Loading...\";\n\n    // reset data, get individual demographic data, and get pairwise distances (actual node / link data)\n    resetData();\n    await getIndividualDemoData();\n    await getPairwiseDistances();\n\n    // update graph after getting data\n    updateData();\n    PAIRWISE_GRAPH_CANVAS.style.display = \"block\";\n\n    // update status\n    document.getElementById(\"upload-success\").style.display = \"block\";\n    document.getElementById(\"upload-success\").innerHTML = \"Done!\"\n})\n\n// ----------- SEQUENCE (nodes) AND PAIRWISE DISTANCE (links) PARSING ------------\n/**\n * Reads the uploaded data file and updates global variables with the node and link node data (not demographic data, but actual data)\n */\nconst getPairwiseDistances = async () => {\n    const file = document.getElementById(\"upload-pairwise-file\").files[0];\n    console.log(\"\\n\\n\\n-------- READING FILE -------- \\n\\n\\n\")\n    log(\"Reading file...\", true)\n\n    const array = await readFileAsync(file);\n    log(\"Done reading file...\")\n\n    const decoder = new TextDecoder(\"utf-8\");\n    // for when the chunk_size split doesn't match a full line\n    let splitString = \"\";\n\n    log(\"Parsing file...\", true)\n    // iterate over the file in chunks, readAsText can't read the entire file \n    for (let i = 0; i < array.byteLength; i += CHUNK_SIZE) {\n        // get chunk and decode it\n        const text = decoder.decode(array.slice(i, i + CHUNK_SIZE));\n        const lines = text.split(\"\\n\")\n        for (let j = 0; j < lines.length; ++j) {\n            // line represents a single pairwise distance entry\n            let line = lines[j];\n            // split line into data entry columns\n            let columns = line.split(\"\\t\");\n\n            // edge case: very first line of file (header line)\n            if (i === 0 && j === 0) {\n                continue;\n            }\n\n            // edge case: first line is split (part of the line is in the previous chunk)\n            if (j === 0 && columns.length < 3) {\n                // add it to the splitString and reset split string\n                line = splitString + line;\n                splitString = \"\";\n                columns = line.split(\"\\t\")\n            }\n\n            // edge case: last line is split (part of the line is in the next chunk)\n            if (j === lines.length - 1 && lines[j].length > 0) {\n                // set the splitString to the last line\n                splitString = line;\n                continue;\n            }\n\n            // add to map of all pairwise distances if below threshold\n            if (parseFloat(columns[2]) < MAX_THRESHOLD) {\n                ALL_LINKS.set(columns[0] + \"-\" + columns[1], {\n                    id: columns[0] + \"-\" + columns[1],\n                    source: columns[0],\n                    target: columns[1],\n                    value: parseFloat(columns[2]),\n                })\n            }\n\n            // skip empty lines / lines with missing data\n            if (columns[0] === undefined || columns[0] === \"\" || columns[1] === undefined || columns[1] === \"\") {\n                continue;\n            }\n\n            // add nodes to set of all nodes\n            ALL_NODES.add(columns[0]);\n            ALL_NODES.add(columns[1]);\n        }\n    }\n\n    log(\"Done parsing file...\")\n}\n\n// helper function to promise-fy file read and make it awaitable \nconst readFileAsync = async (file, asText = false) => {\n    const reader = new FileReader();\n    return new Promise((resolve, reject) => {\n        reader.onload = (e) => {\n            resolve(e.target.result);\n        };\n        reader.onerror = reject;\n        asText ? reader.readAsText(file) : reader.readAsArrayBuffer(file);\n    })\n}\n\n// ----------- CLUSTER GENERATION ------------\n/**\n * Creates cluster data from the pairwise distance data by using a BFS to find all nodes within a cluster\n */\nconst getClusterData = () => {\n    log(\"Generating clusters...\")\n    // list of current nodes on graph, a list of ids (strings) \n    const nodes = new Set(nodesMap.keys());\n    // array of clusters, each cluster is a set of ids (strings)\n    const clusterStats = [];\n    // array of cluster sizes\n    const clusterSizes = [];\n    // map of cluster size to number of clusters of that size\n    const clusterDistribution = new Map();\n\n    // iterate over all nodes, perform BFS\n    let nodesIterator = nodes.values();\n    while (nodes.size > 0) {\n        const cluster = new Set();\n        // get first node in set (id string)\n        const starterNode = nodesIterator.next().value;\n        cluster.add(starterNode);\n        nodes.delete(starterNode)\n        // queue of nodes to visit, which are id strings\n        // each key in nodesMap points to a node object, which has an adjacentNodes property that is a list of id strings\n        const queue = [...(nodesMap.get(starterNode).adjacentNodes)];\n        while (queue.length > 0) {\n            const node = queue.pop();\n            if (!cluster.has(node)) {\n                cluster.add(node);\n                nodes.delete(node);\n                queue.push(...(nodesMap.get(node).adjacentNodes));\n            }\n        }\n\n        // iterate over all nodes in cluster, get triangle count\n        let triangleCount = 0;\n        const clusterNodes = [...cluster.values()];\n        for (let i = 0; i < clusterNodes.length; i++) {\n            const node1 = clusterNodes[i];\n            for (let j = i + 1; j < clusterNodes.length; j++) {\n                const node2 = clusterNodes[j];\n                if (!(unfilteredLinks.has(node1 + \"-\" + node2) || unfilteredLinks.has(node2 + \"-\" + node1))) {\n                    continue;\n                }\n                \n                for (let k = j + 1; k < clusterNodes.length; k++) {\n                    const node3 = clusterNodes[k];\n                    if ((unfilteredLinks.has(node1 + \"-\" + node3) || unfilteredLinks.has(node3 + \"-\" + node1)) && \n                    (unfilteredLinks.has(node2 + \"-\" + node3) || unfilteredLinks.has(node3 + \"-\" + node2))) {\n                        triangleCount++;\n                    }\n                }\n            }\n        }\n\n        // update cluster data\n        clusterStats.push({\n            id: starterNode,\n            cluster,\n            size: cluster.size,\n            triangleCount\n        });\n        clusterSizes.push(cluster.size);\n        clusterDistribution.set(cluster.size, (clusterDistribution.get(cluster.size) || 0) + 1);\n    }\n\n    // also set histogram bar count variable to largest cluster size \n    histogramBarCount = Math.max(...clusterSizes);\n    document.getElementById(\"cluster-histogram-bar-count\").value = histogramBarCount;\n    document.getElementById(\"cluster-histogram-bar-hint\").innerHTML = \"Default (Intervals of 1): \" + histogramBarCount;\n\n    clusterStats.sort((a, b) => a.cluster.size - b.cluster.size)\n    data.clusters = { clusterStats, clusterSizes, clusterDistribution };\n    log(\"Done generating clusters...\")\n}\n\n// ----------- CLUSTER GRAPH GENERATION ------------\nconst generateClusterGraph = () => {\n    piData.nodes.length = 0;\n    for (let i = data.clusters.clusterStats.length - 1; i >= 0; i--) {\n        piData.nodes.push({ id: i, val: Math.sqrt(data.clusters.clusterStats[i].cluster.size) * 2, count: data.clusters.clusterStats[i].cluster.size });\n    }\n\n    clusterPiGraph.graphData(piData);\n    clusterPiGraph.centerAt(0.65 * window.innerWidth / 2, window.innerHeight / 2)\n}\n\n// ----------- HISTOGRAM GENERATION ------------\ndocument.getElementById(\"cluster-histogram-bar-count\").addEventListener(\"input\", (e) => {\n    // validation\n    if (isNaN(e.target.value) || parseInt(e.target.value) < 0) {\n        return;\n    }\n\n    histogramBarCount = parseInt(e.target.value);\n    log(\"Updating histogram...\", true)\n    generateHistogram();\n    log(\"Done updating histogram...\")\n})\n\nconst generateHistogram = () => {\n    if (data.clusters.clusterSizes.length === 0) {\n        return;\n    }\n\n    // set the dimensions and margins of the graph\n    const graphWidth = document.body.clientWidth * 0.65;\n    const graphHeight = document.body.clientHeight;\n    const margin = { top: graphHeight * 0.15, right: graphWidth * 0.1, bottom: graphHeight * 0.15, left: graphWidth * 0.15 }\n    const width = document.body.clientWidth * 0.65 - margin.left - margin.right;\n    const height = graphHeight - margin.top - margin.bottom;\n\n    // remove old svg\n    document.getElementById(\"cluster-histogram\").innerHTML = \"\";\n\n    // append the svg object to the body of the page\n    const svg = d3.select(\"#cluster-histogram\")\n        .append(\"svg\")\n        .attr(\"width\", width + margin.left + margin.right)\n        .attr(\"height\", height + margin.top + margin.bottom)\n        .append(\"g\")\n        .attr(\"transform\",\n            `translate(${margin.left},${margin.top})`);\n\n    // X axis: scale and draw:\n    const x = d3.scaleLinear()\n        .domain([0, Math.max(...data.clusters.clusterSizes) * 1.05])\n        .range([0, width]);\n    svg.append(\"g\")\n        .attr(\"transform\", `translate(0, ${height})`)\n        .call(d3.axisBottom(x));\n\n    // X axis label:\n    svg.append(\"text\")\n        .attr(\"class\", \"x label\")\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"x\", width / 2)\n        .attr(\"y\", height + 40)\n        .text(\"Cluster size\");\n\n    // set the parameters for the histogram\n    const histogram = d3.bin()\n        .domain(x.domain())  // then the domain of the graphic\n        .thresholds(x.ticks(histogramBarCount)); // then the numbers of bins\n    // TODO: make bins editable\n\n    // And apply this function to data to get the bins\n    const bins = histogram(data.clusters.clusterSizes);\n\n    // Y axis: scale and draw:\n    const y = d3.scaleLinear()\n        .range([height, 0]);\n    y.domain([0, d3.max(bins, function (d) { return d.length; })]);\n    svg.append(\"g\")\n        .call(d3.axisLeft(y));\n\n    // Y axis label\n    svg.append(\"text\")\n        .attr(\"class\", \"y label\")\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"y\", -50)\n        .attr(\"x\", -height / 2)\n        .attr(\"dy\", \".75em\")\n        .attr(\"transform\", \"rotate(-90)\")\n        .text(\"Frequency\");\n\n    // append the bar rectangles to the svg element\n    svg.selectAll(\"rect\")\n        .data(bins)\n        .join(\"rect\")\n        .attr(\"x\", 1)\n        .attr(\"transform\", function (d) { return `translate(${x(d.x0)} , ${y(d.length)})` })\n        .attr(\"width\", function (d) { return x(d.x1) - x(d.x0) < 1 ? 0 : x(d.x1) - x(d.x0) - 2 })\n        .attr(\"height\", function (d) { return height - y(d.length); })\n        .style(\"fill\", \"#0D6EFD\")\n\n    svg.selectAll(\".text\")\n        .data(bins)\n        .enter()\n        .append(\"text\")\n        .attr(\"class\", \"label\")\n        .attr(\"text-anchor\", \"middle\")\n        .attr(\"font-size\", \"12px\")\n        .attr(\"x\", (function (d) { return (x(d.x1) + x(d.x0)) / 2 }))\n        .attr(\"y\", function (d) { return y(d.length) - 12; })\n        .text(d => d.length > 0 ? d.length : null);\n}\n\n// ---------- SUMMARY STATISTICS GENERATION ------------\nconst generateSummaryStatistics = () => {\n    // sort cluster sizes to get median\n    data.unfilteredClusters.clusterSizes.sort((a, b) => a - b);\n    data.stats.median = data.unfilteredClusters.clusterSizes[Math.floor(data.unfilteredClusters.clusterSizes.length / 2)];\n\n    // get mean \n    data.stats.mean = (data.unfilteredClusters.clusterSizes.reduce((a, b) => a + b, 0) / data.unfilteredClusters.clusterSizes.length).toFixed(2);\n\n    // get triangle count\n    let triangleCount = 0;\n    for (let i = 0; i < data.unfilteredClusters.clusterStats.length; i++) {\n        triangleCount += data.unfilteredClusters.clusterStats[i].triangleCount;\n    }\n\n    // get number of possible connected triples\n    let triples = 0;\n    const unfilteredNodesArray = [];\n    unfilteredNodes.forEach(node => unfilteredNodesArray.push(node));\n    for (let i = 0; i < unfilteredNodesArray.length; i++) {\n        const adjacentNodeCount = nodesMap.get(unfilteredNodesArray[i]).adjacentNodes.size;\n        triples += adjacentNodeCount * (adjacentNodeCount - 1) / 2;\n    }\n\n    triples /= 3;\n\n    // calculate transitivity\n    data.stats.transitivity = (triangleCount / triples).toFixed(2); \n\n    data.stats.triangleCount = triangleCount;\n\n    // calculate mean pairwise distance\n    let sum = 0;\n    const unfilteredLinksArray = [];\n    unfilteredLinks.forEach(link => unfilteredLinksArray.push(link));\n    unfilteredLinksArray.sort((a, b) => a.value - b.value);\n    for (let i = 0; i < unfilteredLinksArray.length; i++) {\n        sum += unfilteredLinksArray[i].value;\n    }\n    data.stats.meanPairwiseDistance = (sum / unfilteredLinksArray.length).toFixed(6);\n\n    // calculate median pairwise distance\n    data.stats.medianPairwiseDistance = unfilteredLinksArray[Math.floor(unfilteredLinksArray.length / 2)].value.toFixed(6);\n\n    document.getElementById(\"summary-node-count\").innerHTML = unfilteredNodes.size;\n    document.getElementById(\"summary-singleton-count\").innerHTML = ALL_NODES.size - unfilteredNodes.size;\n    document.getElementById(\"summary-edge-count\").innerHTML = unfilteredLinks.size;\n    document.getElementById(\"summary-cluster-count\").innerHTML = data.unfilteredClusters.clusterStats.length;\n    document.getElementById(\"summary-cluster-mean\").innerHTML = data.stats.mean;\n    document.getElementById(\"summary-cluster-median\").innerHTML = data.stats.median;\n    document.getElementById(\"summary-triangle-count\").innerHTML = data.stats.triangleCount;\n    document.getElementById(\"summary-transitivity\").innerHTML = data.stats.transitivity;\n    document.getElementById(\"summary-pairwise-mean\").innerHTML = data.stats.meanPairwiseDistance;\n    document.getElementById(\"summary-pairwise-median\").innerHTML = data.stats.medianPairwiseDistance;\n}\n\n// ----------- GET INDIVIDUAL DEMOGRAPHIC (SUPPLEMENTARY) DATA ------------\nconst getIndividualDemoData = async () => {\n    const file = document.getElementById(\"upload-data-file\").files[0];\n\n    // validation\n    if (!file) {\n        return;\n    }\n    if (!(file.name.endsWith(\".tsv\") || file.name.endsWith(\".csv\"))) {\n        alert(\"Invalid supplementary data file.\")\n        return;\n    }\n\n    // read file and define delimiter \n    const text = await readFileAsync(file, true)\n    const delimiter = file.name.endsWith(\".csv\") ? \",\" : \"\\t\";\n\n    const lines = text.split(\"\\n\")\n    // first line is categories\n    const categories = lines[0].split(delimiter);\n    // create new category for each column\n    for (let i = 0; i < categories.length; i++) {\n        individualDataCategories.set(categories[i], { type: 'number', elements: new Set() })\n    }\n\n    // edge case to remove empty line at end of file\n    if (lines[lines.length - 1] === \"\") {\n        lines.pop();\n    }\n\n    // validation by checking number of data entry columns\n    if (individualDataCategories.size < 2 || individualDataCategories.size > MAX_INDIVIDUAL_CATEGORIES) {\n        alert(\"Invalid supplementary data file.\")\n        return;\n    }\n\n    log(\"Parsing node supplementary data...\", true)\n\n    // create individual demographic data\n    for (let i = 1; i < lines.length; i++) {\n        const dataEntry = lines[i].split(delimiter);\n        // validation by checking if number of data entry columns matches number of categories\n        if (dataEntry.length !== individualDataCategories.size) {\n            alert(\"Invalid supplementary data file.\")\n            return;\n        }\n\n        // create object for each data entry, corresponds to a node\n        const dataEntryObject = {};\n\n        for (let j = 1; j < categories.length; j++) {\n            if (isNaN(dataEntry[j])) {\n                individualDataCategories.get(categories[j]).type = 'string';\n            }\n\n            if (individualDataCategories.get(categories[j]).type === 'string') {\n                dataEntryObject[categories[j]] = dataEntry[j];\n                individualDataCategories.get(categories[j]).elements.add(dataEntry[j])\n            } else {\n                dataEntryObject[categories[j]] = parseFloat(dataEntry[j]);\n                individualDataCategories.get(categories[j]).elements.add(parseFloat(dataEntry[j]))\n            }\n        }\n\n        // add data entry to individual demographic data\n        individualData.set(dataEntry[0], dataEntryObject)\n    }\n\n    // sort categories\n    for (let i = 0; i < categories.length; i++) {\n        const sortedElements = [...individualDataCategories.get(categories[i]).elements.values()]\n\n        if (individualDataCategories.get(categories[i]).type === 'string') {\n            sortedElements.sort()\n        } else {\n            sortedElements.sort((a, b) => a - b)\n        }\n\n        // add in \"All\" option\n        individualDataCategories.get(categories[i]).elements = new Set([\"All\", ...sortedElements])\n    }\n\n    // generate HTML elements for views\n    generateNodeViews();\n\n    log(\"Done parsing node supplementary data...\")\n}\n\n/**\n * Generates HTML elements for node views, one per category.\n */\nconst generateNodeViews = () => {\n    const categories = [...individualDataCategories.keys()];\n    const container = document.getElementById(\"views-container\");\n    container.innerHTML = \"\";\n    // loop through each category\n    for (let i = 1; i < categories.length; i++) {\n        const view = document.createElement(\"div\");\n        view.classList.add(\"pairwise-view\", \"mb-3\", \"w-100\");\n\n        // create label\n        const label = document.createElement(\"label\");\n        label.htmlFor = \"view-select-\" + i;\n        label.classList.add(\"form-label\", \"w-100\", \"text-center\");\n        label.innerHTML = \"View by \" + categories[i].toLowerCase() + \": \";\n\n        // create select input\n        const select = document.createElement(\"select\");\n        select.id = \"view-select-\" + i;\n        select.classList.add(\"form-select\", \"view-select\");\n        select.setAttribute(\"category\", categories[i]);\n\n        // add options for each possible value\n        const values = [...individualDataCategories.get(categories[i]).elements]\n        if (individualDataCategories.get(categories[i]).type === 'number') {\n            // create \"All\" option\n            const allOption = document.createElement(\"option\");\n            allOption.innerHTML = \"All\";\n            allOption.value = \"All\";\n            select.appendChild(allOption);\n\n            // create default 10 options for each range of values\n            // use index 1 instead of index 0 since index 0 is \"All\" option\n            const min = values[1];\n            const max = values[values.length - 1];\n            const step = (max - min) / 10;\n            for (let j = min; j <= max; j += step) {\n                const option = document.createElement(\"option\");\n                option.innerHTML = j.toFixed(2) + \" - \" + (j + step).toFixed(2);\n                option.value = j.toFixed(2) + \" - \" + (j + step).toFixed(2);\n                select.appendChild(option);\n            }\n        } else {\n            // make \"other\" last value\n            const otherIndex = values.map(string => string.toLowerCase()).indexOf(\"other\");\n            if (otherIndex !== -1) {\n                individualDataCategories.get(categories[i]).elements.delete(values[otherIndex])\n                individualDataCategories.get(categories[i]).elements.add(values[otherIndex])\n                const otherText = values.splice(otherIndex, 1);\n                values.push(otherText);\n            }\n\n            for (let j = 0; j < values.length; j++) {\n                const option = document.createElement(\"option\");\n                option.innerHTML = values[j];\n                option.value = values[j];\n                select.appendChild(option);\n            }\n        }\n\n        // append everything\n        view.appendChild(label);\n        view.appendChild(select);\n        container.appendChild(view);\n\n    }\n}\n\n// ----------- NODE VIEW CREATION ------------\ndocument.getElementById(\"create-view-button\").addEventListener(\"click\", (e) => {\n    // TODO: add validation\n    // create view ID and add to map\n    let viewID = \"\";\n    let viewName = \"\";\n    let viewValues = [];\n    const viewElements = document.getElementsByClassName(\"view-select\");\n    for (let i = 0; i < viewElements.length; i++) {\n        viewID += viewElements[i].selectedIndex + (i === viewElements.length - 1 ? \"\" : \"-\");\n        viewValues.push(viewElements[i].value)\n\n        if (viewElements[i].selectedIndex !== 0) {\n            viewName += viewElements[i].getAttribute(\"category\") + \"-\" + viewElements[i].value + \", \";\n        }\n    }\n\n    // check if view element exists\n    if (document.getElementById(\"view-entry-\" + viewID) !== null) {\n        alert(\"View already exists.\");\n        return;\n    }\n\n    if (viewName === \"\") {\n        viewName = \"All\";\n    } else {\n        // slice off last comma and space\n        viewName = viewName.slice(0, -2);\n    }\n\n    nodeViews.set(viewID, {\n        color: document.getElementById(\"view-color\").value,\n        name: viewName,\n        values: viewValues\n    })\n\n    addView(viewID);\n\n    PAIRWISE_GRAPH.setData(data.nodes, data.links)\n\n    // create view element\n    const viewEntryElement = document.createElement(\"div\");\n    viewEntryElement.classList.add(\"view-entry\", \"my-3\", \"w-100\");\n    viewEntryElement.id = \"view-entry-\" + viewID;\n\n    const viewPreview = document.createElement(\"div\");\n    viewPreview.classList.add(\"view-entry-preview\", \"w-100\");\n    viewPreview.id = \"view-entry-preview-\" + viewID;\n    viewEntryElement.appendChild(viewPreview);\n\n    const viewButton = document.createElement(\"button\");\n    viewButton.classList.add(\"btn\", \"btn-secondary\", \"view-entry-button\");\n    viewButton.id = \"view-entry-button-\" + viewID;\n    viewButton.innerHTML = \"View: \" + viewName;\n    viewPreview.appendChild(viewButton);\n\n    const viewColor = document.createElement(\"input\");\n    viewColor.type = \"color\";\n    viewColor.value = document.getElementById(\"view-color\").value;\n    viewColor.classList.add(\"view-entry-color\", \"form-control\", \"form-control-color\", \"border-secondary\");\n    viewColor.id = \"view-entry-color-\" + viewID;\n    viewPreview.appendChild(viewColor);\n    viewColor.addEventListener(\"input\", (e) => {\n        nodeViews.get(viewID).color = e.target.value;\n        setNodeDataFromMap();\n        PAIRWISE_GRAPH.setData(data.nodes, data.links)\n    })\n\n    const viewDelete = document.createElement(\"button\");\n    viewDelete.classList.add(\"btn\", \"btn-danger\", \"view-entry-delete\");\n    viewDelete.id = \"view-entry-delete-\" + viewID;\n    viewDelete.addEventListener(\"click\", () => {\n        document.getElementById(\"view-entry-\" + viewID).remove();\n        nodeViews.delete(viewID);\n        deleteView(viewID);\n        PAIRWISE_GRAPH.setData(data.nodes, data.links)\n    })\n    viewPreview.appendChild(viewDelete);\n\n    const viewDeleteIcon = document.createElement(\"i\");\n    viewDeleteIcon.classList.add(\"bi\", \"bi-trash\");\n    viewDelete.appendChild(viewDeleteIcon);\n\n    document.getElementById(\"view-entry-container\").appendChild(viewEntryElement);\n})\n\n// ----------- THRESHOLD INPUT HANDLING ------------\nlet thresholdTimeout = undefined;\n\n// threshold input handling, checks if input is valid and updates threshold if so\ndocument.getElementById(\"threshold-select\").addEventListener(\"input\", (e) => {\n    threshold = parseFloat(e.target.value);\n    thresholdValid = !isNaN(threshold) && threshold >= 0 && threshold <= MAX_THRESHOLD;\n    if (thresholdValid) {\n        document.getElementById(\"threshold-select\").classList.remove('is-invalid')\n        updateThresholdLabel();\n\n        clearTimeout(thresholdTimeout);\n\n        thresholdTimeout = setTimeout(() => {\n            if (thresholdValid) {\n                recalculate = true;\n                updateData();\n            }\n        }, 500)\n    } else {\n        document.getElementById(\"threshold-select\").classList.add('is-invalid')\n    }\n})\n\nconst updateThresholdLabel = () => {\n    document.getElementById(\"threshold-label\").innerHTML = \"Maximum Pairwise Distance Threshold Level: \" + threshold.toFixed(4);\n}\n\n// // ----------- CLUSTER FILTERS ------------\n// // cluster filter type select input handling\n// document.getElementById(\"cluster-filter-select\").addEventListener(\"change\", () => {\n//     clusterFilterType = document.getElementById(\"cluster-filter-select\").value;\n//     if (clusterFilterType === \"clusterNodeMin\") {\n//         document.getElementById(\"cluster-filter-value\").classList.remove(\"d-none\");\n//         document.getElementById(\"cluster-filter-value\").value = \"\";\n//         // TODO: Singletons not getting shown so...\n//         clusterNodeMin = 0;\n//     } else if (clusterFilterType === \"maxClusterCount\") {\n//         document.getElementById(\"cluster-filter-value\").classList.remove(\"d-none\");\n//         document.getElementById(\"cluster-filter-value\").value = \"\";\n//         maxClusterCount = 0;\n//     } else {\n//         document.getElementById(\"cluster-filter-value\").classList.add(\"d-none\");\n//     }\n// })\n\n// // cluster filter value input handling\n// document.getElementById(\"cluster-filter-value\").addEventListener(\"input\", () => {\n//     // check if value is valid and returns if invalid\n//     checkClusterValueValid()\n//     if (!clusterValid) {\n//         return;\n//     }\n\n//     // update cluster filter value\n//     const value = document.getElementById(\"cluster-filter-value\").value;\n//     if (clusterFilterType === \"clusterNodeMin\") {\n//         clusterNodeMin = value;\n//     } else if (clusterFilterType === \"maxClusterCount\") {\n//         maxClusterCount = value;\n//     }\n// })\n\n// /**\n//  * Checks if the cluster filter value is valid and updates the clusterValid variable and DOM.\n//  */\n// const checkClusterValueValid = () => {\n//     if (clusterFilterType === \"all\") {\n//         clusterValid = true;\n//     } else {\n//         const value = document.getElementById(\"cluster-filter-value\").value;\n//         if (isNaN(value) || value < 0 || !Number.isInteger(parseInt(value))) {\n//             document.getElementById(\"cluster-filter-value\").classList.add(\"is-invalid\");\n//             clusterValid = false;\n//         } else if (value === \"\") {\n//             // do nothing\n//             clusterValid = false;\n//         } else {\n//             document.getElementById(\"cluster-filter-value\").classList.remove(\"is-invalid\");\n//             clusterValid = true;\n//         }\n//     }\n// }\n\n// // ----------- UPDATE BUTTON ------------\n// // timeout to clear status message\n// let filterStatusTimeout;\n\n// // update button click handling, checks if inputs are valid and updates graph if so\n// document.getElementById(\"filter-update\").addEventListener(\"click\", () => {\n//     checkClusterValueValid();\n//     if (!clusterValid) {\n//         document.getElementById(\"cluster-filter-value\").classList.add(\"is-invalid\");\n//     } else {\n//         document.getElementById(\"cluster-filter-value\").classList.remove(\"is-invalid\");\n//     }\n\n//     if (clusterValid) {\n//         document.getElementById(\"filter-update-status\").classList.remove(\"d-none\");\n//         document.getElementById(\"filter-update-status\").innerHTML = \"Graph updated!\";\n//         updateData();\n//         clearTimeout(filterStatusTimeout)\n//         filterStatusTimeout = setTimeout(() => {\n//             document.getElementById(\"filter-update-status\").classList.add(\"d-none\");\n//         }, 5000)\n//     }\n// })\n\n\n// ----------- GRAPH INTERACTION  ------------\ndocument.getElementById(\"zoom-to-fit\").addEventListener(\"click\", () => {\n    PAIRWISE_GRAPH.fitView();\n})\n\n// ----------- PERFORMANCE LOGGING ------------ \nlet basetime = performance.now();\n\nconst log = (message, reset = false) => {\n    if (reset) {\n        basetime = performance.now();\n    }\n    console.log(message + \"\\n\" + \"Time: \" + (performance.now() - basetime) + \"ms\");\n}\n\n// ----------- INITIALIZATION ------------\n// create new graph and hide it until user uploads a file\nconst PAIRWISE_GRAPH = new Graph(PAIRWISE_GRAPH_CANVAS, PAIRWISE_GRAPH_CONFIG);\nPAIRWISE_GRAPH_CANVAS.style.display = \"none\";\n// update threshold label\ndocument.getElementById(\"threshold-label\").innerHTML = \"Pairwise Distance Threshold Level: \" + threshold.toFixed(4);\n// show first graph element\ndocument.getElementById('graph-element-0').classList.remove('d-none')\nupdateGraphElement();\n// update form step\nupdateForm();\nupdateThresholdLabel();\n\nconst clusterPiGraph = ForceGraph();\nclusterPiGraph(document.getElementById(\"cluster-pi-graph\"))\n    .width(0.65 * window.innerWidth)\n    .d3Force('charge', d3.forceManyBody().strength(0.5))\n    .d3Force('collide', d3.forceCollide(node => node.val * 1.3))\n    .d3Force('center', d3.forceCenter(0.65 * window.innerWidth / 2, window.innerHeight / 2))\n    .enableNodeDrag(false)\n    .nodeCanvasObject((node, ctx, globalScale) => {\n        ctx.fillStyle = \"#a3a3a3\"\n        ctx.beginPath();\n        ctx.arc(node.x, node.y, node.val, 0, 2 * Math.PI);\n        ctx.fill();\n        // set font color to white\n        ctx.fillStyle = \"#ffffff\"\n        ctx.textAlign = \"center\";\n        ctx.textBaseline = \"middle\";\n        // adjust font size to node size\n        ctx.font = `${Math.round(node.val / 2)}px monospace`;\n        // create label of node.count\n        ctx.fillText(node.count, node.x, node.y);\n    })\n\nclusterPiGraph.centerAt(0.65 * window.innerWidth / 2, window.innerHeight / 2)"],"names":["$6e0da2549057218e$var$none","$6e0da2549057218e$export$2e2bcd8739ae039","selector","this","querySelector","$7d92e4f75dbef49d$var$empty","$7d92e4f75dbef49d$export$2e2bcd8739ae039","querySelectorAll","$a3d7edd03ec30cc1$var$arrayAll","select","x","apply","arguments","Array","isArray","from","$5fb24786d2a5f87a$export$2e2bcd8739ae039","matches","$5fb24786d2a5f87a$export$90c2759c036528","node","global","module1","define1","Alea","seed","me","mash","n","data","String","i","length","h","charCodeAt","Mash","next","t","s0","c","s1","s2","copy","f","impl","opts","xg","state","prng","int32","double","quick","exports","amd","alea","module","define","XorGen","strseed","y","z","w","k","result","xor128","v","d","xorwow","X","j","push","init","slice","Date","xorshift7","limit","Math","max","xor4096","b","a","floor","tychei","$31ffd623f27a3a65$var$find","prototype","find","$31ffd623f27a3a65$var$childFirst","firstElementChild","$956143cec557381d$var$filter","filter","$956143cec557381d$var$children","children","$e7fb628d3a97a780$export$2e2bcd8739ae039","update","$3e99928b06782938$export$67b01759a14cf6a4","parent","datum","ownerDocument","namespaceURI","_next","_parent","__data__","$cf943aeeeea8dffb$var$bindIndex","group","enter","exit","groupLength","dataLength","$cf943aeeeea8dffb$var$bindKey","key","keyValue","nodeByKeyValue","Map","keyValues","call","has","set","get","delete","$cf943aeeeea8dffb$var$datum","$cf943aeeeea8dffb$var$arraylike","$faed8eab1469f61d$var$ascending","NaN","constructor","appendChild","child","insertBefore","$53f2bc3e7847f93d$export$201a3f7520ccc326","$53f2bc3e7847f93d$export$2e2bcd8739ae039","svg","xhtml","xlink","xml","xmlns","$b659c67af9335162$export$2e2bcd8739ae039","name","prefix","indexOf","hasOwnProperty","space","local","$8ba31651ad7591ba$var$attrRemove","removeAttribute","$8ba31651ad7591ba$var$attrRemoveNS","fullname","removeAttributeNS","$8ba31651ad7591ba$var$attrConstant","value","setAttribute","$8ba31651ad7591ba$var$attrConstantNS","setAttributeNS","$8ba31651ad7591ba$var$attrFunction","$8ba31651ad7591ba$var$attrFunctionNS","$89f2562a5a0d5a13$export$2e2bcd8739ae039","defaultView","document","$6abb942964e997ae$var$styleRemove","style","removeProperty","$6abb942964e997ae$var$styleConstant","priority","setProperty","$6abb942964e997ae$var$styleFunction","$6abb942964e997ae$export$5e3cec964f0b5efd","getPropertyValue","getComputedStyle","$2b37810bbc11c28b$var$propertyRemove","$2b37810bbc11c28b$var$propertyConstant","$2b37810bbc11c28b$var$propertyFunction","$6515c3ccac9efd7a$var$classArray","string","trim","split","$6515c3ccac9efd7a$var$classList","classList","$6515c3ccac9efd7a$var$ClassList","_node","_names","getAttribute","$6515c3ccac9efd7a$var$classedAdd","names","list","add","$6515c3ccac9efd7a$var$classedRemove","remove","$6515c3ccac9efd7a$var$classedTrue","$6515c3ccac9efd7a$var$classedFalse","$6515c3ccac9efd7a$var$classedFunction","$23bcbc7d81179ba9$var$textRemove","textContent","$23bcbc7d81179ba9$var$textConstant","$23bcbc7d81179ba9$var$textFunction","$d5514f1406649954$var$htmlRemove","innerHTML","$d5514f1406649954$var$htmlConstant","$d5514f1406649954$var$htmlFunction","$c6aae8ef09c3d03d$var$raise","nextSibling","parentNode","$4669a19c71181bd1$var$lower","previousSibling","firstChild","$8408c2f95f59818f$var$creatorInherit","uri","documentElement","createElement","createElementNS","$8408c2f95f59818f$var$creatorFixed","$8408c2f95f59818f$export$2e2bcd8739ae039","$45485f4f27d149f8$var$constantNull","$d587d6535138580c$var$remove","removeChild","$3323c835dc2d74de$var$selection_cloneShallow","clone","cloneNode","$3323c835dc2d74de$var$selection_cloneDeep","$dd1fb49221ad966f$var$onRemove","typename","on","__on","o","m","type","removeEventListener","listener","options","$dd1fb49221ad966f$var$onAdd","event","$dd1fb49221ad966f$var$contextListener","addEventListener","$27c639e461d8a390$var$dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchEvent","$27c639e461d8a390$var$dispatchConstant","$27c639e461d8a390$var$dispatchFunction","join","splice","contains","$28a9f77d63e1ff25$export$e8e78c978b129247","$28a9f77d63e1ff25$export$52baac22726c72bf","groups","parents","_groups","_parents","$28a9f77d63e1ff25$var$selection","subgroups","subnode","subgroup","selectAll","selectChild","match","$31ffd623f27a3a65$var$childFind","selectChildren","$956143cec557381d$var$childrenFilter","bind","enterGroup","updateGroup","previous","i0","i1","_enter","_exit","map","onenter","onupdate","onexit","selection","append","merge","order","context","groups0","groups1","m0","m1","min","merges","group0","group1","compareDocumentPosition","sort","compare","compareNode","sortgroups","sortgroup","callback","nodes","size","empty","each","attr","getAttributeNS","property","classed","text","html","raise","lower","create","insert","before","deep","typenames","$dd1fb49221ad966f$var$parseTypenames","dispatch","Symbol","iterator","$28a9f77d63e1ff25$export$2e2bcd8739ae039","$cf81072cf307ee25$export$2e2bcd8739ae039","$7c4cf709d1826294$var$noop","$7c4cf709d1826294$var$dispatch","_","test","Error","$7c4cf709d1826294$var$Dispatch","$7c4cf709d1826294$var$get","$7c4cf709d1826294$var$set","concat","types","T","that","args","$e782289d8bd71451$var$taskHead","$e782289d8bd71451$var$taskTail","$7c4cf709d1826294$export$2e2bcd8739ae039","$e782289d8bd71451$var$frame","$e782289d8bd71451$var$timeout","$e782289d8bd71451$var$interval","$e782289d8bd71451$var$pokeDelay","$e782289d8bd71451$var$clockLast","$e782289d8bd71451$var$clockNow","$e782289d8bd71451$var$clockSkew","$e782289d8bd71451$var$clock","performance","now","$e782289d8bd71451$var$setFrame","requestAnimationFrame","setTimeout","$e782289d8bd71451$export$461939dd4422153","$e782289d8bd71451$var$clearNow","$e782289d8bd71451$export$c57e9b2d8b9e4de","_call","_time","$e782289d8bd71451$export$9dc4ecf953986f04","delay","time","restart","$e782289d8bd71451$var$wake","e","undefined","$e782289d8bd71451$export$d60154c1d7f3990e","t0","t2","t1","Infinity","$e782289d8bd71451$var$sleep","$e782289d8bd71451$var$nap","$e782289d8bd71451$var$poke","clearTimeout","clearInterval","setInterval","$d15c972f8843a0f2$export$2e2bcd8739ae039","elapsed","stop","TypeError","$150ba4634a330696$var$emptyOn","$150ba4634a330696$var$emptyTween","$150ba4634a330696$export$ff39ebd4bb12b718","$150ba4634a330696$export$584530fe98d14a84","$150ba4634a330696$export$a5d151aee16efd42","$150ba4634a330696$export$fb935ab5849a0db9","$150ba4634a330696$export$1573e22b087389af","$150ba4634a330696$export$a2e792214ded83b2","$150ba4634a330696$export$9d38167254403955","$150ba4634a330696$export$2e2bcd8739ae039","id","index","timing","schedules","__transition","self","tween","schedule","timer","start","tick","duration","ease","$150ba4634a330696$var$create","$150ba4634a330696$export$2cd8252107eb640b","$150ba4634a330696$export$3988ae62b71be9a3","$150ba4634a330696$export$adaa4cf7ef1b65be","$b05ce272ee11a654$export$2e2bcd8739ae039","active","$bebed377ddb9d3af$export$2e2bcd8739ae039","$4a001faa54972590$var$svgNode","$2938f7d64470581a$var$degrees","PI","$2938f7d64470581a$export$f0954fd7d5368655","translateX","translateY","rotate","skewX","scaleX","scaleY","$2938f7d64470581a$export$2e2bcd8739ae039","sqrt","atan2","atan","$e4d1a233c7242264$var$interpolateTransform","parse","pxComma","pxParen","degParen","pop","s","q","xa","ya","xb","yb","translate","scale","$e4d1a233c7242264$export$56bec7123bb3589a","DOMMatrix","WebKitCSSMatrix","isIdentity","$e4d1a233c7242264$export$da8cba906d64c082","transform","baseVal","consolidate","matrix","$922feb1dfe9c8dcf$var$tweenRemove","tween0","tween1","$922feb1dfe9c8dcf$var$tweenFunction","$922feb1dfe9c8dcf$export$f78ce6ab10405d82","transition","_id","$831e9a7deaab9d1d$export$2e2bcd8739ae039","factory","$831e9a7deaab9d1d$export$8b58be045bf06082","definition","Object","$8b7826cd7970b69e$export$892596cec99bc70e","$8b7826cd7970b69e$export$4adafc6ed0600c10","$8b7826cd7970b69e$export$9eace2cc0d12c98d","$8b7826cd7970b69e$var$reI","$8b7826cd7970b69e$var$reN","$8b7826cd7970b69e$var$reP","$8b7826cd7970b69e$var$reHex","$8b7826cd7970b69e$var$reRgbInteger","RegExp","$8b7826cd7970b69e$var$reRgbPercent","$8b7826cd7970b69e$var$reRgbaInteger","$8b7826cd7970b69e$var$reRgbaPercent","$8b7826cd7970b69e$var$reHslPercent","$8b7826cd7970b69e$var$reHslaPercent","$8b7826cd7970b69e$var$named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","$8b7826cd7970b69e$var$color_formatHex","rgb","formatHex","$8b7826cd7970b69e$var$color_formatRgb","formatRgb","$8b7826cd7970b69e$export$2e2bcd8739ae039","format","l","toLowerCase","exec","parseInt","$8b7826cd7970b69e$var$rgbn","$8b7826cd7970b69e$export$5e05a94393ac29e3","$8b7826cd7970b69e$var$rgba","$8b7826cd7970b69e$var$hsla","r","g","$8b7826cd7970b69e$export$8972dc0e6ad9238f","opacity","$8b7826cd7970b69e$var$rgb_formatHex","$8b7826cd7970b69e$var$hex","$8b7826cd7970b69e$var$rgb_formatRgb","$8b7826cd7970b69e$var$clampa","$8b7826cd7970b69e$var$clampi","isNaN","round","toString","$8b7826cd7970b69e$var$Hsl","$8b7826cd7970b69e$export$8133dc3fa904d6d1","$8b7826cd7970b69e$var$clamph","$8b7826cd7970b69e$var$clampt","$8b7826cd7970b69e$var$hsl2rgb","m2","$dd5733431a2d0880$export$4e41033bfeec1a4c","v0","v1","v2","v3","t3","channels","assign","displayable","hex","formatHex8","formatHsl","brighter","pow","darker","clamp","$78a660cd70c52f6f$export$2e2bcd8739ae039","$529dc8928f6a4077$var$linear","$529dc8928f6a4077$export$a7ebe8cc6aaf8d37","$529dc8928f6a4077$export$2e2bcd8739ae039","$529dc8928f6a4077$var$exponential","$e7e88f7f6ed95eef$export$2e2bcd8739ae039","rgbGamma","color","end","gamma","$e7e88f7f6ed95eef$var$rgbSpline","spline","colors","values","$020916edd93bff72$var$reA","$020916edd93bff72$var$reB","source","$020916edd93bff72$export$2e2bcd8739ae039","am","bm","bs","bi","lastIndex","$020916edd93bff72$var$one","$020916edd93bff72$var$zero","$8a713565676b726d$export$2e2bcd8739ae039","$2a651cfc4e49b53d$var$attrRemove","$2a651cfc4e49b53d$var$attrRemoveNS","$2a651cfc4e49b53d$var$attrConstant","interpolate","value1","string00","interpolate0","string1","string0","$2a651cfc4e49b53d$var$attrConstantNS","$2a651cfc4e49b53d$var$attrFunction","string10","$2a651cfc4e49b53d$var$attrFunctionNS","$cad13035adb29669$var$attrTweenNS","$cad13035adb29669$var$attrInterpolateNS","_value","$cad13035adb29669$var$attrTween","$cad13035adb29669$var$attrInterpolate","$09cd57996bd81614$var$delayFunction","$09cd57996bd81614$var$delayConstant","$9c9f124117d5bf14$var$durationFunction","$9c9f124117d5bf14$var$durationConstant","$13be595fcf5febb7$var$Selection","$d0bf366fdef4c332$var$styleRemove","$a4d5b9ef4f9cfabb$var$id","$a4d5b9ef4f9cfabb$export$be58926105124dd4","_name","$a4d5b9ef4f9cfabb$export$9ffd10a3fbdc175b","$a4d5b9ef4f9cfabb$var$selection_prototype","inherit","id0","id1","on0","on1","sit","every","$fd664209e896113c$var$start","$fd664209e896113c$var$onFunction","attrTween","styleTween","$d0bf366fdef4c332$var$styleNull","$d0bf366fdef4c332$var$styleFunction","listener0","$d0bf366fdef4c332$var$styleMaybeRemove","$d0bf366fdef4c332$var$styleConstant","$83672080502c9717$var$styleInterpolate","$83672080502c9717$var$styleTween","$e62b6dd5e7df40e7$var$textFunction","$e62b6dd5e7df40e7$var$textConstant","textTween","$64d823b28aa7019a$var$textInterpolate","$64d823b28aa7019a$var$textTween","$8ea7852b6976e6d1$var$easeConstant","easeVarying","$9d186bb80d60f6c9$var$easeVarying","Promise","resolve","reject","cancel","interrupt","$b5b43281074f9351$var$defaultTiming","$b5b43281074f9351$var$inherit","$f649c99b97df4dce$export$5118fc7a1e64441b","$f649c99b97df4dce$export$5be5f5e804d0b60c","$f649c99b97df4dce$export$d6ded66933892ed3","$7c028b8201e48c5a$var$e10","$7c028b8201e48c5a$var$e5","$7c028b8201e48c5a$var$e2","$7c028b8201e48c5a$var$tickSpec","count","step","power","log10","error","factor","i2","inc","$7c028b8201e48c5a$export$2e2bcd8739ae039","reverse","ticks","$7c028b8201e48c5a$export$bc64d00cc98e7e95","$7c028b8201e48c5a$export$81087d9b915d4ede","$63cbeabc75241824$export$2e2bcd8739ae039","$3acd474ceacf8a38$export$2e2bcd8739ae039","$0ae9019609d046a1$export$2e2bcd8739ae039","compare1","compare2","delta","left","lo","hi","mid","$0ae9019609d046a1$var$zero","$a6e17c0ec55d7735$var$ascendingBisect","$a6e17c0ec55d7735$export$4d945ad3ad5751b0","right","center","$a6e17c0ec55d7735$export$2e2bcd8739ae039","$7bfe9c15ff8ebf5c$export$2e2bcd8739ae039","$7bfe9c15ff8ebf5c$export$5cd576d1827d40c8","ArrayBuffer","isView","DataView","$23bbf03008765dcc$export$15d09067c6a5ee49","nb","na","$8385105b4986daed$export$2e2bcd8739ae039","$063cbb46f86ba478$export$2e2bcd8739ae039","setTime","$cf536f4647e343d9$export$2e2bcd8739ae039","valueOf","$c0f8a9efb1caa699$export$2e2bcd8739ae039","$6cab7aea8ef8b40b$export$2e2bcd8739ae039","$afe237385175446a$var$unit","$afe237385175446a$export$f0954fd7d5368655","$afe237385175446a$var$normalize","$afe237385175446a$var$bimap","domain","range","d0","d1","r0","r1","$afe237385175446a$var$polymap","$afe237385175446a$export$6b468dcfb64c653c","untransform","unknown","piecewise","output","input","rescale","invert","rangeRound","u","$5b694e64f5326630$export$23c7bb9e6558da2a","$0e9bdd5fefd6a5f6$export$8f8e23dd27dc19f5","p","toExponential","coefficient","$1589426e0436f502$export$2e2bcd8739ae039","abs","$95e9c493347f9308$export$2e2bcd8739ae039","numerals","replace","$fe491ef31c379765$export$6863724d9a42263","$d5828d241e6c1f75$var$re","$d5828d241e6c1f75$export$2e2bcd8739ae039","specifier","$d5828d241e6c1f75$export$963aac351db36ed4","fill","align","sign","symbol","zero","width","comma","precision","$dd689cef4c920567$export$2e2bcd8739ae039","out","$458fe095863893c0$export$2e2bcd8739ae039","exponent","$03e2e7837f70dba5$export$2e2bcd8739ae039","toFixed","toLocaleString","toPrecision","toUpperCase","$1bc532601db445af$export$2e2bcd8739ae039","$54a757fa53542946$var$locale","$54a757fa53542946$export$d9468344d3651243","$54a757fa53542946$export$8d85692a469dde6f","$e8b109bb95cf9845$var$map","$e8b109bb95cf9845$var$prefixes","$e8b109bb95cf9845$export$2e2bcd8739ae039","locale","grouping","thousands","Number","substring","currencyPrefix","currency","currencySuffix","decimal","percent","minus","nan","newFormat","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","padding","formatPrefix","$f4e256a3cb9c44da$export$2e2bcd8739ae039","$162912dc121d0934$export$2e2bcd8739ae039","$d27f2d3c2137f747$export$2e2bcd8739ae039","$b0a07d06c8b316c1$export$2e2bcd8739ae039","$db1dd3c66a0cbf94$export$2e2bcd8739ae039","tickFormat","nice","prestep","maxIter","ceil","$db1dd3c66a0cbf94$export$16a5d4b4a61a274d","$78ae820aa9ececfa$export$fd293b15f47e270","$78ae820aa9ececfa$export$b67359430d3b1b2","Float32Array","random","$879d8210211d0bfa$export$185802fd694ee1f5","$879d8210211d0bfa$export$b4ad467060d346fe","$879d8210211d0bfa$export$9cd59f9826255e47","$879d8210211d0bfa$export$784d13d8ee351f07","$879d8210211d0bfa$export$a82be99ed2a44a7d","m00","m01","m02","m10","m11","m12","m20","m21","m22","$879d8210211d0bfa$export$adaa4cf7ef1b65be","$879d8210211d0bfa$export$f0954fd7d5368655","$879d8210211d0bfa$export$9cb09a71b7d66923","a01","a02","a12","$879d8210211d0bfa$export$6897c284b6f9f4dc","a00","a10","a11","a20","a21","a22","b01","b11","b21","det","$879d8210211d0bfa$export$33f3c024b4ae00a1","$879d8210211d0bfa$export$a04698f914c55ed9","$879d8210211d0bfa$export$2060d2db72cce88f","b00","b02","b10","b12","b20","b22","$879d8210211d0bfa$export$d73ee8ef04f5226a","$879d8210211d0bfa$export$bb628a54ab399bc9","rad","sin","cos","$879d8210211d0bfa$export$dcdf75081b88279d","$879d8210211d0bfa$export$bc9e79e74e9fddf6","$879d8210211d0bfa$export$926fc125ff3c666c","$879d8210211d0bfa$export$832ca188ffb1955d","$879d8210211d0bfa$export$68f5977575fae9bf","$879d8210211d0bfa$export$2ff2bbe382249af7","x2","y2","z2","xx","yx","yy","zx","zy","zz","wx","wy","wz","$879d8210211d0bfa$export$966b25ab6dc1b1f9","a03","a13","a23","a30","a31","a32","a33","b03","b04","b05","b06","b07","b08","b09","$879d8210211d0bfa$export$b74061472fe7c07","height","$879d8210211d0bfa$export$42d51816ce590c93","$879d8210211d0bfa$export$326827e8268e9cdb","hypot","$879d8210211d0bfa$export$e16d8520af44a096","$879d8210211d0bfa$export$4e2d2ead65e5f7e3","$879d8210211d0bfa$export$c697bed75648cdb7","$879d8210211d0bfa$export$553579f63bdd7137","$879d8210211d0bfa$export$f2599a5cf1109d8","$879d8210211d0bfa$export$e9bab7fafb253603","a0","a1","a2","a3","a4","a5","a6","a7","a8","b0","b1","b2","b3","b4","b5","b6","b7","b8","$879d8210211d0bfa$export$6e3a27864ab166fe","$879d8210211d0bfa$export$f93b5905241a7cca","$cmoHh","parcelRequire","pool","math","nodecrypto","rngname","startdenom","significance","overflow","mask","seedrandom","shortseed","mixkey","flatten","entropy","tostring","randomBytes","Uint8Array","crypto","msCrypto","getRandomValues","browser","navigator","plugins","screen","autoseed","arc4","ARC4","S","pass","is_math_call","keylen","obj","depth","prop","typ","smear","stringseed","fromCharCode","$d7e73366feb50558$exports","ex","$euRi5","$hDsEw","$3J2Zm","$6Px8M","$lDm0S","$2725bdcb11510985$exports","RNG","_seed","_opts","strSeed","RNGFunction","_RNG","thunk","_this","_rng","$12e27b7b937bcc47$var$_inheritsLoose","_proto","$12e27b7b937bcc47$var$_createClass","$12e27b7b937bcc47$export$e6cb7150fd4ac6e7","_args$","arg0","$12e27b7b937bcc47$var$uniform","numberValidator","num","NumberValidator","isInt","isInteger","isPositive","lessThan","greaterThanOrEqual","greaterThan","$12e27b7b937bcc47$var$uniformInt","$12e27b7b937bcc47$var$uniformBoolean","logFactorialTable","logFactorial","RNGMathRandom","Random","rng","_patch","_cache","uniform","uniformInt","integer","bool","uniformBoolean","_memoize","normal","mu","sigma","log","logNormal","exp","bernoulli","binomial","geometric","invLogP","poisson","lambda","expMean","smu","invAlpha","vR","us","_logFactorial","exponential","irwinHall","sum","bates","pareto","alpha","use","RNGFactory","patch","unpatch","choice","array","label","getter","distribution","$914edae09cbfb4c0$export$35431a0e47022de1","capture","passive","$914edae09cbfb4c0$export$2e2bcd8739ae039","preventDefault","stopImmediatePropagation","$905558291b0c219c$export$2e2bcd8739ae039","view","root","__noselect","MozUserSelect","$905558291b0c219c$export$833237748009e1e1","noclick","$e4199827a75856fd$var$cosh","$e4199827a75856fd$export$2e2bcd8739ae039","zoomRho","rho","rho2","rho4","zoom","p0","p1","ux0","uy0","w0","ux1","uy1","w1","dx","dy","d2","coshr0","$e4199827a75856fd$var$sinh","SQRT2","_1","_2","$c447ae86a8320d39$export$2e2bcd8739ae039","sourceEvent","$1be794af963d8372$export$2e2bcd8739ae039","currentTarget","ownerSVGElement","createSVGPoint","point","clientX","clientY","matrixTransform","getScreenCTM","inverse","getBoundingClientRect","rect","clientLeft","top","clientTop","pageX","pageY","$4aeb7326706b2467$export$2e2bcd8739ae039","$7a8a51016481311d$export$2e2bcd8739ae039","target","defineProperties","enumerable","configurable","$a3c1094a2e8782d7$export$563a914cafbdc389","applyX","applyY","location","invertX","invertY","rescaleX","rescaleY","$a3c1094a2e8782d7$export$f0954fd7d5368655","$b2e4663bd9fbfcc1$export$2e2561858db9bf47","$b2e4663bd9fbfcc1$export$2e2bcd8739ae039","$91e02783b8b1c24a$var$defaultFilter","ctrlKey","button","$91e02783b8b1c24a$var$defaultExtent","SVGElement","hasAttribute","viewBox","clientWidth","clientHeight","$91e02783b8b1c24a$var$defaultTransform","__zoom","$91e02783b8b1c24a$var$defaultWheelDelta","deltaY","deltaMode","$91e02783b8b1c24a$var$defaultTouchable","maxTouchPoints","$91e02783b8b1c24a$var$defaultConstrain","extent","translateExtent","dx0","dx1","dy0","dy1","$91e02783b8b1c24a$export$2e2bcd8739ae039","touchstarting","touchfirst","touchending","constrain","wheelDelta","touchable","scaleExtent","listeners","touchDelay","wheelDelay","clickDistance2","tapDistance","wheeled","mousedowned","dblclicked","touchstarted","touchmoved","touchended","centroid","gesture","clean","__zooming","Gesture","taps","wheel","mouse","moved","x0","y0","changedTouches","k1","shiftKey","started","touches","identifier","touch0","touch1","l0","l1","dp","dl","collection","scaleBy","scaleTo","translateBy","translateTo","emit","clickDistance","$24461355656d8852$export$2e2bcd8739ae039","valueof","UISVG","UICSS","GLBench","gl","settings","css","paramLogger","chartLogger","chartLen","chartHz","cpuAccums","gpuAccums","activeAccums","chart","updateUI","forEach","display","trackGPU","detected","finished","isFramebuffer","frameId","rafId","loop","cancelAnimationFrame","glFinish","async","getError","dt","addProfiler","fn","self1","getExtension","ext","withoutUI","dom","body","elm","insertAdjacentHTML","logger","classes","getElementsByClassName","cpu","gpu","mem","fps","totalTime","strokeDasharray","circularId","points","len","addUI","nextFrame","paramFrame","paramTime","frameCount","memory","usedJSHeapSize","all","then","chartFrame","timespan","chartTime","hz","begin","updateAccums","nameId","$38806e4e35e056bb$var$array","$575c8f74500ed33b$export$2e2bcd8739ae039","$834b38f205523964$var$top","$834b38f205523964$var$right","$834b38f205523964$var$bottom","$834b38f205523964$var$left","$834b38f205523964$var$epsilon","$834b38f205523964$var$translateX","$834b38f205523964$var$translateY","$834b38f205523964$var$number","$834b38f205523964$var$center","offset","bandwidth","$834b38f205523964$var$entering","__axis","$834b38f205523964$var$axis","orient","tickArguments","tickValues","tickSizeInner","tickSizeOuter","tickPadding","devicePixelRatio","axis","spacing","range0","range1","position","path","tickExit","tickEnter","line","isFinite","tickSize","$5c8970f4694d4107$var$abs","$5c8970f4694d4107$var$max","$5c8970f4694d4107$var$min","$5c8970f4694d4107$var$number1","$5c8970f4694d4107$var$number2","$5c8970f4694d4107$var$type","$be1b12895c7da8cf$var$add","tree","xm","ym","xp","yp","bottom","_root","leaf","_x0","_y0","x1","_x1","y1","_y1","_x","_y","$75f49fd5af8d23e7$export$2e2bcd8739ae039","$e002de94352e4f40$export$e6fafc98131d2a44","$6a00482922687876$export$6f0a21aeb844a64c","$977cc0295d3f184c$export$2e2bcd8739ae039","$977cc0295d3f184c$var$Quadtree","addAll","$977cc0295d3f184c$var$leaf_copy","$977cc0295d3f184c$var$treeProto","cover","xz","yz","visit","radius","x3","y3","quads","retainer","removeAll","visitAfter","$35da740d59af89ba$var$CHUNK_SIZE","$35da740d59af89ba$var$data","links","clusters","clusterStats","clusterDistribution","unfilteredClusters","stats","recalculate","clusterMedian","clusterMean","assortativity","transitivity","triangleCount","meanPairwiseDistance","medianPairwiseDistance","$35da740d59af89ba$var$updatedGraph","$35da740d59af89ba$var$graphCounter","$35da740d59af89ba$var$graphElements","$35da740d59af89ba$var$recalculate","$35da740d59af89ba$var$threshold","$35da740d59af89ba$var$ALL_LINKS","$35da740d59af89ba$var$unfilteredLinks","$35da740d59af89ba$var$ALL_NODES","Set","$35da740d59af89ba$var$unfilteredNodes","$35da740d59af89ba$var$nodesMap","$35da740d59af89ba$var$individualData","$35da740d59af89ba$var$individualDataCategories","$35da740d59af89ba$var$piData","$35da740d59af89ba$var$histogramBarCount","$35da740d59af89ba$var$stepCounter","$35da740d59af89ba$var$autoZoom","$35da740d59af89ba$var$thresholdValid","$35da740d59af89ba$var$nodeViews","$35da740d59af89ba$var$PAIRWISE_GRAPH_CANVAS","getElementById","$35da740d59af89ba$var$PAIRWISE_GRAPH_CONFIG","backgroundColor","nodeColor","nodeSize","linkColor","linkArrows","linkWidth","linkVisibilityMinTransparency","randomSeed","events","onClick","onZoomStart","userDriven","simulation","repulsion","repulsionFromMouse","linkDistRandomVariationRange","scaleNodesOnZoom","friction","linkDistance","gravity","decay","linkSpring","$35da740d59af89ba$var$updateData","console","$35da740d59af89ba$var$log","clear","allLinksKeys","keys","link","$35da740d59af89ba$var$addLinkToData","$35da740d59af89ba$var$getClusterData","$35da740d59af89ba$var$setNodeDataFromMap","views","$35da740d59af89ba$var$addView","$35da740d59af89ba$var$PAIRWISE_GRAPH","setData","fitView","$35da740d59af89ba$var$generateSummaryStatistics","$35da740d59af89ba$var$generateHistogram","$35da740d59af89ba$var$generateClusterGraph","viewID","nodesKeys","viewValues","correspondingIndividual","individualDemoKeys","individualDemoValues","parseFloat","filteredNodes","getColor","sourceIndividualID","adjacentNodes","individualID","targetIndividualID","$35da740d59af89ba$var$updateGraphElement","$35da740d59af89ba$var$clusterPiGraph","centerAt","innerWidth","innerHeight","$35da740d59af89ba$var$updateForm","files","$35da740d59af89ba$var$getIndividualDemoData","$35da740d59af89ba$var$getPairwiseDistances","alert","file","$35da740d59af89ba$var$readFileAsync","decoder","TextDecoder","splitString","byteLength","lines","decode","columns","asText","reader","FileReader","onload","onerror","readAsText","readAsArrayBuffer","clusterSizes","nodesIterator","cluster","starterNode","queue","clusterNodes","node1","node2","node3","val","graphData","graphWidth","graphHeight","margin","$22b18e23564de7e8$exports","scaleLinear","bins","bin","thresholds","histogram","$834b38f205523964$export$2749afb169a520d2","median","mean","reduce","triples","unfilteredNodesArray","adjacentNodeCount","unfilteredLinksArray","endsWith","delimiter","categories","elements","dataEntry","dataEntryObject","sortedElements","$35da740d59af89ba$var$generateNodeViews","container","htmlFor","allOption","option","otherIndex","otherText","$35da740d59af89ba$var$thresholdTimeout","viewName","viewElements","selectedIndex","viewEntryElement","viewPreview","viewButton","viewColor","viewDelete","$35da740d59af89ba$var$deleteView","viewDeleteIcon","$35da740d59af89ba$var$updateThresholdLabel","$35da740d59af89ba$var$basetime","message","reset","ForceGraph","d3Force","forceManyBody","strength","forceCollide","forceCenter","enableNodeDrag","nodeCanvasObject","ctx","globalScale","fillStyle","beginPath","arc","textAlign","textBaseline","font","fillText"],"version":3,"file":"index.9c8b24ec.js.map"}